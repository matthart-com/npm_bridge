/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";const e="xregexp",t={astral:!1,namespacing:!0},n={};let r={},s={};const o=[],i="default",a="class",c={default:/\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9]\d*|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|\(\?(?:[:=!]|<[=!])|[?*+]\?|{\d+(?:,\d*)?}\??|[\s\S]/,class:/\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[\dA-Fa-f]{2}|u(?:[\dA-Fa-f]{4}|{[\dA-Fa-f]+})|c[A-Za-z]|[\s\S])|[\s\S]/},u=/\$(?:\{([^\}]+)\}|<([^>]+)>|(\d\d?|[\s\S]?))/g,d=void 0===/()??/.exec("")[1],l=void 0!==/x/.flags;function p(e){let t=!0;try{new RegExp("",e),"y"===e&&".."===".a".replace(new RegExp("a","gy"),".")&&(t=!1)}catch(e){t=!1}return t}const f=p("d"),h=p("s"),m=p("u"),S=p("y"),y={d:f,g:!0,i:!0,m:!0,s:h,u:m,y:S},g=h?/[^dgimsuy]+/g:/[^dgimuy]+/g;function b(t,n,r,s,o){if(t[e]={captureNames:n},o)return t;if(t.__proto__)t.__proto__=$.prototype;else for(const e in $.prototype)t[e]=$.prototype[e];return t[e].source=r,t[e].flags=s?s.split("").sort().join(""):s,t}function v(e){return e.replace(/([\s\S])(?=[\s\S]*\1)/g,"")}function E(t,n){if(!$.isRegExp(t))throw new TypeError("Type RegExp expected");const r=t[e]||{};let s=function(e){return l?e.flags:/\/([a-z]*)$/i.exec(RegExp.prototype.toString.call(e))[1]}(t),o="",i="",a=null,c=null;return(n=n||{}).removeG&&(i+="g"),n.removeY&&(i+="y"),i&&(s=s.replace(new RegExp(`[${i}]+`,"g"),"")),n.addG&&(o+="g"),n.addY&&(o+="y"),o&&(s=v(s+o)),n.isInternalOnly||(void 0!==r.source&&(a=r.source),null!=r.flags&&(c=o?v(r.flags+o):r.flags)),b(new RegExp(n.source||t.source,s),function(t){return!(!t[e]||!t[e].captureNames)}(t)?r.captureNames.slice(0):null,a,c,n.isInternalOnly)}function A(e){return parseInt(e,16)}function T(e,t,n){const r=e.index+e[0].length,s=e.input[e.index-1],o=e.input[r];return/^[()|]$/.test(s)||/^[()|]$/.test(o)||0===e.index||r===e.input.length||/\(\?(?:[:=!]|<[=!])$/.test(e.input.substring(e.index-4,e.index))||function(e,t,n){const r="\\(\\?#[^)]*\\)",s="[?*+]|{\\d+(?:,\\d*)?}";return(n.includes("x")?new RegExp(`^(?:\\s|#[^#\\n]*|${r})*(?:${s})`):new RegExp(`^(?:${r})*(?:${s})`)).test(e.slice(t))}(e.input,r,n)?"":"(?:)"}function w(e){return parseInt(e,10).toString(16)}function k(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function I(e){if(null==e)throw new TypeError("Cannot convert null or undefined to object");return e}function P(e){for(;e.length<4;)e=`0${e}`;return e}function N(e){const t={};return k(e,"String")?($.forEach(e,/[^\s,]+/,(e=>{t[e]=!0})),t):e}function O(e){if(!/^[\w$]$/.test(e))throw new Error("Flag must be a single character A-Za-z0-9_$");y[e]=!0}function _(e,t,n,r,s){let i=o.length;const a=e[n];let c,u,d=null;for(;i--;)if(u=o[i],!(u.leadChar&&u.leadChar!==a||u.scope!==r&&"all"!==u.scope||u.flag&&!t.includes(u.flag))&&(c=$.exec(e,u.regex,n,"sticky"),c)){d={matchLength:c[0].length,output:u.handler.call(s,c,r,t),reparse:u.reparse};break}return d}function x(e){t.astral=e}function C(e){t.namespacing=e}function $(e,t){if($.isRegExp(e)){if(void 0!==t)throw new TypeError("Cannot supply flags when copying a RegExp");return E(e)}if(e=void 0===e?"":String(e),t=void 0===t?"":String(t),$.isInstalled("astral")&&!t.includes("A")&&(t+="A"),s[e]||(s[e]={}),!s[e][t]){const n={hasNamedCapture:!1,captureNames:[]};let r,o=i,u="",d=0;const l=function(e,t){if(v(t)!==t)throw new SyntaxError(`Invalid duplicate regex flag ${t}`);e=e.replace(/^\(\?([\w$]+)\)/,((e,n)=>{if(/[dgy]/.test(n))throw new SyntaxError(`Cannot use flags dgy in mode modifier ${e}`);return t=v(t+n),""}));for(const e of t)if(!y[e])throw new SyntaxError(`Unknown regex flag ${e}`);return{pattern:e,flags:t}}(e,t);let p=l.pattern;const f=l.flags;for(;d<p.length;){do{r=_(p,f,d,o,n),r&&r.reparse&&(p=p.slice(0,d)+r.output+p.slice(d+r.matchLength))}while(r&&r.reparse);if(r)u+=r.output,d+=r.matchLength||1;else{const[e]=$.exec(p,c[o],d,"sticky");u+=e,d+=e.length,"["===e&&o===i?o=a:"]"===e&&o===a&&(o=i)}}s[e][t]={pattern:u.replace(/(?:\(\?:\))+/g,"(?:)"),flags:f.replace(g,""),captures:n.hasNamedCapture?n.captureNames:null}}const n=s[e][t];return b(new RegExp(n.pattern,n.flags),n.captures,e,t)}$.prototype=new RegExp,$.version="5.1.1",$._clipDuplicates=v,$._hasNativeFlag=p,$._dec=A,$._hex=w,$._pad4=P,$.addToken=(e,t,n)=>{n=n||{};let{optionalFlags:r}=n;if(n.flag&&O(n.flag),r){r=r.split("");for(const e of r)O(e)}o.push({regex:E(e,{addG:!0,addY:S,isInternalOnly:!0}),handler:t,scope:n.scope||i,flag:n.flag,reparse:n.reparse,leadChar:n.leadChar}),$.cache.flush("patterns")},$.cache=(e,t)=>(r[e]||(r[e]={}),r[e][t]||(r[e][t]=$(e,t))),$.cache.flush=e=>{"patterns"===e?s={}:r={}},$.escape=e=>String(I(e)).replace(/[\\\[\]{}()*+?.^$|]/g,"\\$&").replace(/[\s#\-,]/g,(e=>`\\u${P(w(e.charCodeAt(0)))}`)),$.exec=(t,r,s,o)=>{let i,a="g",c=!1,u=!1;c=S&&!!(o||r.sticky&&!1!==o),c?a+="y":o&&(u=!0,a+="FakeY"),r[e]=r[e]||{};const d=r[e][a]||(r[e][a]=E(r,{addG:!0,addY:c,source:u?`${r.source}|()`:void 0,removeY:!1===o,isInternalOnly:!0}));return s=s||0,d.lastIndex=s,i=n.exec.call(d,t),u&&i&&""===i.pop()&&(i=null),r.global&&(r.lastIndex=i?d.lastIndex:0),i},$.forEach=(e,t,n)=>{let r,s=0,o=-1;for(;r=$.exec(e,t,s);)n(r,++o,e,t),s=r.index+(r[0].length||1)},$.globalize=e=>E(e,{addG:!0}),$.install=e=>{e=N(e),!t.astral&&e.astral&&x(!0),!t.namespacing&&e.namespacing&&C(!0)},$.isInstalled=e=>!!t[e],$.isRegExp=e=>"[object RegExp]"===Object.prototype.toString.call(e),$.match=(t,n,r)=>{const s=n.global&&"one"!==r||"all"===r,o=(s?"g":"")+(n.sticky?"y":"")||"noGY";n[e]=n[e]||{};const i=n[e][o]||(n[e][o]=E(n,{addG:!!s,removeG:"one"===r,isInternalOnly:!0})),a=String(I(t)).match(i);return n.global&&(n.lastIndex="one"===r&&a?a.index+a[0].length:0),s?a||[]:a&&a[0]},$.matchChain=(e,t)=>function e(n,r){const s=t[r].regex?t[r]:{regex:t[r]},o=[];function i(e){if(s.backref){const t=`Backreference to undefined group: ${s.backref}`,n=isNaN(s.backref);if(n&&$.isInstalled("namespacing")){if(!e.groups||!(s.backref in e.groups))throw new ReferenceError(t)}else if(!e.hasOwnProperty(s.backref))throw new ReferenceError(t);const r=n&&$.isInstalled("namespacing")?e.groups[s.backref]:e[s.backref];o.push(r||"")}else o.push(e[0])}for(const e of n)$.forEach(e,s.regex,i);return r!==t.length-1&&o.length?e(o,r+1):o}([e],0),$.replace=(t,r,s,o)=>{const i=$.isRegExp(r),a=r.global&&"one"!==o||"all"===o,c=(a?"g":"")+(r.sticky?"y":"")||"noGY";let u=r;i?(r[e]=r[e]||{},u=r[e][c]||(r[e][c]=E(r,{addG:!!a,removeG:"one"===o,isInternalOnly:!0}))):a&&(u=new RegExp($.escape(String(r)),"g"));const d=n.replace.call(I(t),u,s);return i&&r.global&&(r.lastIndex=0),d},$.replaceEach=(e,t)=>{for(const n of t)e=$.replace(e,n[0],n[1],n[2]);return e},$.split=(e,t,r)=>n.split.call(I(e),t,r),$.test=(e,t,n,r)=>!!$.exec(e,t,n,r),$.uninstall=e=>{e=N(e),t.astral&&e.astral&&x(!1),t.namespacing&&e.namespacing&&C(!1)},$.union=(t,n,r)=>{const s=(r=r||{}).conjunction||"or";let o,i,a=0;function c(e,t,n){const r=i[a-o];if(t){if(++a,r)return`(?<${r}>`}else if(n)return`\\${+n+o}`;return e}if(!k(t,"Array")||!t.length)throw new TypeError("Must provide a nonempty array of patterns to merge");const u=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,d=[];for(const n of t)$.isRegExp(n)?(o=a,i=n[e]&&n[e].captureNames||[],d.push($(n.source).source.replace(u,c))):d.push($.escape(n));const l="none"===s?"":"|";return $(d.join(l),n)},n.exec=function(t){const n=this.lastIndex,r=RegExp.prototype.exec.apply(this,arguments);if(r){if(!d&&r.length>1&&r.includes("")){const e=E(this,{removeG:!0,isInternalOnly:!0});String(t).slice(r.index).replace(e,((...e)=>{const t=e.length;for(let n=1;n<t-2;++n)void 0===e[n]&&(r[n]=void 0)}))}if(this[e]&&this[e].captureNames){let t=r;$.isInstalled("namespacing")&&(r.groups=Object.create(null),t=r.groups);for(let n=1;n<r.length;++n){const s=this[e].captureNames[n-1];s&&(t[s]=r[n])}}else!r.groups&&$.isInstalled("namespacing")&&(r.groups=void 0);this.global&&!r[0].length&&this.lastIndex>r.index&&(this.lastIndex=r.index)}return this.global||(this.lastIndex=n),r},n.test=function(e){return!!n.exec.call(this,e)},n.match=function(e){if($.isRegExp(e)){if(e.global){const t=String.prototype.match.apply(this,arguments);return e.lastIndex=0,t}}else e=new RegExp(e);return n.exec.call(e,I(this))},n.replace=function(t,n){const r=$.isRegExp(t);let s,o,i;return r?(t[e]&&({captureNames:o}=t[e]),s=t.lastIndex):t+="",i=k(n,"Function")?String(this).replace(t,((...e)=>{if(o){let t;$.isInstalled("namespacing")?(t=Object.create(null),e.push(t)):(e[0]=new String(e[0]),[t]=e);for(let n=0;n<o.length;++n)o[n]&&(t[o[n]]=e[n+1])}return n(...e)})):String(I(this)).replace(t,((...e)=>String(n).replace(u,(function(t,n,r,s){n=n||r;const i=k(e[e.length-1],"Object")?4:3,a=e.length-i;if(n){if(/^\d+$/.test(n)){const t=+n;if(t<=a)return e[t]||""}const r=o?o.indexOf(n):-1;if(r<0)throw new SyntaxError(`Backreference to undefined group ${t}`);return e[r+1]||""}if(""===s||" "===s)throw new SyntaxError(`Invalid token ${t}`);if("&"===s||0==+s)return e[0];if("$"===s)return"$";if("`"===s)return e[e.length-1].slice(0,e[e.length-2]);if("'"===s)return e[e.length-1].slice(e[e.length-2]+e[0].length);if(s=+s,!isNaN(s)){if(s>a)throw new SyntaxError(`Backreference to undefined group ${t}`);return e[s]||""}throw new SyntaxError(`Invalid token ${t}`)})))),r&&(t.global?t.lastIndex=0:t.lastIndex=s),i},n.split=function(e,t){if(!$.isRegExp(e))return String.prototype.split.apply(this,arguments);const n=String(this),r=[],s=e.lastIndex;let o,i=0;return t=(void 0===t?-1:t)>>>0,$.forEach(n,e,(e=>{e.index+e[0].length>i&&(r.push(n.slice(i,e.index)),e.length>1&&e.index<n.length&&Array.prototype.push.apply(r,e.slice(1)),o=e[0].length,i=e.index+o)})),i===n.length?e.test("")&&!o||r.push(""):r.push(n.slice(i)),e.lastIndex=s,r.length>t?r.slice(0,t):r},$.addToken(/\\([ABCE-RTUVXYZaeg-mopqyz]|c(?![A-Za-z])|u(?![\dA-Fa-f]{4}|{[\dA-Fa-f]+})|x(?![\dA-Fa-f]{2}))/,((e,t)=>{if("B"===e[1]&&t===i)return e[0];throw new SyntaxError(`Invalid escape ${e[0]}`)}),{scope:"all",leadChar:"\\"}),$.addToken(/\\u{([\dA-Fa-f]+)}/,((e,t,n)=>{const r=A(e[1]);if(r>1114111)throw new SyntaxError(`Invalid Unicode code point ${e[0]}`);if(r<=65535)return`\\u${P(w(r))}`;if(m&&n.includes("u"))return e[0];throw new SyntaxError("Cannot use Unicode code point above \\u{FFFF} without flag u")}),{scope:"all",leadChar:"\\"}),$.addToken(/\(\?#[^)]*\)/,T,{leadChar:"("}),$.addToken(/\s+|#[^\n]*\n?/,T,{flag:"x"}),h||$.addToken(/\./,(()=>"[\\s\\S]"),{flag:"s",leadChar:"."}),$.addToken(/\\k<([^>]+)>/,(function(e){const t=isNaN(e[1])?this.captureNames.indexOf(e[1])+1:+e[1],n=e.index+e[0].length;if(!t||t>this.captureNames.length)throw new SyntaxError(`Backreference to undefined group ${e[0]}`);return`\\${t}${n===e.input.length||isNaN(e.input[n])?"":"(?:)"}`}),{leadChar:"\\"}),$.addToken(/\\(\d+)/,(function(e,t){if(!(t===i&&/^[1-9]/.test(e[1])&&+e[1]<=this.captureNames.length)&&"0"!==e[1])throw new SyntaxError(`Cannot use octal escape or backreference to undefined group ${e[0]}`);return e[0]}),{scope:"all",leadChar:"\\"}),$.addToken(/\(\?P?<([\p{ID_Start}$_][\p{ID_Continue}$_\u200C\u200D]*)>/u,(function(e){if(!$.isInstalled("namespacing")&&("length"===e[1]||"__proto__"===e[1]))throw new SyntaxError(`Cannot use reserved word as capture name ${e[0]}`);if(this.captureNames.includes(e[1]))throw new SyntaxError(`Cannot use same name for multiple groups ${e[0]}`);return this.captureNames.push(e[1]),this.hasNamedCapture=!0,"("}),{leadChar:"("}),$.addToken(/\((?!\?)/,(function(e,t,n){return n.includes("n")?"(?:":(this.captureNames.push(null),"(")}),{optionalFlags:"n",leadChar:"("});var D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function R(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function B(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){if(this instanceof e){var n=[null];return n.push.apply(n,arguments),new(Function.bind.apply(t,n))}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var q=[{name:"C",alias:"Other",isBmpLast:!0,bmp:"\0--­͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-؅؜۝܎܏݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏-ࢗ࣢঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠎᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿​-‏‪-‮⁠-⁯⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽-＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￻￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcbd\udcc3-\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udbff][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca0-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\udd73-\udd7a\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00-\udcff\uddf0-\udfff]"},{name:"Cc",alias:"Control",bmp:"\0--"},{name:"Cf",alias:"Format",bmp:"­؀-؅؜۝܏࢐࢑࣢᠎​-‏‪-‮⁠-⁤⁦-⁯\ufeff￹-￻",astral:"\ud804[\udcbd\udccd]|\ud80d[\udc30-\udc38]|\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|\udb40[\udc01\udc20-\udc7f]"},{name:"Cn",alias:"Unassigned",bmp:"͸͹΀-΃΋΍΢԰՗՘֋֌֐׈-׏׫-׮׵-׿܎݋݌޲-޿߻߼࠮࠯࠿࡜࡝࡟࡫-࡯࢏࢒-ࢗ঄঍঎঑঒঩঱঳-঵঺঻৅৆৉৊৏-৖৘-৛৞৤৥৿਀਄਋-਎਑਒਩਱਴਷਺਻਽੃-੆੉੊੎-੐੒-੘੝੟-੥੷-઀઄઎઒઩઱઴઺઻૆૊૎૏૑-૟૤૥૲-૸଀଄଍଎଑଒଩଱଴଺଻୅୆୉୊୎-୔୘-୛୞୤୥୸-஁஄஋-஍஑஖-஘஛஝஠-஢஥-஧஫-஭஺-஽௃-௅௉௎௏௑-௖௘-௥௻-௿఍఑఩఺఻౅౉౎-౔౗౛౜౞౟౤౥౰-౶಍಑಩಴಺಻೅೉೎-೔೗-೜೟೤೥೰ೳ-೿഍഑൅൉൐-൓൤൥඀඄඗-඙඲඼඾඿෇-෉෋-෎෕෗෠-෥෰෱෵-฀฻-฾๜-຀຃຅຋຤຦຾຿໅໇໎໏໚໛໠-໿཈཭-཰྘྽࿍࿛-࿿჆჈-჌჎჏቉቎቏቗቙቞቟኉኎኏኱኶኷኿዁዆዇዗጑጖጗፛፜፽-፿᎚-᎟᏶᏷᏾᏿᚝-᚟᛹-᛿᜖-᜞᜷-᜿᝔-᝟᝭᝱᝴-᝿៞៟៪-៯៺-៿᠚-᠟᡹-᡿᢫-᢯᣶-᣿᤟᤬-᤯᤼-᤿᥁-᥃᥮᥯᥵-᥿᦬-᦯᧊-᧏᧛-᧝᨜᨝᩟᩽᩾᪊-᪏᪚-᪟᪮᪯᫏-᫿᭍-᭏᭿᯴-᯻᰸-᰺᱊-᱌Ᲊ-᲏᲻᲼᳈-᳏᳻-᳿἖἗἞἟὆὇὎὏὘὚὜὞὾὿᾵῅῔῕῜῰῱῵῿⁥⁲⁳₏₝-₟⃁-⃏⃱-⃿↌-↏␧-␿⑋-⑟⭴⭵⮖⳴-⳸⴦⴨-⴬⴮⴯⵨-⵮⵱-⵾⶗-⶟⶧⶯⶷⶿⷇⷏⷗⷟⹞-⹿⺚⻴-⻿⿖-⿯⿼-⿿぀゗゘㄀-㄄㄰㆏㇤-㇯㈟꒍-꒏꓇-꓏꘬-꘿꛸-꛿Ɤ-꟏꟒꟔Ꟛ-꟱꠭-꠯꠺-꠿꡸-꡿꣆-꣍꣚-꣟꥔-꥞꥽-꥿꧎꧚-꧝꧿꨷-꨿꩎꩏꩚꩛꫃-꫚꫷-꬀꬇꬈꬏꬐꬗-꬟꬧꬯꭬-꭯꯮꯯꯺-꯿힤-힯퟇-퟊퟼-퟿﩮﩯﫚-﫿﬇-﬒﬘-﬜﬷﬽﬿﭂﭅﯃-﯒﶐﶑﷈-﷎﷐-﷯︚-︟﹓﹧﹬-﹯﹵﻽﻾＀﾿-￁￈￉￐￑￘￙￝-￟￧￯-￸￾￿",astral:"\ud800[\udc0c\udc27\udc3b\udc3e\udc4e\udc4f\udc5e-\udc7f\udcfb-\udcff\udd03-\udd06\udd34-\udd36\udd8f\udd9d-\udd9f\udda1-\uddcf\uddfe-\ude7f\ude9d-\ude9f\uded1-\udedf\udefc-\udeff\udf24-\udf2c\udf4b-\udf4f\udf7b-\udf7f\udf9e\udfc4-\udfc7\udfd6-\udfff]|\ud801[\udc9e\udc9f\udcaa-\udcaf\udcd4-\udcd7\udcfc-\udcff\udd28-\udd2f\udd64-\udd6e\udd7b\udd8b\udd93\udd96\udda2\uddb2\uddba\uddbd-\uddff\udf37-\udf3f\udf56-\udf5f\udf68-\udf7f\udf86\udfb1\udfbb-\udfff]|\ud802[\udc06\udc07\udc09\udc36\udc39-\udc3b\udc3d\udc3e\udc56\udc9f-\udca6\udcb0-\udcdf\udcf3\udcf6-\udcfa\udd1c-\udd1e\udd3a-\udd3e\udd40-\udd7f\uddb8-\uddbb\uddd0\uddd1\ude04\ude07-\ude0b\ude14\ude18\ude36\ude37\ude3b-\ude3e\ude49-\ude4f\ude59-\ude5f\udea0-\udebf\udee7-\udeea\udef7-\udeff\udf36-\udf38\udf56\udf57\udf73-\udf77\udf92-\udf98\udf9d-\udfa8\udfb0-\udfff]|\ud803[\udc49-\udc7f\udcb3-\udcbf\udcf3-\udcf9\udd28-\udd2f\udd3a-\ude5f\ude7f\udeaa\udeae\udeaf\udeb2-\udeff\udf28-\udf2f\udf5a-\udf6f\udf8a-\udfaf\udfcc-\udfdf\udff7-\udfff]|\ud804[\udc4e-\udc51\udc76-\udc7e\udcc3-\udccc\udcce\udccf\udce9-\udcef\udcfa-\udcff\udd35\udd48-\udd4f\udd77-\udd7f\udde0\uddf5-\uddff\ude12\ude3f-\ude7f\ude87\ude89\ude8e\ude9e\udeaa-\udeaf\udeeb-\udeef\udefa-\udeff\udf04\udf0d\udf0e\udf11\udf12\udf29\udf31\udf34\udf3a\udf45\udf46\udf49\udf4a\udf4e\udf4f\udf51-\udf56\udf58-\udf5c\udf64\udf65\udf6d-\udf6f\udf75-\udfff]|\ud805[\udc5c\udc62-\udc7f\udcc8-\udccf\udcda-\udd7f\uddb6\uddb7\uddde-\uddff\ude45-\ude4f\ude5a-\ude5f\ude6d-\ude7f\udeba-\udebf\udeca-\udeff\udf1b\udf1c\udf2c-\udf2f\udf47-\udfff]|\ud806[\udc3c-\udc9f\udcf3-\udcfe\udd07\udd08\udd0a\udd0b\udd14\udd17\udd36\udd39\udd3a\udd47-\udd4f\udd5a-\udd9f\udda8\udda9\uddd8\uddd9\udde5-\uddff\ude48-\ude4f\udea3-\udeaf\udef9-\udfff]|\ud807[\udc09\udc37\udc46-\udc4f\udc6d-\udc6f\udc90\udc91\udca8\udcb7-\udcff\udd07\udd0a\udd37-\udd39\udd3b\udd3e\udd48-\udd4f\udd5a-\udd5f\udd66\udd69\udd8f\udd92\udd99-\udd9f\uddaa-\udedf\udef9-\udfaf\udfb1-\udfbf\udff2-\udffe]|\ud808[\udf9a-\udfff]|\ud809[\udc6f\udc75-\udc7f\udd44-\udfff]|[\ud80a\ud80e-\ud810\ud812-\ud819\ud824-\ud82a\ud82d\ud82e\ud830-\ud832\ud83f\ud87b-\ud87d\ud87f\ud885-\udb3f\udb41-\udb7f][\udc00-\udfff]|\ud80b[\udc00-\udf8f\udff3-\udfff]|\ud80d[\udc2f\udc39-\udfff]|\ud811[\ude47-\udfff]|\ud81a[\ude39-\ude3f\ude5f\ude6a-\ude6d\udebf\udeca-\udecf\udeee\udeef\udef6-\udeff\udf46-\udf4f\udf5a\udf62\udf78-\udf7c\udf90-\udfff]|\ud81b[\udc00-\ude3f\ude9b-\udeff\udf4b-\udf4e\udf88-\udf8e\udfa0-\udfdf\udfe5-\udfef\udff2-\udfff]|\ud821[\udff8-\udfff]|\ud823[\udcd6-\udcff\udd09-\udfff]|\ud82b[\udc00-\udfef\udff4\udffc\udfff]|\ud82c[\udd23-\udd4f\udd53-\udd63\udd68-\udd6f\udefc-\udfff]|\ud82f[\udc6b-\udc6f\udc7d-\udc7f\udc89-\udc8f\udc9a\udc9b\udca4-\udfff]|\ud833[\udc00-\udeff\udf2e\udf2f\udf47-\udf4f\udfc4-\udfff]|\ud834[\udcf6-\udcff\udd27\udd28\uddeb-\uddff\ude46-\udedf\udef4-\udeff\udf57-\udf5f\udf79-\udfff]|\ud835[\udc55\udc9d\udca0\udca1\udca3\udca4\udca7\udca8\udcad\udcba\udcbc\udcc4\udd06\udd0b\udd0c\udd15\udd1d\udd3a\udd3f\udd45\udd47-\udd49\udd51\udea6\udea7\udfcc\udfcd]|\ud836[\ude8c-\ude9a\udea0\udeb0-\udfff]|\ud837[\udc00-\udeff\udf1f-\udfff]|\ud838[\udc07\udc19\udc1a\udc22\udc25\udc2b-\udcff\udd2d-\udd2f\udd3e\udd3f\udd4a-\udd4d\udd50-\ude8f\udeaf-\udebf\udefa-\udefe\udf00-\udfff]|\ud839[\udc00-\udfdf\udfe7\udfec\udfef\udfff]|\ud83a[\udcc5\udcc6\udcd7-\udcff\udd4c-\udd4f\udd5a-\udd5d\udd60-\udfff]|\ud83b[\udc00-\udc70\udcb5-\udd00\udd3e-\uddff\ude04\ude20\ude23\ude25\ude26\ude28\ude33\ude38\ude3a\ude3c-\ude41\ude43-\ude46\ude48\ude4a\ude4c\ude50\ude53\ude55\ude56\ude58\ude5a\ude5c\ude5e\ude60\ude63\ude65\ude66\ude6b\ude73\ude78\ude7d\ude7f\ude8a\ude9c-\udea0\udea4\udeaa\udebc-\udeef\udef2-\udfff]|\ud83c[\udc2c-\udc2f\udc94-\udc9f\udcaf\udcb0\udcc0\udcd0\udcf6-\udcff\uddae-\udde5\ude03-\ude0f\ude3c-\ude3f\ude49-\ude4f\ude52-\ude5f\ude66-\udeff]|\ud83d[\uded8-\udedc\udeed-\udeef\udefd-\udeff\udf74-\udf7f\udfd9-\udfdf\udfec-\udfef\udff1-\udfff]|\ud83e[\udc0c-\udc0f\udc48-\udc4f\udc5a-\udc5f\udc88-\udc8f\udcae\udcaf\udcb2-\udcff\ude54-\ude5f\ude6e\ude6f\ude75-\ude77\ude7d-\ude7f\ude87-\ude8f\udead-\udeaf\udebb-\udebf\udec6-\udecf\udeda-\udedf\udee8-\udeef\udef7-\udeff\udf93\udfcb-\udfef\udffa-\udfff]|\ud869[\udee0-\udeff]|\ud86d[\udf39-\udf3f]|\ud86e[\udc1e\udc1f]|\ud873[\udea2-\udeaf]|\ud87a[\udfe1-\udfff]|\ud87e[\ude1e-\udfff]|\ud884[\udf4b-\udfff]|\udb40[\udc00\udc02-\udc1f\udc80-\udcff\uddf0-\udfff]|[\udbbf\udbff][\udffe\udfff]"},{name:"Co",alias:"Private_Use",bmp:"-",astral:"[\udb80-\udbbe\udbc0-\udbfe][\udc00-\udfff]|[\udbbf\udbff][\udc00-\udffd]"},{name:"Cs",alias:"Surrogate",bmp:"\ud800-\udfff"},{name:"L",alias:"Letter",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf50\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"LC",alias:"Cased_Letter",bmp:"A-Za-zµÀ-ÖØ-öø-ƺƼ-ƿǄ-ʓʕ-ʯͰ-ͳͶͷͻ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՠ-ֈႠ-ჅჇჍა-ჺჽ-ჿᎠ-Ᏽᏸ-ᏽᲀ-ᲈᲐ-ᲺᲽ-Ჿᴀ-ᴫᵫ-ᵷᵹ-ᶚḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℴℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-ⱻⱾ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭꙀ-ꙭꚀ-ꚛꜢ-ꝯꝱ-ꞇꞋ-ꞎꞐ-ꟊꟐꟑꟓꟕ-ꟙꟵꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗＡ-Ｚａ-ｚ",astral:"\ud801[\udc00-\udc4f\udcb0-\udcd3\udcd8-\udcfb\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udc80-\udcb2\udcc0-\udcf2]|\ud806[\udca0-\udcdf]|\ud81b[\ude40-\ude7f]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd00-\udd43]"},{name:"Ll",alias:"Lowercase_Letter",bmp:"a-zµß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʯͱͳͷͻ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᴫᵫ-ᵷᵹ-ᶚḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎↄⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱻⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯꝱ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟺꬰ-ꭚꭠ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Lm",alias:"Modifier_Letter",bmp:"ʰ-ˁˆ-ˑˠ-ˤˬˮʹͺՙـۥۦߴߵߺࠚࠤࠨࣉॱๆໆჼៗᡃᪧᱸ-ᱽᴬ-ᵪᵸᶛ-ᶿⁱⁿₐ-ₜⱼⱽⵯⸯ々〱-〵〻ゝゞー-ヾꀕꓸ-ꓽꘌꙿꚜꚝꜗ-ꜟꝰꞈꟲ-ꟴꟸꟹꧏꧦꩰꫝꫳꫴꭜ-ꭟꭩｰﾞﾟ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud81a[\udf40-\udf43]|\ud81b[\udf93-\udf9f\udfe0\udfe1\udfe3]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud838[\udd37-\udd3d]|𞥋"},{name:"Lo",alias:"Other_Letter",bmp:"ªºƻǀ-ǃʔא-תׯ-ײؠ-ؿف-يٮٯٱ-ۓەۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪࠀ-ࠕࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣈऄ-हऽॐक़-ॡॲ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๅກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៜᠠ-ᡂᡄ-ᡸᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱷᳩ-ᳬᳮ-ᳳᳵᳶᳺℵ-ℸⴰ-ⵧⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ〆〼ぁ-ゖゟァ-ヺヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꀔꀖ-ꒌꓐ-ꓷꔀ-ꘋꘐ-ꘟꘪꘫꙮꚠ-ꛥꞏꟷꟻ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧠ-ꧤꧧ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩯꩱ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛꫜꫠ-ꫪꫲꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼｦ-ｯｱ-ﾝﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf40\udf42-\udf49\udf50-\udf75\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc50-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00\ude10-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udd00-\udd23\ude80-\udea9\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc03-\udc37\udc71\udc72\udc75\udc83-\udcaf\udcd0-\udce8\udd03-\udd26\udd44\udd47\udd50-\udd72\udd76\udd83-\uddb2\uddc1-\uddc4\uddda\udddc\ude00-\ude11\ude13-\ude2b\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udede\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d\udf50\udf5d-\udf61]|\ud805[\udc00-\udc34\udc47-\udc4a\udc5f-\udc61\udc80-\udcaf\udcc4\udcc5\udcc7\udd80-\uddae\uddd8-\udddb\ude00-\ude2f\ude44\ude80-\udeaa\udeb8\udf00-\udf1a\udf40-\udf46]|\ud806[\udc00-\udc2b\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd2f\udd3f\udd41\udda0-\udda7\uddaa-\uddd0\udde1\udde3\ude00\ude0b-\ude32\ude3a\ude50\ude5c-\ude89\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc2e\udc40\udc72-\udc8f\udd00-\udd06\udd08\udd09\udd0b-\udd30\udd46\udd60-\udd65\udd67\udd68\udd6a-\udd89\udd98\udee0-\udef2\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf4a\udf50]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99]|𝼊|\ud838[\udd00-\udd2c\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Lt",alias:"Titlecase_Letter",bmp:"ǅǈǋǲᾈ-ᾏᾘ-ᾟᾨ-ᾯᾼῌῼ"},{name:"Lu",alias:"Uppercase_Letter",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅↃⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]"},{name:"M",alias:"Mark",bmp:"̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣඁ-ඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-ᫎᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc00-\udc02\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc82\udcb0-\udcba\udcc2\udd00-\udd02\udd27-\udd34\udd45\udd46\udd73\udd80-\udd82\uddb3-\uddc0\uddc9-\uddcc\uddce\uddcf\ude2c-\ude37\ude3e\udedf-\udeea\udf00-\udf03\udf3b\udf3c\udf3e-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc35-\udc46\udc5e\udcb0-\udcc3\uddaf-\uddb5\uddb8-\uddc0\udddc\udddd\ude30-\ude40\udeab-\udeb7\udf1d-\udf2b]|\ud806[\udc2c-\udc3a\udd30-\udd35\udd37\udd38\udd3b-\udd3e\udd40\udd42\udd43\uddd1-\uddd7\uddda-\udde0\udde4\ude01-\ude0a\ude33-\ude39\ude3b-\ude3e\ude47\ude51-\ude5b\ude8a-\ude99]|\ud807[\udc2f-\udc36\udc38-\udc3f\udc92-\udca7\udca9-\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd8a-\udd8e\udd90\udd91\udd93-\udd97\udef3-\udef6]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf51-\udf87\udf8f-\udf92\udfe4\udff0\udff1]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"Mc",alias:"Spacing_Mark",bmp:"ःऻा-ीॉ-ौॎॏংঃা-ীেৈোৌৗਃਾ-ੀઃા-ીૉોૌଂଃାୀେୈୋୌୗாிுூெ-ைொ-ௌௗఁ-ఃు-ౄಂಃಾೀ-ೄೇೈೊೋೕೖംഃാ-ീെ-ൈൊ-ൌൗංඃා-ෑෘ-ෟෲෳ༾༿ཿါာေးျြၖၗၢ-ၤၧ-ၭႃႄႇ-ႌႏႚ-ႜ᜕᜴ាើ-ៅះៈᤣ-ᤦᤩ-ᤫᤰᤱᤳ-ᤸᨙᨚᩕᩗᩡᩣᩤᩭ-ᩲᬄᬵᬻᬽ-ᭁᭃ᭄ᮂᮡᮦᮧ᮪ᯧᯪ-ᯬᯮ᯲᯳ᰤ-ᰫᰴᰵ᳡᳷〮〯ꠣꠤꠧꢀꢁꢴ-ꣃꥒ꥓ꦃꦴꦵꦺꦻꦾ-꧀ꨯꨰꨳꨴꩍꩻꩽꫫꫮꫯꫵꯣꯤꯦꯧꯩꯪ꯬",astral:"\ud804[\udc00\udc02\udc82\udcb0-\udcb2\udcb7\udcb8\udd2c\udd45\udd46\udd82\uddb3-\uddb5\uddbf\uddc0\uddce\ude2c-\ude2e\ude32\ude33\ude35\udee0-\udee2\udf02\udf03\udf3e\udf3f\udf41-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf62\udf63]|\ud805[\udc35-\udc37\udc40\udc41\udc45\udcb0-\udcb2\udcb9\udcbb-\udcbe\udcc1\uddaf-\uddb1\uddb8-\uddbb\uddbe\ude30-\ude32\ude3b\ude3c\ude3e\udeac\udeae\udeaf\udeb6\udf20\udf21\udf26]|\ud806[\udc2c-\udc2e\udc38\udd30-\udd35\udd37\udd38\udd3d\udd40\udd42\uddd1-\uddd3\udddc-\udddf\udde4\ude39\ude57\ude58\ude97]|\ud807[\udc2f\udc3e\udca9\udcb1\udcb4\udd8a-\udd8e\udd93\udd94\udd96\udef5\udef6]|\ud81b[\udf51-\udf87\udff0\udff1]|\ud834[\udd65\udd66\udd6d-\udd72]"},{name:"Me",alias:"Enclosing_Mark",bmp:"҈҉᪾⃝-⃠⃢-⃤꙰-꙲"},{name:"Mn",alias:"Nonspacing_Mark",bmp:"̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࢘-࢟࣊-ࣣ࣡-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৾ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣૺ-૿ଁ଼ିୁ-ୄ୍୕ୖୢୣஂீ்ఀఄ఼ా-ీె-ైొ-్ౕౖౢౣಁ಼ಿೆೌ್ೢೣഀഁ഻഼ു-ൄ്ൢൣඁ්ි-ුූัิ-ฺ็-๎ັິ-ຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲᜳᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍᠏ᢅᢆᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽ᪿ-ᫎᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꠬꣄ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꦽꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯",astral:"\ud800[\uddfd\udee0\udf76-\udf7a]|\ud802[\ude01-\ude03\ude05\ude06\ude0c-\ude0f\ude38-\ude3a\ude3f\udee5\udee6]|\ud803[\udd24-\udd27\udeab\udeac\udf46-\udf50\udf82-\udf85]|\ud804[\udc01\udc38-\udc46\udc70\udc73\udc74\udc7f-\udc81\udcb3-\udcb6\udcb9\udcba\udcc2\udd00-\udd02\udd27-\udd2b\udd2d-\udd34\udd73\udd80\udd81\uddb6-\uddbe\uddc9-\uddcc\uddcf\ude2f-\ude31\ude34\ude36\ude37\ude3e\udedf\udee3-\udeea\udf00\udf01\udf3b\udf3c\udf40\udf66-\udf6c\udf70-\udf74]|\ud805[\udc38-\udc3f\udc42-\udc44\udc46\udc5e\udcb3-\udcb8\udcba\udcbf\udcc0\udcc2\udcc3\uddb2-\uddb5\uddbc\uddbd\uddbf\uddc0\udddc\udddd\ude33-\ude3a\ude3d\ude3f\ude40\udeab\udead\udeb0-\udeb5\udeb7\udf1d-\udf1f\udf22-\udf25\udf27-\udf2b]|\ud806[\udc2f-\udc37\udc39\udc3a\udd3b\udd3c\udd3e\udd43\uddd4-\uddd7\uddda\udddb\udde0\ude01-\ude0a\ude33-\ude38\ude3b-\ude3e\ude47\ude51-\ude56\ude59-\ude5b\ude8a-\ude96\ude98\ude99]|\ud807[\udc30-\udc36\udc38-\udc3d\udc3f\udc92-\udca7\udcaa-\udcb0\udcb2\udcb3\udcb5\udcb6\udd31-\udd36\udd3a\udd3c\udd3d\udd3f-\udd45\udd47\udd90\udd91\udd95\udd97\udef3\udef4]|\ud81a[\udef0-\udef4\udf30-\udf36]|\ud81b[\udf4f\udf8f-\udf92\udfe4]|\ud82f[\udc9d\udc9e]|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud836[\ude00-\ude36\ude3b-\ude6c\ude75\ude84\ude9b-\ude9f\udea1-\udeaf]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd30-\udd36\udeae\udeec-\udeef]|\ud83a[\udcd0-\udcd6\udd44-\udd4a]|\udb40[\udd00-\uddef]"},{name:"N",alias:"Number",bmp:"0-9²³¹¼-¾٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൘-൞൦-൸෦-෯๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud800[\udd07-\udd33\udd40-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23\udf41\udf4a\udfd1-\udfd5]|\ud801[\udca0-\udca9]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\udd30-\udd39\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udde1-\uddf4\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf3b]|\ud806[\udce0-\udcf2\udd50-\udd59]|\ud807[\udc50-\udc6c\udd50-\udd59\udda0-\udda9\udfc0-\udfd4]|\ud809[\udc00-\udc6e]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udcc7-\udccf\udd50-\udd59]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]|\ud83e[\udff0-\udff9]"},{name:"Nd",alias:"Decimal_Number",bmp:"0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯෦-෯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꧰-꧹꩐-꩙꯰-꯹０-９",astral:"\ud801[\udca0-\udca9]|\ud803[\udd30-\udd39]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udc50-\udc59\udcd0-\udcd9\ude50-\ude59\udec0-\udec9\udf30-\udf39]|\ud806[\udce0-\udce9\udd50-\udd59]|\ud807[\udc50-\udc59\udd50-\udd59\udda0-\udda9]|\ud81a[\ude60-\ude69\udec0-\udec9\udf50-\udf59]|\ud835[\udfce-\udfff]|\ud838[\udd40-\udd49\udef0-\udef9]|\ud83a[\udd50-\udd59]|\ud83e[\udff0-\udff9]"},{name:"Nl",alias:"Letter_Number",bmp:"ᛮ-ᛰⅠ-ↂↅ-ↈ〇〡-〩〸-〺ꛦ-ꛯ",astral:"\ud800[\udd40-\udd74\udf41\udf4a\udfd1-\udfd5]|\ud809[\udc00-\udc6e]"},{name:"No",alias:"Other_Number",bmp:"²³¹¼-¾৴-৹୲-୷௰-௲౸-౾൘-൞൰-൸༪-༳፩-፼៰-៹᧚⁰⁴-⁹₀-₉⅐-⅟↉①-⒛⓪-⓿❶-➓⳽㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꠰-꠵",astral:"\ud800[\udd07-\udd33\udd75-\udd78\udd8a\udd8b\udee1-\udefb\udf20-\udf23]|\ud802[\udc58-\udc5f\udc79-\udc7f\udca7-\udcaf\udcfb-\udcff\udd16-\udd1b\uddbc\uddbd\uddc0-\uddcf\uddd2-\uddff\ude40-\ude48\ude7d\ude7e\ude9d-\ude9f\udeeb-\udeef\udf58-\udf5f\udf78-\udf7f\udfa9-\udfaf]|\ud803[\udcfa-\udcff\ude60-\ude7e\udf1d-\udf26\udf51-\udf54\udfc5-\udfcb]|\ud804[\udc52-\udc65\udde1-\uddf4]|\ud805[\udf3a\udf3b]|\ud806[\udcea-\udcf2]|\ud807[\udc5a-\udc6c\udfc0-\udfd4]|\ud81a[\udf5b-\udf61]|\ud81b[\ude80-\ude96]|\ud834[\udee0-\udef3\udf60-\udf78]|\ud83a[\udcc7-\udccf]|\ud83b[\udc71-\udcab\udcad-\udcaf\udcb1-\udcb4\udd01-\udd2d\udd2f-\udd3d]|\ud83c[\udd00-\udd0c]"},{name:"P",alias:"Punctuation",bmp:"!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}¡§«¶·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔༺-༽྅࿐-࿔࿙࿚၊-၏჻፠-፨᐀᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎⌈-⌋〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰-⹏⹒-⹝、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udead\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Pc",alias:"Connector_Punctuation",bmp:"_‿⁀⁔︳︴﹍-﹏＿"},{name:"Pd",alias:"Dash_Punctuation",bmp:"\\-֊־᐀᠆‐-―⸗⸚⸺⸻⹀⹝〜〰゠︱︲﹘﹣－",astral:"𐺭"},{name:"Pe",alias:"Close_Punctuation",bmp:"\\)\\]\\}༻༽᚜⁆⁾₎⌉⌋〉❩❫❭❯❱❳❵⟆⟧⟩⟫⟭⟯⦄⦆⦈⦊⦌⦎⦐⦒⦔⦖⦘⧙⧛⧽⸣⸥⸧⸩⹖⹘⹚⹜〉》」』】〕〗〙〛〞〟﴾︘︶︸︺︼︾﹀﹂﹄﹈﹚﹜﹞）］｝｠｣"},{name:"Pf",alias:"Final_Punctuation",bmp:"»’”›⸃⸅⸊⸍⸝⸡"},{name:"Pi",alias:"Initial_Punctuation",bmp:"«‘‛“‟‹⸂⸄⸉⸌⸜⸠"},{name:"Po",alias:"Other_Punctuation",bmp:"!-#%-'\\*,\\.\\/:;\\?@\\¡§¶·¿;·՚-՟։׀׃׆׳״؉؊،؍؛؝-؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰৽੶૰౷಄෴๏๚๛༄-༒༔྅࿐-࿔࿙࿚၊-၏჻፠-፨᙮᛫-᛭᜵᜶។-៖៘-៚᠀-᠅᠇-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᭽᭾᯼-᯿᰻-᰿᱾᱿᳀-᳇᳓‖‗†-‧‰-‸※-‾⁁-⁃⁇-⁑⁓⁕-⁞⳹-⳼⳾⳿⵰⸀⸁⸆-⸈⸋⸎-⸖⸘⸙⸛⸞⸟⸪-⸮⸰-⸹⸼-⸿⹁⹃-⹏⹒-⹔、-〃〽・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꣼꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꫰꫱꯫︐-︖︙︰﹅﹆﹉-﹌﹐-﹒﹔-﹗﹟-﹡﹨﹪﹫！-＃％-＇＊，．／：；？＠＼｡､･",astral:"\ud800[\udd00-\udd02\udf9f\udfd0]|𐕯|\ud802[\udc57\udd1f\udd3f\ude50-\ude58\ude7f\udef0-\udef6\udf39-\udf3f\udf99-\udf9c]|\ud803[\udf55-\udf59\udf86-\udf89]|\ud804[\udc47-\udc4d\udcbb\udcbc\udcbe-\udcc1\udd40-\udd43\udd74\udd75\uddc5-\uddc8\uddcd\udddb\udddd-\udddf\ude38-\ude3d\udea9]|\ud805[\udc4b-\udc4f\udc5a\udc5b\udc5d\udcc6\uddc1-\uddd7\ude41-\ude43\ude60-\ude6c\udeb9\udf3c-\udf3e]|\ud806[\udc3b\udd44-\udd46\udde2\ude3f-\ude46\ude9a-\ude9c\ude9e-\udea2]|\ud807[\udc41-\udc45\udc70\udc71\udef7\udef8\udfff]|\ud809[\udc70-\udc74]|\ud80b[\udff1\udff2]|\ud81a[\ude6e\ude6f\udef5\udf37-\udf3b\udf44]|\ud81b[\ude97-\ude9a\udfe2]|𛲟|\ud836[\ude87-\ude8b]|\ud83a[\udd5e\udd5f]"},{name:"Ps",alias:"Open_Punctuation",bmp:"\\(\\[\\{༺༼᚛‚„⁅⁽₍⌈⌊〈❨❪❬❮❰❲❴⟅⟦⟨⟪⟬⟮⦃⦅⦇⦉⦋⦍⦏⦑⦓⦕⦗⧘⧚⧼⸢⸤⸦⸨⹂⹕⹗⹙⹛〈《「『【〔〖〘〚〝﴿︗︵︷︹︻︽︿﹁﹃﹇﹙﹛﹝（［｛｟｢"},{name:"S",alias:"Symbol",bmp:"\\$\\+<->\\^`\\|~¢-¦¨©¬®-±´¸×÷˂-˅˒-˟˥-˫˭˯-˿͵΄΅϶҂֍-֏؆-؈؋؎؏۞۩۽۾߶߾߿࢈৲৳৺৻૱୰௳-௺౿൏൹฿༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭៛᥀᧞-᧿᭡-᭪᭴-᭼᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁒⁺-⁼₊-₌₠-⃀℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅏↊↋←-⌇⌌-⌨⌫-␦⑀-⑊⒜-ⓩ─-❧➔-⟄⟇-⟥⟰-⦂⦙-⧗⧜-⧻⧾-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꜀-꜖꜠꜡꞉꞊꠨-꠫꠶-꠹꩷-꩹꭛꭪꭫﬩﮲-﯂﵀-﵏﷏﷼-﷿﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|\ud838[\udd4f\udeff]|\ud83b[\udcac\udcb0\udd2e\udef0\udef1]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Sc",alias:"Currency_Symbol",bmp:"\\$¢-¥֏؋߾߿৲৳৻૱௹฿៛₠-⃀꠸﷼﹩＄￠￡￥￦",astral:"\ud807[\udfdd-\udfe0]|𞋿|𞲰"},{name:"Sk",alias:"Modifier_Symbol",bmp:"\\^`¨¯´¸˂-˅˒-˟˥-˫˭˯-˿͵΄΅࢈᾽᾿-῁῍-῏῝-῟῭-`´῾゛゜꜀-꜖꜠꜡꞉꞊꭛꭪꭫﮲-﯂＾｀￣",astral:"\ud83c[\udffb-\udfff]"},{name:"Sm",alias:"Math_Symbol",bmp:"\\+<->\\|~¬±×÷϶؆-؈⁄⁒⁺-⁼₊-₌℘⅀-⅄⅋←-↔↚↛↠↣↦↮⇎⇏⇒⇔⇴-⋿⌠⌡⍼⎛-⎳⏜-⏡▷◁◸-◿♯⟀-⟄⟇-⟥⟰-⟿⤀-⦂⦙-⧗⧜-⧻⧾-⫿⬰-⭄⭇-⭌﬩﹢﹤-﹦＋＜-＞｜～￢￩-￬",astral:"\ud835[\udec1\udedb\udefb\udf15\udf35\udf4f\udf6f\udf89\udfa9\udfc3]|\ud83b[\udef0\udef1]"},{name:"So",alias:"Other_Symbol",bmp:"¦©®°҂֍֎؎؏۞۩۽۾߶৺୰௳-௸௺౿൏൹༁-༃༓༕-༗༚-༟༴༶༸྾-࿅࿇-࿌࿎࿏࿕-࿘႞႟᎐-᎙᙭᥀᧞-᧿᭡-᭪᭴-᭼℀℁℃-℆℈℉℔№℗℞-℣℥℧℩℮℺℻⅊⅌⅍⅏↊↋↕-↙↜-↟↡↢↤↥↧-↭↯-⇍⇐⇑⇓⇕-⇳⌀-⌇⌌-⌟⌢-⌨⌫-⍻⍽-⎚⎴-⏛⏢-␦⑀-⑊⒜-ⓩ─-▶▸-◀◂-◷☀-♮♰-❧➔-➿⠀-⣿⬀-⬯⭅⭆⭍-⭳⭶-⮕⮗-⯿⳥-⳪⹐⹑⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿㆐㆑㆖-㆟㇀-㇣㈀-㈞㈪-㉇㉐㉠-㉿㊊-㊰㋀-㏿䷀-䷿꒐-꓆꠨-꠫꠶꠷꠹꩷-꩹﵀-﵏﷏﷽-﷿￤￨￭￮￼�",astral:"\ud800[\udd37-\udd3f\udd79-\udd89\udd8c-\udd8e\udd90-\udd9c\udda0\uddd0-\uddfc]|\ud802[\udc77\udc78\udec8]|𑜿|\ud807[\udfd5-\udfdc\udfe1-\udff1]|\ud81a[\udf3c-\udf3f\udf45]|𛲜|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd64\udd6a-\udd6c\udd83\udd84\udd8c-\udda9\uddae-\uddea\ude00-\ude41\ude45\udf00-\udf56]|\ud836[\udc00-\uddff\ude37-\ude3a\ude6d-\ude74\ude76-\ude83\ude85\ude86]|𞅏|\ud83b[\udcac\udd2e]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd0d-\uddad\udde6-\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udffa]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca]"},{name:"Z",alias:"Separator",bmp:"    - \u2028\u2029  　"},{name:"Zl",alias:"Line_Separator",bmp:"\u2028"},{name:"Zp",alias:"Paragraph_Separator",bmp:"\u2029"},{name:"Zs",alias:"Space_Separator",bmp:"    -   　"}],j=[{name:"ASCII",bmp:"\0-"},{name:"Alphabetic",bmp:"A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͅͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈְ-ׇֽֿׁׂׅׄא-תׯ-ײؐ-ؚؠ-ٗٙ-ٟٮ-ۓە-ۜۡ-ۭۨ-ۯۺ-ۼۿܐ-ܿݍ-ޱߊ-ߪߴߵߺࠀ-ࠗࠚ-ࠬࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉࣔ-ࣣࣟ-ࣰࣩ-ऻऽ-ौॎ-ॐॕ-ॣॱ-ঃঅ-ঌএঐও-নপ-রলশ-হঽ-ৄেৈোৌৎৗড়ঢ়য়-ৣৰৱৼਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਾ-ੂੇੈੋੌੑਖ਼-ੜਫ਼ੰ-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽ-ૅે-ૉોૌૐૠ-ૣૹ-ૼଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽ-ୄେୈୋୌୖୗଡ଼ଢ଼ୟ-ୣୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-ௌௐௗఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-ౌౕౖౘ-ౚౝౠ-ౣಀ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽ-ೄೆ-ೈೊ-ೌೕೖೝೞೠ-ೣೱೲഀ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൌൎൔ-ൗൟ-ൣൺ-ൿඁ-ඃඅ-ඖක-නඳ-රලව-ෆා-ුූෘ-ෟෲෳก-ฺเ-ๆํກຂຄຆ-ຊຌ-ຣລວ-ູົ-ຽເ-ໄໆໍໜ-ໟༀཀ-ཇཉ-ཬཱ-ཱྀྈ-ྗྙ-ྼက-ံးျ-ဿၐ-ႏႚ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜓᜟ-ᜳᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-ឳា-ៈៗៜᠠ-ᡸᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-ᤸᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨛᨠ-ᩞᩡ-ᩴᪧᪿᫀᫌ-ᫎᬀ-ᬳᬵ-ᭃᭅ-ᭌᮀ-ᮩᮬ-ᮯᮺ-ᯥᯧ-ᯱᰀ-ᰶᱍ-ᱏᱚ-ᱽᲀ-ᲈᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿᷧ-ᷴḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙴ-ꙻꙿ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꠅꠇ-ꠧꡀ-ꡳꢀ-ꣃꣅꣲ-ꣷꣻꣽ-ꣿꤊ-ꤪꤰ-ꥒꥠ-ꥼꦀ-ꦲꦴ-ꦿꧏꧠ-ꧯꧺ-ꧾꨀ-ꨶꩀ-ꩍꩠ-ꩶꩺ-ꪾꫀꫂꫛ-ꫝꫠ-ꫯꫲ-ꫵꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯪ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\udd40-\udd74\ude80-\ude9c\udea0-\uded0\udf00-\udf1f\udf2d-\udf4a\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf\udfd1-\udfd5]|\ud801[\udc00-\udc9d\udcb0-\udcd3\udcd8-\udcfb\udd00-\udd27\udd30-\udd63\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\ude00-\udf36\udf40-\udf55\udf60-\udf67\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udce0-\udcf2\udcf4\udcf5\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee4\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48\udc80-\udcb2\udcc0-\udcf2\udd00-\udd27\ude80-\udea9\udeab\udeac\udeb0\udeb1\udf00-\udf1c\udf27\udf30-\udf45\udf70-\udf81\udfb0-\udfc4\udfe0-\udff6]|\ud804[\udc00-\udc45\udc71-\udc75\udc82-\udcb8\udcc2\udcd0-\udce8\udd00-\udd32\udd44-\udd47\udd50-\udd72\udd76\udd80-\uddbf\uddc1-\uddc4\uddce\uddcf\uddda\udddc\ude00-\ude11\ude13-\ude34\ude37\ude3e\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea8\udeb0-\udee8\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3d-\udf44\udf47\udf48\udf4b\udf4c\udf50\udf57\udf5d-\udf63]|\ud805[\udc00-\udc41\udc43-\udc45\udc47-\udc4a\udc5f-\udc61\udc80-\udcc1\udcc4\udcc5\udcc7\udd80-\uddb5\uddb8-\uddbe\uddd8-\udddd\ude00-\ude3e\ude40\ude44\ude80-\udeb5\udeb8\udf00-\udf1a\udf1d-\udf2a\udf40-\udf46]|\ud806[\udc00-\udc38\udca0-\udcdf\udcff-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b\udd3c\udd3f-\udd42\udda0-\udda7\uddaa-\uddd7\uddda-\udddf\udde1\udde3\udde4\ude00-\ude32\ude35-\ude3e\ude50-\ude97\ude9d\udeb0-\udef8]|\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc3e\udc40\udc72-\udc8f\udc92-\udca7\udca9-\udcb6\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd41\udd43\udd46\udd47\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd96\udd98\udee0-\udef6\udfb0]|\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc80-\udd43]|\ud80b[\udf90-\udff0]|[\ud80c\ud81c-\ud820\ud822\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud811[\udc00-\ude46]|\ud81a[\udc00-\ude38\ude40-\ude5e\ude70-\udebe\uded0-\udeed\udf00-\udf2f\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\ude40-\ude7f\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f\udfe0\udfe1\udfe3\udff0\udff1]|\ud821[\udc00-\udff7]|\ud823[\udc00-\udcd5\udd00-\udd08]|\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00-\udd22\udd50-\udd52\udd64-\udd67\udd70-\udefb]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9e]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud837[\udf00-\udf1e]|\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a\udd00-\udd2c\udd37-\udd3d\udd4e\ude90-\udead\udec0-\udeeb]|\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]|\ud83a[\udc00-\udcc4\udd00-\udd43\udd47\udd4b]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Any",isBmpLast:!0,bmp:"\0-￿",astral:"[\ud800-\udbff][\udc00-\udfff]"},{name:"Default_Ignorable_Code_Point",bmp:"­͏؜ᅟᅠ឴឵᠋-᠏​-‏‪-‮⁠-⁯ㅤ︀-️\ufeffﾠ￰-￸",astral:"\ud82f[\udca0-\udca3]|\ud834[\udd73-\udd7a]|[\udb40-\udb43][\udc00-\udfff]"},{name:"Lowercase",bmp:"a-zªµºß-öø-ÿāăąćĉċčďđēĕėęěĝğġģĥħĩīĭįıĳĵķĸĺļľŀłńņňŉŋōŏőœŕŗřśŝşšţťŧũūŭůűųŵŷźżž-ƀƃƅƈƌƍƒƕƙ-ƛƞơƣƥƨƪƫƭưƴƶƹƺƽ-ƿǆǉǌǎǐǒǔǖǘǚǜǝǟǡǣǥǧǩǫǭǯǰǳǵǹǻǽǿȁȃȅȇȉȋȍȏȑȓȕȗșțȝȟȡȣȥȧȩȫȭȯȱȳ-ȹȼȿɀɂɇɉɋɍɏ-ʓʕ-ʸˀˁˠ-ˤͅͱͳͷͺ-ͽΐά-ώϐϑϕ-ϗϙϛϝϟϡϣϥϧϩϫϭϯ-ϳϵϸϻϼа-џѡѣѥѧѩѫѭѯѱѳѵѷѹѻѽѿҁҋҍҏґғҕҗҙқҝҟҡңҥҧҩҫҭүұҳҵҷҹһҽҿӂӄӆӈӊӌӎӏӑӓӕӗәӛӝӟӡӣӥӧөӫӭӯӱӳӵӷӹӻӽӿԁԃԅԇԉԋԍԏԑԓԕԗԙԛԝԟԡԣԥԧԩԫԭԯՠ-ֈა-ჺჽ-ჿᏸ-ᏽᲀ-ᲈᴀ-ᶿḁḃḅḇḉḋḍḏḑḓḕḗḙḛḝḟḡḣḥḧḩḫḭḯḱḳḵḷḹḻḽḿṁṃṅṇṉṋṍṏṑṓṕṗṙṛṝṟṡṣṥṧṩṫṭṯṱṳṵṷṹṻṽṿẁẃẅẇẉẋẍẏẑẓẕ-ẝẟạảấầẩẫậắằẳẵặẹẻẽếềểễệỉịọỏốồổỗộớờởỡợụủứừửữựỳỵỷỹỻỽỿ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾰ-ᾴᾶᾷιῂ-ῄῆῇῐ-ΐῖῗῠ-ῧῲ-ῴῶῷⁱⁿₐ-ₜℊℎℏℓℯℴℹℼℽⅆ-ⅉⅎⅰ-ⅿↄⓐ-ⓩⰰ-ⱟⱡⱥⱦⱨⱪⱬⱱⱳⱴⱶ-ⱽⲁⲃⲅⲇⲉⲋⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⲳⲵⲷⲹⲻⲽⲿⳁⳃⳅⳇⳉⳋⳍⳏⳑⳓⳕⳗⳙⳛⳝⳟⳡⳣⳤⳬⳮⳳⴀ-ⴥⴧⴭꙁꙃꙅꙇꙉꙋꙍꙏꙑꙓꙕꙗꙙꙛꙝꙟꙡꙣꙥꙧꙩꙫꙭꚁꚃꚅꚇꚉꚋꚍꚏꚑꚓꚕꚗꚙꚛ-ꚝꜣꜥꜧꜩꜫꜭꜯ-ꜱꜳꜵꜷꜹꜻꜽꜿꝁꝃꝅꝇꝉꝋꝍꝏꝑꝓꝕꝗꝙꝛꝝꝟꝡꝣꝥꝧꝩꝫꝭꝯ-ꝸꝺꝼꝿꞁꞃꞅꞇꞌꞎꞑꞓ-ꞕꞗꞙꞛꞝꞟꞡꞣꞥꞧꞩꞯꞵꞷꞹꞻꞽꞿꟁꟃꟈꟊꟑꟓꟕꟗꟙꟶꟸ-ꟺꬰ-ꭚꭜ-ꭨꭰ-ꮿﬀ-ﬆﬓ-ﬗａ-ｚ",astral:"\ud801[\udc28-\udc4f\udcd8-\udcfb\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc\udf80\udf83-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud803[\udcc0-\udcf2]|\ud806[\udcc0-\udcdf]|\ud81b[\ude60-\ude7f]|\ud835[\udc1a-\udc33\udc4e-\udc54\udc56-\udc67\udc82-\udc9b\udcb6-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udccf\udcea-\udd03\udd1e-\udd37\udd52-\udd6b\udd86-\udd9f\uddba-\uddd3\uddee-\ude07\ude22-\ude3b\ude56-\ude6f\ude8a-\udea5\udec2-\udeda\udedc-\udee1\udefc-\udf14\udf16-\udf1b\udf36-\udf4e\udf50-\udf55\udf70-\udf88\udf8a-\udf8f\udfaa-\udfc2\udfc4-\udfc9\udfcb]|\ud837[\udf00-\udf09\udf0b-\udf1e]|\ud83a[\udd22-\udd43]"},{name:"Noncharacter_Code_Point",bmp:"﷐-﷯￾￿",astral:"[\ud83f\ud87f\ud8bf\ud8ff\ud93f\ud97f\ud9bf\ud9ff\uda3f\uda7f\udabf\udaff\udb3f\udb7f\udbbf\udbff][\udffe\udfff]"},{name:"Uppercase",bmp:"A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎͰͲͶͿΆΈ-ΊΌΎΏΑ-ΡΣ-ΫϏϒ-ϔϘϚϜϞϠϢϤϦϨϪϬϮϴϷϹϺϽ-ЯѠѢѤѦѨѪѬѮѰѲѴѶѸѺѼѾҀҊҌҎҐҒҔҖҘҚҜҞҠҢҤҦҨҪҬҮҰҲҴҶҸҺҼҾӀӁӃӅӇӉӋӍӐӒӔӖӘӚӜӞӠӢӤӦӨӪӬӮӰӲӴӶӸӺӼӾԀԂԄԆԈԊԌԎԐԒԔԖԘԚԜԞԠԢԤԦԨԪԬԮԱ-ՖႠ-ჅჇჍᎠ-ᏵᲐ-ᲺᲽ-ᲿḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾἈ-ἏἘ-ἝἨ-ἯἸ-ἿὈ-ὍὙὛὝὟὨ-ὯᾸ-ΆῈ-ΉῘ-ΊῨ-ῬῸ-Ώℂℇℋ-ℍℐ-ℒℕℙ-ℝℤΩℨK-ℭℰ-ℳℾℿⅅⅠ-ⅯↃⒶ-ⓏⰀ-ⰯⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾ-ⲀⲂⲄⲆⲈⲊⲌⲎⲐⲒⲔⲖⲘⲚⲜⲞⲠⲢⲤⲦⲨⲪⲬⲮⲰⲲⲴⲶⲸⲺⲼⲾⳀⳂⳄⳆⳈⳊⳌⳎⳐⳒⳔⳖⳘⳚⳜⳞⳠⳢⳫⳭⳲꙀꙂꙄꙆꙈꙊꙌꙎꙐꙒꙔꙖꙘꙚꙜꙞꙠꙢꙤꙦꙨꙪꙬꚀꚂꚄꚆꚈꚊꚌꚎꚐꚒꚔꚖꚘꚚꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞖꞘꞚꞜꞞꞠꞢꞤꞦꞨꞪ-ꞮꞰ-ꞴꞶꞸꞺꞼꞾꟀꟂꟄ-ꟇꟉꟐꟖꟘꟵＡ-Ｚ",astral:"\ud801[\udc00-\udc27\udcb0-\udcd3\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95]|\ud803[\udc80-\udcb2]|\ud806[\udca0-\udcbf]|\ud81b[\ude40-\ude5f]|\ud835[\udc00-\udc19\udc34-\udc4d\udc68-\udc81\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb5\udcd0-\udce9\udd04\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd38\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd6c-\udd85\udda0-\uddb9\uddd4-\udded\ude08-\ude21\ude3c-\ude55\ude70-\ude89\udea8-\udec0\udee2-\udefa\udf1c-\udf34\udf56-\udf6e\udf90-\udfa8\udfca]|\ud83a[\udd00-\udd21]|\ud83c[\udd30-\udd49\udd50-\udd69\udd70-\udd89]"},{name:"White_Space",bmp:"\t-\r    - \u2028\u2029  　"}],M=[{name:"Adlam",astral:"\ud83a[\udd00-\udd4b\udd50-\udd59\udd5e\udd5f]"},{name:"Ahom",astral:"\ud805[\udf00-\udf1a\udf1d-\udf2b\udf30-\udf46]"},{name:"Anatolian_Hieroglyphs",astral:"\ud811[\udc00-\ude46]"},{name:"Arabic",bmp:"؀-؄؆-؋؍-ؚ؜-؞ؠ-ؿف-يٖ-ٯٱ-ۜ۞-ۿݐ-ݿࡰ-ࢎ࢐࢑࢘-ࣣ࣡-ࣿﭐ-﯂ﯓ-ﴽ﵀-ﶏﶒ-ﷇ﷏ﷰ-﷿ﹰ-ﹴﹶ-ﻼ",astral:"\ud803[\ude60-\ude7e]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb\udef0\udef1]"},{name:"Armenian",bmp:"Ա-Ֆՙ-֊֍-֏ﬓ-ﬗ"},{name:"Avestan",astral:"\ud802[\udf00-\udf35\udf39-\udf3f]"},{name:"Balinese",bmp:"ᬀ-ᭌ᭐-᭾"},{name:"Bamum",bmp:"ꚠ-꛷",astral:"\ud81a[\udc00-\ude38]"},{name:"Bassa_Vah",astral:"\ud81a[\uded0-\udeed\udef0-\udef5]"},{name:"Batak",bmp:"ᯀ-᯳᯼-᯿"},{name:"Bengali",bmp:"ঀ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-৾"},{name:"Bhaiksuki",astral:"\ud807[\udc00-\udc08\udc0a-\udc36\udc38-\udc45\udc50-\udc6c]"},{name:"Bopomofo",bmp:"˪˫ㄅ-ㄯㆠ-ㆿ"},{name:"Brahmi",astral:"\ud804[\udc00-\udc4d\udc52-\udc75\udc7f]"},{name:"Braille",bmp:"⠀-⣿"},{name:"Buginese",bmp:"ᨀ-ᨛ᨞᨟"},{name:"Buhid",bmp:"ᝀ-ᝓ"},{name:"Canadian_Aboriginal",bmp:"᐀-ᙿᢰ-ᣵ",astral:"\ud806[\udeb0-\udebf]"},{name:"Carian",astral:"\ud800[\udea0-\uded0]"},{name:"Caucasian_Albanian",astral:"\ud801[\udd30-\udd63\udd6f]"},{name:"Chakma",astral:"\ud804[\udd00-\udd34\udd36-\udd47]"},{name:"Cham",bmp:"ꨀ-ꨶꩀ-ꩍ꩐-꩙꩜-꩟"},{name:"Cherokee",bmp:"Ꭰ-Ᏽᏸ-ᏽꭰ-ꮿ"},{name:"Chorasmian",astral:"\ud803[\udfb0-\udfcb]"},{name:"Common",bmp:"\0-@\\[-`\\{-©«-¹»-¿×÷ʹ-˟˥-˩ˬ-˿ʹ;΅·؅،؛؟ـ۝࣢।॥฿࿕-࿘჻᛫-᛭᜵᜶᠂᠃᠅᳓᳡ᳩ-ᳬᳮ-ᳳᳵ-᳷ᳺ -​‎-⁤⁦-⁰⁴-⁾₀-₎₠-⃀℀-℥℧-℩ℬ-ℱℳ-⅍⅏-⅟↉-↋←-␦⑀-⑊①-⟿⤀-⭳⭶-⮕⮗-⯿⸀-⹝⿰-⿻　-〄〆〈-〠〰-〷〼-〿゛゜゠・ー㆐-㆟㇀-㇣㈠-㉟㉿-㋏㋿㍘-㏿䷀-䷿꜀-꜡ꞈ-꞊꠰-꠹꤮ꧏ꭛꭪꭫﴾﴿︐-︙︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･ｰﾞﾟ￠-￦￨-￮￹-�",astral:"\ud800[\udd00-\udd02\udd07-\udd33\udd37-\udd3f\udd90-\udd9c\uddd0-\uddfc\udee1-\udefb]|\ud82f[\udca0-\udca3]|\ud833[\udf50-\udfc3]|\ud834[\udc00-\udcf5\udd00-\udd26\udd29-\udd66\udd6a-\udd7a\udd83\udd84\udd8c-\udda9\uddae-\uddea\udee0-\udef3\udf00-\udf56\udf60-\udf78]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udfcb\udfce-\udfff]|\ud83b[\udc71-\udcb4\udd01-\udd3d]|\ud83c[\udc00-\udc2b\udc30-\udc93\udca0-\udcae\udcb1-\udcbf\udcc1-\udccf\udcd1-\udcf5\udd00-\uddad\udde6-\uddff\ude01\ude02\ude10-\ude3b\ude40-\ude48\ude50\ude51\ude60-\ude65\udf00-\udfff]|\ud83d[\udc00-\uded7\udedd-\udeec\udef0-\udefc\udf00-\udf73\udf80-\udfd8\udfe0-\udfeb\udff0]|\ud83e[\udc00-\udc0b\udc10-\udc47\udc50-\udc59\udc60-\udc87\udc90-\udcad\udcb0\udcb1\udd00-\ude53\ude60-\ude6d\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec5\uded0-\uded9\udee0-\udee7\udef0-\udef6\udf00-\udf92\udf94-\udfca\udff0-\udff9]|\udb40[\udc01\udc20-\udc7f]"},{name:"Coptic",bmp:"Ϣ-ϯⲀ-ⳳ⳹-⳿"},{name:"Cuneiform",astral:"\ud808[\udc00-\udf99]|\ud809[\udc00-\udc6e\udc70-\udc74\udc80-\udd43]"},{name:"Cypriot",astral:"\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f]"},{name:"Cypro_Minoan",astral:"\ud80b[\udf90-\udff2]"},{name:"Cyrillic",bmp:"Ѐ-҄҇-ԯᲀ-ᲈᴫᵸⷠ-ⷿꙀ-ꚟ︮︯"},{name:"Deseret",astral:"\ud801[\udc00-\udc4f]"},{name:"Devanagari",bmp:"ऀ-ॐॕ-ॣ०-ॿ꣠-ꣿ"},{name:"Dives_Akuru",astral:"\ud806[\udd00-\udd06\udd09\udd0c-\udd13\udd15\udd16\udd18-\udd35\udd37\udd38\udd3b-\udd46\udd50-\udd59]"},{name:"Dogra",astral:"\ud806[\udc00-\udc3b]"},{name:"Duployan",astral:"\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9c-\udc9f]"},{name:"Egyptian_Hieroglyphs",astral:"\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e\udc30-\udc38]"},{name:"Elbasan",astral:"\ud801[\udd00-\udd27]"},{name:"Elymaic",astral:"\ud803[\udfe0-\udff6]"},{name:"Ethiopic",bmp:"ሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፼ᎀ-᎙ⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ",astral:"\ud839[\udfe0-\udfe6\udfe8-\udfeb\udfed\udfee\udff0-\udffe]"},{name:"Georgian",bmp:"Ⴀ-ჅჇჍა-ჺჼ-ჿᲐ-ᲺᲽ-Ჿⴀ-ⴥⴧⴭ"},{name:"Glagolitic",bmp:"Ⰰ-ⱟ",astral:"\ud838[\udc00-\udc06\udc08-\udc18\udc1b-\udc21\udc23\udc24\udc26-\udc2a]"},{name:"Gothic",astral:"\ud800[\udf30-\udf4a]"},{name:"Grantha",astral:"\ud804[\udf00-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf50\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]"},{name:"Greek",bmp:"Ͱ-ͳ͵-ͷͺ-ͽͿ΄ΆΈ-ΊΌΎ-ΡΣ-ϡϰ-Ͽᴦ-ᴪᵝ-ᵡᵦ-ᵪᶿἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ῄῆ-ΐῖ-Ί῝-`ῲ-ῴῶ-῾Ωꭥ",astral:"\ud800[\udd40-\udd8e\udda0]|\ud834[\ude00-\ude45]"},{name:"Gujarati",bmp:"ઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૱ૹ-૿"},{name:"Gunjala_Gondi",astral:"\ud807[\udd60-\udd65\udd67\udd68\udd6a-\udd8e\udd90\udd91\udd93-\udd98\udda0-\udda9]"},{name:"Gurmukhi",bmp:"ਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-੶"},{name:"Han",bmp:"⺀-⺙⺛-⻳⼀-⿕々〇〡-〩〸-〻㐀-䶿一-鿿豈-舘並-龎",astral:"\ud81b[\udfe2\udfe3\udff0\udff1]|[\ud840-\ud868\ud86a-\ud86c\ud86f-\ud872\ud874-\ud879\ud880-\ud883][\udc00-\udfff]|\ud869[\udc00-\udedf\udf00-\udfff]|\ud86d[\udc00-\udf38\udf40-\udfff]|\ud86e[\udc00-\udc1d\udc20-\udfff]|\ud873[\udc00-\udea1\udeb0-\udfff]|\ud87a[\udc00-\udfe0]|\ud87e[\udc00-\ude1d]|\ud884[\udc00-\udf4a]"},{name:"Hangul",bmp:"ᄀ-ᇿ〮〯ㄱ-ㆎ㈀-㈞㉠-㉾ꥠ-ꥼ가-힣ힰ-ퟆퟋ-ퟻﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ"},{name:"Hanifi_Rohingya",astral:"\ud803[\udd00-\udd27\udd30-\udd39]"},{name:"Hanunoo",bmp:"ᜠ-᜴"},{name:"Hatran",astral:"\ud802[\udce0-\udcf2\udcf4\udcf5\udcfb-\udcff]"},{name:"Hebrew",bmp:"֑-ׇא-תׯ-״יִ-זּטּ-לּמּנּסּףּפּצּ-ﭏ"},{name:"Hiragana",bmp:"ぁ-ゖゝ-ゟ",astral:"\ud82c[\udc01-\udd1f\udd50-\udd52]|🈀"},{name:"Imperial_Aramaic",astral:"\ud802[\udc40-\udc55\udc57-\udc5f]"},{name:"Inherited",bmp:"̀-ًͯ҅҆-ٰٕ॑-॔᪰-ᫎ᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷿‌‍⃐-〪⃰-゙゚〭︀-️︠-︭",astral:"\ud800[\uddfd\udee0]|𑌻|\ud833[\udf00-\udf2d\udf30-\udf46]|\ud834[\udd67-\udd69\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad]|\udb40[\udd00-\uddef]"},{name:"Inscriptional_Pahlavi",astral:"\ud802[\udf60-\udf72\udf78-\udf7f]"},{name:"Inscriptional_Parthian",astral:"\ud802[\udf40-\udf55\udf58-\udf5f]"},{name:"Javanese",bmp:"ꦀ-꧍꧐-꧙꧞꧟"},{name:"Kaithi",astral:"\ud804[\udc80-\udcc2\udccd]"},{name:"Kannada",bmp:"ಀ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೝೞೠ-ೣ೦-೯ೱೲ"},{name:"Katakana",bmp:"ァ-ヺヽ-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ｯｱ-ﾝ",astral:"\ud82b[\udff0-\udff3\udff5-\udffb\udffd\udffe]|\ud82c[\udc00\udd20-\udd22\udd64-\udd67]"},{name:"Kayah_Li",bmp:"꤀-꤭꤯"},{name:"Kharoshthi",astral:"\ud802[\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude35\ude38-\ude3a\ude3f-\ude48\ude50-\ude58]"},{name:"Khitan_Small_Script",astral:"𖿤|\ud822[\udf00-\udfff]|\ud823[\udc00-\udcd5]"},{name:"Khmer",bmp:"ក-៝០-៩៰-៹᧠-᧿"},{name:"Khojki",astral:"\ud804[\ude00-\ude11\ude13-\ude3e]"},{name:"Khudawadi",astral:"\ud804[\udeb0-\udeea\udef0-\udef9]"},{name:"Lao",bmp:"ກຂຄຆ-ຊຌ-ຣລວ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟ"},{name:"Latin",bmp:"A-Za-zªºÀ-ÖØ-öø-ʸˠ-ˤᴀ-ᴥᴬ-ᵜᵢ-ᵥᵫ-ᵷᵹ-ᶾḀ-ỿⁱⁿₐ-ₜKÅℲⅎⅠ-ↈⱠ-ⱿꜢ-ꞇꞋ-ꟊꟐꟑꟓꟕ-ꟙꟲ-ꟿꬰ-ꭚꭜ-ꭤꭦ-ꭩﬀ-ﬆＡ-Ｚａ-ｚ",astral:"\ud801[\udf80-\udf85\udf87-\udfb0\udfb2-\udfba]|\ud837[\udf00-\udf1e]"},{name:"Lepcha",bmp:"ᰀ-᰷᰻-᱉ᱍ-ᱏ"},{name:"Limbu",bmp:"ᤀ-ᤞᤠ-ᤫᤰ-᤻᥀᥄-᥏"},{name:"Linear_A",astral:"\ud801[\ude00-\udf36\udf40-\udf55\udf60-\udf67]"},{name:"Linear_B",astral:"\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa]"},{name:"Lisu",bmp:"ꓐ-꓿",astral:"𑾰"},{name:"Lycian",astral:"\ud800[\ude80-\ude9c]"},{name:"Lydian",astral:"\ud802[\udd20-\udd39\udd3f]"},{name:"Mahajani",astral:"\ud804[\udd50-\udd76]"},{name:"Makasar",astral:"\ud807[\udee0-\udef8]"},{name:"Malayalam",bmp:"ഀ-ഌഎ-ഐഒ-ൄെ-ൈൊ-൏ൔ-ൣ൦-ൿ"},{name:"Mandaic",bmp:"ࡀ-࡛࡞"},{name:"Manichaean",astral:"\ud802[\udec0-\udee6\udeeb-\udef6]"},{name:"Marchen",astral:"\ud807[\udc70-\udc8f\udc92-\udca7\udca9-\udcb6]"},{name:"Masaram_Gondi",astral:"\ud807[\udd00-\udd06\udd08\udd09\udd0b-\udd36\udd3a\udd3c\udd3d\udd3f-\udd47\udd50-\udd59]"},{name:"Medefaidrin",astral:"\ud81b[\ude40-\ude9a]"},{name:"Meetei_Mayek",bmp:"ꫠ-꫶ꯀ-꯭꯰-꯹"},{name:"Mende_Kikakui",astral:"\ud83a[\udc00-\udcc4\udcc7-\udcd6]"},{name:"Meroitic_Cursive",astral:"\ud802[\udda0-\uddb7\uddbc-\uddcf\uddd2-\uddff]"},{name:"Meroitic_Hieroglyphs",astral:"\ud802[\udd80-\udd9f]"},{name:"Miao",astral:"\ud81b[\udf00-\udf4a\udf4f-\udf87\udf8f-\udf9f]"},{name:"Modi",astral:"\ud805[\ude00-\ude44\ude50-\ude59]"},{name:"Mongolian",bmp:"᠀᠁᠄᠆-᠙ᠠ-ᡸᢀ-ᢪ",astral:"\ud805[\ude60-\ude6c]"},{name:"Mro",astral:"\ud81a[\ude40-\ude5e\ude60-\ude69\ude6e\ude6f]"},{name:"Multani",astral:"\ud804[\ude80-\ude86\ude88\ude8a-\ude8d\ude8f-\ude9d\ude9f-\udea9]"},{name:"Myanmar",bmp:"က-႟ꧠ-ꧾꩠ-ꩿ"},{name:"Nabataean",astral:"\ud802[\udc80-\udc9e\udca7-\udcaf]"},{name:"Nandinagari",astral:"\ud806[\udda0-\udda7\uddaa-\uddd7\uddda-\udde4]"},{name:"New_Tai_Lue",bmp:"ᦀ-ᦫᦰ-ᧉ᧐-᧚᧞᧟"},{name:"Newa",astral:"\ud805[\udc00-\udc5b\udc5d-\udc61]"},{name:"Nko",bmp:"߀-ߺ߽-߿"},{name:"Nushu",astral:"𖿡|\ud82c[\udd70-\udefb]"},{name:"Nyiakeng_Puachue_Hmong",astral:"\ud838[\udd00-\udd2c\udd30-\udd3d\udd40-\udd49\udd4e\udd4f]"},{name:"Ogham",bmp:" -᚜"},{name:"Ol_Chiki",bmp:"᱐-᱿"},{name:"Old_Hungarian",astral:"\ud803[\udc80-\udcb2\udcc0-\udcf2\udcfa-\udcff]"},{name:"Old_Italic",astral:"\ud800[\udf00-\udf23\udf2d-\udf2f]"},{name:"Old_North_Arabian",astral:"\ud802[\ude80-\ude9f]"},{name:"Old_Permic",astral:"\ud800[\udf50-\udf7a]"},{name:"Old_Persian",astral:"\ud800[\udfa0-\udfc3\udfc8-\udfd5]"},{name:"Old_Sogdian",astral:"\ud803[\udf00-\udf27]"},{name:"Old_South_Arabian",astral:"\ud802[\ude60-\ude7f]"},{name:"Old_Turkic",astral:"\ud803[\udc00-\udc48]"},{name:"Old_Uyghur",astral:"\ud803[\udf70-\udf89]"},{name:"Oriya",bmp:"ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍୕-ୗଡ଼ଢ଼ୟ-ୣ୦-୷"},{name:"Osage",astral:"\ud801[\udcb0-\udcd3\udcd8-\udcfb]"},{name:"Osmanya",astral:"\ud801[\udc80-\udc9d\udca0-\udca9]"},{name:"Pahawh_Hmong",astral:"\ud81a[\udf00-\udf45\udf50-\udf59\udf5b-\udf61\udf63-\udf77\udf7d-\udf8f]"},{name:"Palmyrene",astral:"\ud802[\udc60-\udc7f]"},{name:"Pau_Cin_Hau",astral:"\ud806[\udec0-\udef8]"},{name:"Phags_Pa",bmp:"ꡀ-꡷"},{name:"Phoenician",astral:"\ud802[\udd00-\udd1b\udd1f]"},{name:"Psalter_Pahlavi",astral:"\ud802[\udf80-\udf91\udf99-\udf9c\udfa9-\udfaf]"},{name:"Rejang",bmp:"ꤰ-꥓꥟"},{name:"Runic",bmp:"ᚠ-ᛪᛮ-ᛸ"},{name:"Samaritan",bmp:"ࠀ-࠭࠰-࠾"},{name:"Saurashtra",bmp:"ꢀ-ꣅ꣎-꣙"},{name:"Sharada",astral:"\ud804[\udd80-\udddf]"},{name:"Shavian",astral:"\ud801[\udc50-\udc7f]"},{name:"Siddham",astral:"\ud805[\udd80-\uddb5\uddb8-\udddd]"},{name:"SignWriting",astral:"\ud836[\udc00-\ude8b\ude9b-\ude9f\udea1-\udeaf]"},{name:"Sinhala",bmp:"ඁ-ඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲ-෴",astral:"\ud804[\udde1-\uddf4]"},{name:"Sogdian",astral:"\ud803[\udf30-\udf59]"},{name:"Sora_Sompeng",astral:"\ud804[\udcd0-\udce8\udcf0-\udcf9]"},{name:"Soyombo",astral:"\ud806[\ude50-\udea2]"},{name:"Sundanese",bmp:"ᮀ-ᮿ᳀-᳇"},{name:"Syloti_Nagri",bmp:"ꠀ-꠬"},{name:"Syriac",bmp:"܀-܍܏-݊ݍ-ݏࡠ-ࡪ"},{name:"Tagalog",bmp:"ᜀ-᜕ᜟ"},{name:"Tagbanwa",bmp:"ᝠ-ᝬᝮ-ᝰᝲᝳ"},{name:"Tai_Le",bmp:"ᥐ-ᥭᥰ-ᥴ"},{name:"Tai_Tham",bmp:"ᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪠-᪭"},{name:"Tai_Viet",bmp:"ꪀ-ꫂꫛ-꫟"},{name:"Takri",astral:"\ud805[\ude80-\udeb9\udec0-\udec9]"},{name:"Tamil",bmp:"ஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௺",astral:"\ud807[\udfc0-\udff1\udfff]"},{name:"Tangsa",astral:"\ud81a[\ude70-\udebe\udec0-\udec9]"},{name:"Tangut",astral:"𖿠|[\ud81c-\ud820][\udc00-\udfff]|\ud821[\udc00-\udff7]|\ud822[\udc00-\udeff]|\ud823[\udd00-\udd08]"},{name:"Telugu",bmp:"ఀ-ఌఎ-ఐఒ-నప-హ఼-ౄె-ైొ-్ౕౖౘ-ౚౝౠ-ౣ౦-౯౷-౿"},{name:"Thaana",bmp:"ހ-ޱ"},{name:"Thai",bmp:"ก-ฺเ-๛"},{name:"Tibetan",bmp:"ༀ-ཇཉ-ཬཱ-ྗྙ-ྼ྾-࿌࿎-࿔࿙࿚"},{name:"Tifinagh",bmp:"ⴰ-ⵧⵯ⵰⵿"},{name:"Tirhuta",astral:"\ud805[\udc80-\udcc7\udcd0-\udcd9]"},{name:"Toto",astral:"\ud838[\ude90-\udeae]"},{name:"Ugaritic",astral:"\ud800[\udf80-\udf9d\udf9f]"},{name:"Vai",bmp:"ꔀ-ꘫ"},{name:"Vithkuqi",astral:"\ud801[\udd70-\udd7a\udd7c-\udd8a\udd8c-\udd92\udd94\udd95\udd97-\udda1\udda3-\uddb1\uddb3-\uddb9\uddbb\uddbc]"},{name:"Wancho",astral:"\ud838[\udec0-\udef9\udeff]"},{name:"Warang_Citi",astral:"\ud806[\udca0-\udcf2\udcff]"},{name:"Yezidi",astral:"\ud803[\ude80-\udea9\udeab-\udead\udeb0\udeb1]"},{name:"Yi",bmp:"ꀀ-ꒌ꒐-꓆"},{name:"Zanabazar_Square",astral:"\ud806[\ude00-\ude47]"}];(e=>{const t="xregexp",n=/(\()(?!\?)|\\([1-9]\d*)|\\[\s\S]|\[(?:[^\\\]]|\\[\s\S])*\]/g,r=e.union([/\({{([\w$]+)}}\)|{{([\w$]+)}}/,n],"g",{conjunction:"or"});function s(e){const t=/^(?:\(\?:\))*\^/,n=/\$(?:\(\?:\))*$/;return t.test(e)&&n.test(e)&&n.test(e.replace(/\\[\s\S]/g,""))?e.replace(t,"").replace(n,""):e}function o(n,r){const s=r?"x":"";return e.isRegExp(n)?n[t]&&n[t].captureNames?n:e(n.source,s):e(n,s)}function i(t){return t instanceof RegExp?t:e.escape(t)}function a(e,t,n){return e[`subpattern${n}`]=t,e}function c(e,t,n){return e+(t<n.length-1?`{{subpattern${t}}}`:"")}e.tag=t=>(n,...r)=>{const s=r.map(i).reduce(a,{}),o=n.raw.map(c).join("");return e.build(o,s,t)},e.build=(i,a,c)=>{const u=(c=c||"").includes("x"),d=/^\(\?([\w$]+)\)/.exec(i);d&&(c=e._clipDuplicates(c+d[1]));const l={};for(const e in a)if(a.hasOwnProperty(e)){const n=o(a[e],u);l[e]={pattern:s(n.source),names:n[t].captureNames||[]}}const p=o(i,u);let f,h=0,m=0;const S=[0],y=p[t].captureNames||[],g=p.source.replace(r,((e,t,r,s,o)=>{const i=t||r;let a,c,u;if(i){if(!l.hasOwnProperty(i))throw new ReferenceError(`Undefined property ${e}`);return t?(a=y[m],S[++m]=++h,c=`(?<${a||i}>`):c="(?:",f=h,`${c}${l[i].pattern.replace(n,((e,t,n)=>{if(t){if(a=l[i].names[h-f],++h,a)return`(?<${a}>`}else if(n)return u=+n-1,l[i].names[u]?`\\k<${l[i].names[u]}>`:`\\${+n+f}`;return e}))})`}if(s){if(a=y[m],S[++m]=++h,a)return`(?<${a}>`}else if(o)return u=+o-1,y[u]?`\\k<${y[u]}>`:`\\${S[+o]}`;return e}));return e(g,c)}})($),(e=>{function t(e,t,n,r){return{name:e,value:t,start:n,end:r}}e.matchRecursive=(n,r,s,o,i)=>{i=i||{};const a=(o=o||"").includes("g"),c=o.includes("y"),u=o.replace(/y/g,"");let d;r=e(r,u),s=e(s,u);let{escapeChar:l}=i;if(l){if(l.length>1)throw new Error("Cannot use more than one escape character");l=e.escape(l),d=new RegExp(`(?:${l}[\\S\\s]|(?:(?!${e.union([r,s],"",{conjunction:"or"}).source})[^${l}])+)+`,o.replace(e._hasNativeFlag("s")?/[^imsu]/g:/[^imu]/g,""))}let p,f,h,m,S=0,y=0,g=0,b=0;const v=i.valueNames,E=[];for(;;){if(l&&(g+=(e.exec(n,d,g,"sticky")||[""])[0].length),h=e.exec(n,r,g),m=e.exec(n,s,g),h&&m&&(h.index<=m.index?m=null:h=null),h||m)y=(h||m).index,g=y+(h||m)[0].length;else if(!S)break;if(c&&!S&&y>b)break;if(h)S||(p=y,f=g),S+=1;else if(m&&S){if(S-=1,!S&&(v?(v[0]&&p>b&&E.push(t(v[0],n.slice(b,p),b,p)),v[1]&&E.push(t(v[1],n.slice(p,f),p,f)),v[2]&&E.push(t(v[2],n.slice(f,y),f,y)),v[3]&&E.push(t(v[3],n.slice(y,g),y,g))):E.push(n.slice(f,y)),b=g,!a))break}else{const t=i.unbalanced||"error";if("skip"!==t&&"skip-lazy"!==t){if("error"===t)throw new Error(`Unbalanced ${m?"right":"left"} delimiter found in string at position ${m?y:p}`);throw new Error(`Unsupported value for unbalanced: ${t}`)}m?m=null:(g="skip"===t?p+(e.exec(n,r,p,"sticky")[0].length||1):p+1,S=0)}y===g&&(g+=1)}return a&&E.length>0&&!c&&v&&v[0]&&n.length>b&&E.push(t(v[0],n.slice(b),b,n.length)),E}})($),(e=>{const t={},n={},r=e._dec,s=e._hex,o=e._pad4;function i(e){return e.replace(/[- _]+/g,"").toLowerCase()}function a(e){const t=/^\\[xu](.+)/.exec(e);return t?r(t[1]):e.charCodeAt("\\"===e[0]?1:0)}e.addToken(/\\([pP])(?:{(\^?)(?:(\w+)=)?([^}]*)}|([A-Za-z]))/,((r,c,u)=>{const d="Unknown Unicode token ",[l,p,f,h,m,S]=r;let y="P"===p||!!f;const g=u.includes("A");let b=i(S||m),v=t[b];if("P"===p&&f)throw new SyntaxError("Invalid double negation "+l);if(!t.hasOwnProperty(b))throw new SyntaxError(d+l);if(h&&(!n[h]||!n[h][b]))throw new SyntaxError(d+l);if(v.inverseOf){if(b=i(v.inverseOf),!t.hasOwnProperty(b))throw new ReferenceError(`${"Unicode token missing data "+l} -> ${v.inverseOf}`);v=t[b],y=!y}if(!v.bmp&&!g)throw new SyntaxError("Astral mode required for Unicode token "+l);if(g){if("class"===c)throw new SyntaxError("Astral mode does not support Unicode tokens within character classes");return function(e,n){const r=n?"a!":"a=";return t[e][r]||(t[e][r]=function(e,n){const r=t[e];let s="";return r.bmp&&!r.isBmpLast&&(s=`[${r.bmp}]${r.astral?"|":""}`),r.astral&&(s+=r.astral),r.isBmpLast&&r.bmp&&(s+=`${r.astral?"|":""}[${r.bmp}]`),n?`(?:(?!${s})(?:[\ud800-\udbff][\udc00-\udfff]|[\0-￿]))`:`(?:${s})`}(e,n))}(b,y)}return"class"===c?y?function(n){return t[n]["b!"]||(t[n]["b!"]=function(t){let n="",r=-1;return e.forEach(t,/(\\x..|\\u....|\\?[\s\S])(?:-(\\x..|\\u....|\\?[\s\S]))?/,(e=>{const t=a(e[1]);t>r+1&&(n+=`\\u${o(s(r+1))}`,t>r+2&&(n+=`-\\u${o(s(t-1))}`)),r=a(e[2]||e[1])})),r<65535&&(n+=`\\u${o(s(r+1))}`,r<65534&&(n+="-\\uFFFF")),n}(t[n].bmp))}(b):v.bmp:(y?"[^":"[")+v.bmp+"]"}),{scope:"all",optionalFlags:"A",leadChar:"\\"}),e.addUnicodeData=(r,s)=>{s&&(n[s]={});for(const e of r){if(!e.name)throw new Error("Unicode token requires name");if(!(e.inverseOf||e.bmp||e.astral))throw new Error("Unicode token has no character data "+e.name);const r=i(e.name);if(t[r]=e,s&&(n[s][r]=!0),e.alias){const r=i(e.alias);t[r]=e,s&&(n[s][r]=!0)}}e.cache.flush("patterns")},e._getUnicodeProperty=e=>{const n=i(e);return t[n]}})($),(e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Categories");e.addUnicodeData(q)})($),(e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Properties");const t=j;t.push({name:"Assigned",inverseOf:"Cn"}),e.addUnicodeData(t)})($),(e=>{if(!e.addUnicodeData)throw new ReferenceError("Unicode Base must be loaded before Unicode Scripts");e.addUnicodeData(M,"Script")})($);const G=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));function L(e,t){if(!Boolean(e))throw new Error(t)}function U(e){return"function"==typeof(null==e?void 0:e.then)}function F(e){return"object"==typeof e&&null!==e}function V(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const J=/\r\n|[\n\r]/g;function H(e,t){let n=0,r=1;for(const s of e.body.matchAll(J)){if("number"==typeof s.index||V(!1),s.index>=t)break;n=s.index+s[0].length,r+=1}return{line:r,column:t+1-n}}function K(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,s=t.line-1,o=e.locationOffset.line-1,i=t.line+o,a=1===t.line?n:0,c=t.column+a,u=`${e.name}:${i}:${c}\n`,d=r.split(/\r\n|[\n\r]/g),l=d[s];if(l.length>120){const e=Math.floor(c/80),t=c%80,n=[];for(let e=0;e<l.length;e+=80)n.push(l.slice(e,e+80));return u+W([[`${i} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return u+W([[i-1+" |",d[s-1]],[`${i} |`,l],["|","^".padStart(c)],[`${i+1} |`,d[s+1]]])}function W(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class X extends Error{constructor(e,...t){var n,r,s;const{nodes:o,source:i,positions:a,path:c,originalError:u,extensions:d}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=c?c:void 0,this.originalError=null!=u?u:void 0,this.nodes=Y(Array.isArray(o)?o:o?[o]:void 0);const l=Y(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=i?i:null==l||null===(r=l[0])||void 0===r?void 0:r.source,this.positions=null!=a?a:null==l?void 0:l.map((e=>e.start)),this.locations=a&&i?a.map((e=>H(i,e))):null==l?void 0:l.map((e=>H(e.source,e.start)));const p=F(null==u?void 0:u.extensions)?null==u?void 0:u.extensions:void 0;this.extensions=null!==(s=null!=d?d:p)&&void 0!==s?s:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,X):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+K((t=n.loc).source,H(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+K(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function Y(e){return void 0===e||0===e.length?void 0:e}function z(e,t,n){return new X(`Syntax Error: ${n}`,{source:e,positions:[t]})}class Z{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class Q{constructor(e,t,n,r,s,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=s,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ee={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},te=new Set(Object.keys(ee));function ne(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&te.has(t)}var re,se,oe,ie,ae,ce,ue,de;function le(e){return 9===e||32===e}function pe(e){return e>=48&&e<=57}function fe(e){return e>=97&&e<=122||e>=65&&e<=90}function he(e){return fe(e)||95===e}function me(e){return fe(e)||pe(e)||95===e}function Se(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,s=-1;for(let t=0;t<e.length;++t){var o;const i=e[t],a=ye(i);a!==i.length&&(r=null!==(o=r)&&void 0!==o?o:t,s=t,0!==t&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,s+1)}function ye(e){let t=0;for(;t<e.length&&le(e.charCodeAt(t));)++t;return t}(se=re||(re={})).QUERY="query",se.MUTATION="mutation",se.SUBSCRIPTION="subscription",(ie=oe||(oe={})).QUERY="QUERY",ie.MUTATION="MUTATION",ie.SUBSCRIPTION="SUBSCRIPTION",ie.FIELD="FIELD",ie.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",ie.FRAGMENT_SPREAD="FRAGMENT_SPREAD",ie.INLINE_FRAGMENT="INLINE_FRAGMENT",ie.VARIABLE_DEFINITION="VARIABLE_DEFINITION",ie.SCHEMA="SCHEMA",ie.SCALAR="SCALAR",ie.OBJECT="OBJECT",ie.FIELD_DEFINITION="FIELD_DEFINITION",ie.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",ie.INTERFACE="INTERFACE",ie.UNION="UNION",ie.ENUM="ENUM",ie.ENUM_VALUE="ENUM_VALUE",ie.INPUT_OBJECT="INPUT_OBJECT",ie.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",(ce=ae||(ae={})).NAME="Name",ce.DOCUMENT="Document",ce.OPERATION_DEFINITION="OperationDefinition",ce.VARIABLE_DEFINITION="VariableDefinition",ce.SELECTION_SET="SelectionSet",ce.FIELD="Field",ce.ARGUMENT="Argument",ce.FRAGMENT_SPREAD="FragmentSpread",ce.INLINE_FRAGMENT="InlineFragment",ce.FRAGMENT_DEFINITION="FragmentDefinition",ce.VARIABLE="Variable",ce.INT="IntValue",ce.FLOAT="FloatValue",ce.STRING="StringValue",ce.BOOLEAN="BooleanValue",ce.NULL="NullValue",ce.ENUM="EnumValue",ce.LIST="ListValue",ce.OBJECT="ObjectValue",ce.OBJECT_FIELD="ObjectField",ce.DIRECTIVE="Directive",ce.NAMED_TYPE="NamedType",ce.LIST_TYPE="ListType",ce.NON_NULL_TYPE="NonNullType",ce.SCHEMA_DEFINITION="SchemaDefinition",ce.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",ce.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",ce.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",ce.FIELD_DEFINITION="FieldDefinition",ce.INPUT_VALUE_DEFINITION="InputValueDefinition",ce.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",ce.UNION_TYPE_DEFINITION="UnionTypeDefinition",ce.ENUM_TYPE_DEFINITION="EnumTypeDefinition",ce.ENUM_VALUE_DEFINITION="EnumValueDefinition",ce.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",ce.DIRECTIVE_DEFINITION="DirectiveDefinition",ce.SCHEMA_EXTENSION="SchemaExtension",ce.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",ce.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",ce.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",ce.UNION_TYPE_EXTENSION="UnionTypeExtension",ce.ENUM_TYPE_EXTENSION="EnumTypeExtension",ce.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(de=ue||(ue={})).SOF="<SOF>",de.EOF="<EOF>",de.BANG="!",de.DOLLAR="$",de.AMP="&",de.PAREN_L="(",de.PAREN_R=")",de.SPREAD="...",de.COLON=":",de.EQUALS="=",de.AT="@",de.BRACKET_L="[",de.BRACKET_R="]",de.BRACE_L="{",de.PIPE="|",de.BRACE_R="}",de.NAME="Name",de.INT="Int",de.FLOAT="Float",de.STRING="String",de.BLOCK_STRING="BlockString",de.COMMENT="Comment";class ge{constructor(e){const t=new Q(ue.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==ue.EOF)do{if(e.next)e=e.next;else{const t=ke(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===ue.COMMENT);return e}}function be(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ve(e,t){return Ee(e.charCodeAt(t))&&Ae(e.charCodeAt(t+1))}function Ee(e){return e>=55296&&e<=56319}function Ae(e){return e>=56320&&e<=57343}function Te(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return ue.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function we(e,t,n,r,s){const o=e.line,i=1+n-e.lineStart;return new Q(t,n,r,o,i,s)}function ke(e,t){const n=e.source.body,r=n.length;let s=t;for(;s<r;){const t=n.charCodeAt(s);switch(t){case 65279:case 9:case 32:case 44:++s;continue;case 10:++s,++e.line,e.lineStart=s;continue;case 13:10===n.charCodeAt(s+1)?s+=2:++s,++e.line,e.lineStart=s;continue;case 35:return Ie(e,s);case 33:return we(e,ue.BANG,s,s+1);case 36:return we(e,ue.DOLLAR,s,s+1);case 38:return we(e,ue.AMP,s,s+1);case 40:return we(e,ue.PAREN_L,s,s+1);case 41:return we(e,ue.PAREN_R,s,s+1);case 46:if(46===n.charCodeAt(s+1)&&46===n.charCodeAt(s+2))return we(e,ue.SPREAD,s,s+3);break;case 58:return we(e,ue.COLON,s,s+1);case 61:return we(e,ue.EQUALS,s,s+1);case 64:return we(e,ue.AT,s,s+1);case 91:return we(e,ue.BRACKET_L,s,s+1);case 93:return we(e,ue.BRACKET_R,s,s+1);case 123:return we(e,ue.BRACE_L,s,s+1);case 124:return we(e,ue.PIPE,s,s+1);case 125:return we(e,ue.BRACE_R,s,s+1);case 34:return 34===n.charCodeAt(s+1)&&34===n.charCodeAt(s+2)?Re(e,s):Oe(e,s)}if(pe(t)||45===t)return Pe(e,s,t);if(he(t))return Be(e,s);throw z(e.source,s,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":be(t)||ve(n,s)?`Unexpected character: ${Te(e,s)}.`:`Invalid character: ${Te(e,s)}.`)}return we(e,ue.EOF,r,r)}function Ie(e,t){const n=e.source.body,r=n.length;let s=t+1;for(;s<r;){const e=n.charCodeAt(s);if(10===e||13===e)break;if(be(e))++s;else{if(!ve(n,s))break;s+=2}}return we(e,ue.COMMENT,t,s,n.slice(t+1,s))}function Pe(e,t,n){const r=e.source.body;let s=t,o=n,i=!1;if(45===o&&(o=r.charCodeAt(++s)),48===o){if(o=r.charCodeAt(++s),pe(o))throw z(e.source,s,`Invalid number, unexpected digit after 0: ${Te(e,s)}.`)}else s=Ne(e,s,o),o=r.charCodeAt(s);if(46===o&&(i=!0,o=r.charCodeAt(++s),s=Ne(e,s,o),o=r.charCodeAt(s)),69!==o&&101!==o||(i=!0,o=r.charCodeAt(++s),43!==o&&45!==o||(o=r.charCodeAt(++s)),s=Ne(e,s,o),o=r.charCodeAt(s)),46===o||he(o))throw z(e.source,s,`Invalid number, expected digit but got: ${Te(e,s)}.`);return we(e,i?ue.FLOAT:ue.INT,t,s,r.slice(t,s))}function Ne(e,t,n){if(!pe(n))throw z(e.source,t,`Invalid number, expected digit but got: ${Te(e,t)}.`);const r=e.source.body;let s=t+1;for(;pe(r.charCodeAt(s));)++s;return s}function Oe(e,t){const n=e.source.body,r=n.length;let s=t+1,o=s,i="";for(;s<r;){const r=n.charCodeAt(s);if(34===r)return i+=n.slice(o,s),we(e,ue.STRING,t,s+1,i);if(92!==r){if(10===r||13===r)break;if(be(r))++s;else{if(!ve(n,s))throw z(e.source,s,`Invalid character within String: ${Te(e,s)}.`);s+=2}}else{i+=n.slice(o,s);const t=117===n.charCodeAt(s+1)?123===n.charCodeAt(s+2)?_e(e,s):xe(e,s):De(e,s);i+=t.value,s+=t.size,o=s}}throw z(e.source,s,"Unterminated string.")}function _e(e,t){const n=e.source.body;let r=0,s=3;for(;s<12;){const e=n.charCodeAt(t+s++);if(125===e){if(s<5||!be(r))break;return{value:String.fromCodePoint(r),size:s}}if(r=r<<4|$e(e),r<0)break}throw z(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+s)}".`)}function xe(e,t){const n=e.source.body,r=Ce(n,t+2);if(be(r))return{value:String.fromCodePoint(r),size:6};if(Ee(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=Ce(n,t+8);if(Ae(e))return{value:String.fromCodePoint(r,e),size:12}}throw z(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Ce(e,t){return $e(e.charCodeAt(t))<<12|$e(e.charCodeAt(t+1))<<8|$e(e.charCodeAt(t+2))<<4|$e(e.charCodeAt(t+3))}function $e(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function De(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw z(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Re(e,t){const n=e.source.body,r=n.length;let s=e.lineStart,o=t+3,i=o,a="";const c=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){a+=n.slice(i,o),c.push(a);const r=we(e,ue.BLOCK_STRING,t,o+3,Se(c).join("\n"));return e.line+=c.length-1,e.lineStart=s,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(be(r))++o;else{if(!ve(n,o))throw z(e.source,o,`Invalid character within String: ${Te(e,o)}.`);o+=2}else a+=n.slice(i,o),c.push(a),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,a="",i=o,s=o;else a+=n.slice(i,o),i=o+1,o+=4}throw z(e.source,o,"Unterminated string.")}function Be(e,t){const n=e.source.body,r=n.length;let s=t+1;for(;s<r&&me(n.charCodeAt(s));)++s;return we(e,ue.NAME,t,s,n.slice(t,s))}const qe=10,je=2;function Me(e){return Ge(e,[])}function Ge(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Ge(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>je)return"[Array]";const n=Math.min(qe,e.length),r=e.length-n,s=[];for(let r=0;r<n;++r)s.push(Ge(e[r],t));return 1===r?s.push("... 1 more item"):r>1&&s.push(`... ${r} more items`),"["+s.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>je)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+Ge(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}const Le=function(e,t){return e instanceof t};class Ue{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||L(!1,`Body must be a string. Received: ${Me(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||L(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||L(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function Fe(e,t){return new Ve(e,t).parseDocument()}let Ve=class{constructor(e,t={}){const n=function(e){return Le(e,Ue)}(e)?e:new Ue(e);this._lexer=new ge(n),this._options=t,this._tokenCounter=0}parseName(){const e=this.expectToken(ue.NAME);return this.node(e,{kind:ae.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ae.DOCUMENT,definitions:this.many(ue.SOF,this.parseDefinition,ue.EOF)})}parseDefinition(){if(this.peek(ue.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===ue.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw z(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(ue.BRACE_L))return this.node(e,{kind:ae.OPERATION_DEFINITION,operation:re.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(ue.NAME)&&(n=this.parseName()),this.node(e,{kind:ae.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(ue.NAME);switch(e.value){case"query":return re.QUERY;case"mutation":return re.MUTATION;case"subscription":return re.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(ue.PAREN_L,this.parseVariableDefinition,ue.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ae.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ue.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ue.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(ue.DOLLAR),this.node(e,{kind:ae.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ae.SELECTION_SET,selections:this.many(ue.BRACE_L,this.parseSelection,ue.BRACE_R)})}parseSelection(){return this.peek(ue.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(ue.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:ae.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ue.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ue.PAREN_L,t,ue.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(ue.COLON),this.node(t,{kind:ae.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(ue.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(ue.NAME)?this.node(e,{kind:ae.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ae.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ae.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case ue.BRACKET_L:return this.parseList(e);case ue.BRACE_L:return this.parseObject(e);case ue.INT:return this.advanceLexer(),this.node(t,{kind:ae.INT,value:t.value});case ue.FLOAT:return this.advanceLexer(),this.node(t,{kind:ae.FLOAT,value:t.value});case ue.STRING:case ue.BLOCK_STRING:return this.parseStringLiteral();case ue.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:ae.BOOLEAN,value:!0});case"false":return this.node(t,{kind:ae.BOOLEAN,value:!1});case"null":return this.node(t,{kind:ae.NULL});default:return this.node(t,{kind:ae.ENUM,value:t.value})}case ue.DOLLAR:if(e){if(this.expectToken(ue.DOLLAR),this._lexer.token.kind===ue.NAME){const e=this._lexer.token.value;throw z(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ae.STRING,value:e.value,block:e.kind===ue.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:ae.LIST,values:this.any(ue.BRACKET_L,(()=>this.parseValueLiteral(e)),ue.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:ae.OBJECT,fields:this.any(ue.BRACE_L,(()=>this.parseObjectField(e)),ue.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(ue.COLON),this.node(t,{kind:ae.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(ue.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(ue.AT),this.node(t,{kind:ae.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(ue.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(ue.BRACKET_R),t=this.node(e,{kind:ae.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(ue.BANG)?this.node(e,{kind:ae.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:ae.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ue.STRING)||this.peek(ue.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(ue.BRACE_L,this.parseOperationTypeDefinition,ue.BRACE_R);return this.node(e,{kind:ae.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(ue.COLON);const n=this.parseNamedType();return this.node(e,{kind:ae.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:ae.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ae.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:s,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ue.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ue.BRACE_L,this.parseFieldDefinition,ue.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(ue.COLON);const s=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:ae.FIELD_DEFINITION,description:t,name:n,arguments:r,type:s,directives:o})}parseArgumentDefs(){return this.optionalMany(ue.PAREN_L,this.parseInputValueDef,ue.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ue.COLON);const r=this.parseTypeReference();let s;this.expectOptionalToken(ue.EQUALS)&&(s=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:ae.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:s,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),s=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:ae.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:s,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseUnionMemberTypes();return this.node(e,{kind:ae.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:s})}parseUnionMemberTypes(){return this.expectOptionalToken(ue.EQUALS)?this.delimitedMany(ue.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseEnumValuesDefinition();return this.node(e,{kind:ae.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:s})}parseEnumValuesDefinition(){return this.optionalMany(ue.BRACE_L,this.parseEnumValueDefinition,ue.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:ae.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw z(this._lexer.source,this._lexer.token.start,`${Je(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),s=this.parseInputFieldsDefinition();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:s})}parseInputFieldsDefinition(){return this.optionalMany(ue.BRACE_L,this.parseInputValueDef,ue.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===ue.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(ue.BRACE_L,this.parseOperationTypeDefinition,ue.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ae.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:ae.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(e,{kind:ae.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:s})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),s=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===s.length)throw this.unexpected();return this.node(e,{kind:ae.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:s})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ae.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ae.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ae.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ue.AT);const n=this.parseName(),r=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:ae.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:s,locations:o})}parseDirectiveLocations(){return this.delimitedMany(ue.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(oe,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new Z(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw z(this._lexer.source,t.start,`Expected ${He(e)}, found ${Je(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==ue.NAME||t.value!==e)throw z(this._lexer.source,t.start,`Expected "${e}", found ${Je(t)}.`);this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===ue.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return z(this._lexer.source,t.start,`Unexpected ${Je(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(void 0!==e&&t.kind!==ue.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw z(this._lexer.source,t.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function Je(e){const t=e.value;return He(e.kind)+(null!=t?` "${t}"`:"")}function He(e){return function(e){return e===ue.BANG||e===ue.DOLLAR||e===ue.AMP||e===ue.PAREN_L||e===ue.PAREN_R||e===ue.SPREAD||e===ue.COLON||e===ue.EQUALS||e===ue.AT||e===ue.BRACKET_L||e===ue.BRACKET_R||e===ue.BRACE_L||e===ue.PIPE||e===ue.BRACE_R}(e)?`"${e}"`:e}const Ke=5;function We(e,t){const[n,r]=t?[e,t]:[void 0,e];let s=" Did you mean ";n&&(s+=n+" ");const o=r.map((e=>`"${e}"`));switch(o.length){case 0:return"";case 1:return s+o[0]+"?";case 2:return s+o[0]+" or "+o[1]+"?"}const i=o.slice(0,Ke),a=i.pop();return s+i.join(", ")+", or "+a+"?"}function Xe(e){return e}function Ye(e,t){const n=Object.create(null);for(const r of e)n[t(r)]=r;return n}function ze(e,t,n){const r=Object.create(null);for(const s of e)r[t(s)]=n(s);return r}function Ze(e,t){const n=Object.create(null);for(const r of Object.keys(e))n[r]=t(e[r],r);return n}function Qe(e,t){let n=0,r=0;for(;n<e.length&&r<t.length;){let s=e.charCodeAt(n),o=t.charCodeAt(r);if(nt(s)&&nt(o)){let i=0;do{++n,i=10*i+s-et,s=e.charCodeAt(n)}while(nt(s)&&i>0);let a=0;do{++r,a=10*a+o-et,o=t.charCodeAt(r)}while(nt(o)&&a>0);if(i<a)return-1;if(i>a)return 1}else{if(s<o)return-1;if(s>o)return 1;++n,++r}}return e.length-t.length}const et=48,tt=57;function nt(e){return!isNaN(e)&&et<=e&&e<=tt}function rt(e,t){const n=Object.create(null),r=new st(e),s=Math.floor(.4*e.length)+1;for(const e of t){const t=r.measure(e,s);void 0!==t&&(n[e]=t)}return Object.keys(n).sort(((e,t)=>{const r=n[e]-n[t];return 0!==r?r:Qe(e,t)}))}class st{constructor(e){this._input=e,this._inputLowerCase=e.toLowerCase(),this._inputArray=ot(this._inputLowerCase),this._rows=[new Array(e.length+1).fill(0),new Array(e.length+1).fill(0),new Array(e.length+1).fill(0)]}measure(e,t){if(this._input===e)return 0;const n=e.toLowerCase();if(this._inputLowerCase===n)return 1;let r=ot(n),s=this._inputArray;if(r.length<s.length){const e=r;r=s,s=e}const o=r.length,i=s.length;if(o-i>t)return;const a=this._rows;for(let e=0;e<=i;e++)a[0][e]=e;for(let e=1;e<=o;e++){const n=a[(e-1)%3],o=a[e%3];let c=o[0]=e;for(let t=1;t<=i;t++){const i=r[e-1]===s[t-1]?0:1;let u=Math.min(n[t]+1,o[t-1]+1,n[t-1]+i);if(e>1&&t>1&&r[e-1]===s[t-2]&&r[e-2]===s[t-1]){const n=a[(e-2)%3][t-2];u=Math.min(u,n+1)}u<c&&(c=u),o[t]=u}if(c>t)return}const c=a[o%3][i];return c<=t?c:void 0}}function ot(e){const t=e.length,n=new Array(t);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return n}function it(e){if(null==e)return Object.create(null);if(null===Object.getPrototypeOf(e))return e;const t=Object.create(null);for(const[n,r]of Object.entries(e))t[n]=r;return t}const at=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function ct(e){return ut[e.charCodeAt(0)]}const ut=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],dt=Object.freeze({});function lt(e,t,n=ee){const r=new Map;for(const e of Object.values(ae))r.set(e,ft(t,e));let s,o,i,a=Array.isArray(e),c=[e],u=-1,d=[],l=e;const p=[],f=[];do{u++;const e=u===c.length,y=e&&0!==d.length;if(e){if(o=0===f.length?void 0:p[p.length-1],l=i,i=f.pop(),y)if(a){l=l.slice();let e=0;for(const[t,n]of d){const r=t-e;null===n?(l.splice(r,1),e++):l[r]=n}}else{l=Object.defineProperties({},Object.getOwnPropertyDescriptors(l));for(const[e,t]of d)l[e]=t}u=s.index,c=s.keys,d=s.edits,a=s.inArray,s=s.prev}else if(i){if(o=a?u:c[u],l=i[o],null==l)continue;p.push(o)}let g;if(!Array.isArray(l)){var h,m;ne(l)||L(!1,`Invalid AST Node: ${Me(l)}.`);const n=e?null===(h=r.get(l.kind))||void 0===h?void 0:h.leave:null===(m=r.get(l.kind))||void 0===m?void 0:m.enter;if(g=null==n?void 0:n.call(t,l,o,i,p,f),g===dt)break;if(!1===g){if(!e){p.pop();continue}}else if(void 0!==g&&(d.push([o,g]),!e)){if(!ne(g)){p.pop();continue}l=g}}var S;void 0===g&&y&&d.push([o,l]),e?p.pop():(s={inArray:a,index:u,keys:c,edits:d,prev:s},a=Array.isArray(l),c=a?l:null!==(S=n[l.kind])&&void 0!==S?S:[],u=-1,d=[],i&&f.push(i),i=l)}while(void 0!==s);return 0!==d.length?d[d.length-1][1]:e}function pt(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(ae)){let s=!1;const o=new Array(e.length).fill(void 0),i=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:a}=ft(e[t],r);s||(s=null!=n||null!=a),o[t]=n,i[t]=a}if(!s)continue;const a={enter(...n){const r=n[0];for(let i=0;i<e.length;i++)if(null===t[i]){var s;const a=null===(s=o[i])||void 0===s?void 0:s.apply(e[i],n);if(!1===a)t[i]=r;else if(a===dt)t[i]=dt;else if(void 0!==a)return a}},leave(...n){const r=n[0];for(let o=0;o<e.length;o++)if(null===t[o]){var s;const r=null===(s=i[o])||void 0===s?void 0:s.apply(e[o],n);if(r===dt)t[o]=dt;else if(void 0!==r&&!1!==r)return r}else t[o]===r&&(t[o]=null)}};n[r]=a}return n}function ft(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function ht(e){return lt(e,mt)}const mt={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>St(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=gt("(",St(e.variableDefinitions,", "),")"),n=St([e.operation,St([e.name,t]),St(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+gt(" = ",n)+gt(" ",St(r," "))},SelectionSet:{leave:({selections:e})=>yt(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:s}){const o=gt("",e,": ")+t;let i=o+gt("(",St(n,", "),")");return i.length>80&&(i=o+gt("(\n",bt(St(n,"\n")),"\n)")),St([i,St(r," "),s]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+gt(" ",St(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>St(["...",gt("on ",e),St(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:s})=>`fragment ${e}${gt("(",St(n,", "),")")} on ${t} ${gt("",St(r," ")," ")}`+s},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),s=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||le(e.charCodeAt(0)))),i=n.endsWith('\\"""'),a=e.endsWith('"')&&!i,c=e.endsWith("\\"),u=a||c,d=!s||e.length>70||u||o||i;let l="";const p=s&&le(e.charCodeAt(0));return(d&&!p||o)&&(l+="\n"),l+=n,(d||u)&&(l+="\n"),'"""'+l+'"""'}(e):`"${e.replace(at,ct)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+St(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+St(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+gt("(",St(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>gt("",e,"\n")+St(["schema",St(t," "),yt(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>gt("",e,"\n")+St(["scalar",t,St(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:s})=>gt("",e,"\n")+St(["type",t,gt("implements ",St(n," & ")),St(r," "),yt(s)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:s})=>gt("",e,"\n")+t+(vt(n)?gt("(\n",bt(St(n,"\n")),"\n)"):gt("(",St(n,", "),")"))+": "+r+gt(" ",St(s," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:s})=>gt("",e,"\n")+St([t+": "+n,gt("= ",r),St(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:s})=>gt("",e,"\n")+St(["interface",t,gt("implements ",St(n," & ")),St(r," "),yt(s)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>gt("",e,"\n")+St(["union",t,St(n," "),gt("= ",St(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>gt("",e,"\n")+St(["enum",t,St(n," "),yt(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>gt("",e,"\n")+St([t,St(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>gt("",e,"\n")+St(["input",t,St(n," "),yt(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:s})=>gt("",e,"\n")+"directive @"+t+(vt(n)?gt("(\n",bt(St(n,"\n")),"\n)"):gt("(",St(n,", "),")"))+(r?" repeatable":"")+" on "+St(s," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>St(["extend schema",St(e," "),yt(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>St(["extend scalar",e,St(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>St(["extend type",e,gt("implements ",St(t," & ")),St(n," "),yt(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>St(["extend interface",e,gt("implements ",St(t," & ")),St(n," "),yt(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>St(["extend union",e,St(t," "),gt("= ",St(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>St(["extend enum",e,St(t," "),yt(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>St(["extend input",e,St(t," "),yt(n)]," ")}};function St(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function yt(e){return gt("{\n",bt(St(e,"\n")),"\n}")}function gt(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function bt(e){return gt("  ",e.replace(/\n/g,"\n  "))}function vt(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function Et(e,t){switch(e.kind){case ae.NULL:return null;case ae.INT:return parseInt(e.value,10);case ae.FLOAT:return parseFloat(e.value);case ae.STRING:case ae.ENUM:case ae.BOOLEAN:return e.value;case ae.LIST:return e.values.map((e=>Et(e,t)));case ae.OBJECT:return ze(e.fields,(e=>e.name.value),(e=>Et(e.value,t)));case ae.VARIABLE:return null==t?void 0:t[e.name.value]}}function At(e){if(null!=e||L(!1,"Must provide name."),"string"==typeof e||L(!1,"Expected name to be a string."),0===e.length)throw new X("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!me(e.charCodeAt(t)))throw new X(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!he(e.charCodeAt(0)))throw new X(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function Tt(e){if("true"===e||"false"===e||"null"===e)throw new X(`Enum values cannot be named: ${e}`);return At(e)}function wt(e){return kt(e)||It(e)||Pt(e)||Nt(e)||Ot(e)||_t(e)||xt(e)||Ct(e)}function kt(e){return Le(e,Ht)}function It(e){return Le(e,Kt)}function Pt(e){return Le(e,tn)}function Nt(e){return Le(e,nn)}function Ot(e){return Le(e,sn)}function _t(e){return Le(e,an)}function xt(e){return Le(e,jt)}function Ct(e){return Le(e,Mt)}function $t(e){return kt(e)||Ot(e)||_t(e)||Gt(e)&&$t(e.ofType)}function Dt(e){return kt(e)||It(e)||Pt(e)||Nt(e)||Ot(e)||Gt(e)&&Dt(e.ofType)}function Rt(e){return kt(e)||Ot(e)}function Bt(e){return It(e)||Pt(e)||Nt(e)}function qt(e){return Pt(e)||Nt(e)}class jt{constructor(e){wt(e)||L(!1,`Expected ${Me(e)} to be a GraphQL type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class Mt{constructor(e){var t;wt(t=e)&&!Ct(t)||L(!1,`Expected ${Me(e)} to be a GraphQL nullable type.`),this.ofType=e}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function Gt(e){return xt(e)||Ct(e)}function Lt(e){if(e)return Ct(e)?e.ofType:e}function Ut(e){return kt(e)||It(e)||Pt(e)||Nt(e)||Ot(e)||_t(e)}function Ft(e){if(e){let t=e;for(;Gt(t);)t=t.ofType;return t}}function Vt(e){return"function"==typeof e?e():e}function Jt(e){return"function"==typeof e?e():e}class Ht{constructor(e){var t,n,r,s;const o=null!==(t=e.parseValue)&&void 0!==t?t:Xe;this.name=At(e.name),this.description=e.description,this.specifiedByURL=e.specifiedByURL,this.serialize=null!==(n=e.serialize)&&void 0!==n?n:Xe,this.parseValue=o,this.parseLiteral=null!==(r=e.parseLiteral)&&void 0!==r?r:(e,t)=>o(Et(e,t)),this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(s=e.extensionASTNodes)&&void 0!==s?s:[],null==e.specifiedByURL||"string"==typeof e.specifiedByURL||L(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${Me(e.specifiedByURL)}.`),null==e.serialize||"function"==typeof e.serialize||L(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),e.parseLiteral&&("function"==typeof e.parseValue&&"function"==typeof e.parseLiteral||L(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Kt{constructor(e){var t;this.name=At(e.name),this.description=e.description,this.isTypeOf=e.isTypeOf,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=()=>Xt(e),this._interfaces=()=>Wt(e),null==e.isTypeOf||"function"==typeof e.isTypeOf||L(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${Me(e.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Zt(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Wt(e){var t;const n=Vt(null!==(t=e.interfaces)&&void 0!==t?t:[]);return Array.isArray(n)||L(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function Xt(e){const t=Jt(e.fields);return zt(t)||L(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Ze(t,((t,n)=>{var r;zt(t)||L(!1,`${e.name}.${n} field config must be an object.`),null==t.resolve||"function"==typeof t.resolve||L(!1,`${e.name}.${n} field resolver must be a function if provided, but got: ${Me(t.resolve)}.`);const s=null!==(r=t.args)&&void 0!==r?r:{};return zt(s)||L(!1,`${e.name}.${n} args must be an object with argument names as keys.`),{name:At(n),description:t.description,type:t.type,args:Yt(s),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:it(t.extensions),astNode:t.astNode}}))}function Yt(e){return Object.entries(e).map((([e,t])=>({name:At(e),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:it(t.extensions),astNode:t.astNode})))}function zt(e){return F(e)&&!Array.isArray(e)}function Zt(e){return Ze(e,(e=>({description:e.description,type:e.type,args:Qt(e.args),resolve:e.resolve,subscribe:e.subscribe,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function Qt(e){return ze(e,(e=>e.name),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})))}function en(e){return Ct(e.type)&&void 0===e.defaultValue}class tn{constructor(e){var t;this.name=At(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=Xt.bind(void 0,e),this._interfaces=Wt.bind(void 0,e),null==e.resolveType||"function"==typeof e.resolveType||L(!1,`${this.name} must provide "resolveType" as a function, but got: ${Me(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}getInterfaces(){return"function"==typeof this._interfaces&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Zt(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class nn{constructor(e){var t;this.name=At(e.name),this.description=e.description,this.resolveType=e.resolveType,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._types=rn.bind(void 0,e),null==e.resolveType||"function"==typeof e.resolveType||L(!1,`${this.name} must provide "resolveType" as a function, but got: ${Me(e.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return"function"==typeof this._types&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function rn(e){const t=Vt(e.types);return Array.isArray(t)||L(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class sn{constructor(e){var t,n,r;this.name=At(e.name),this.description=e.description,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._values=(n=this.name,zt(r=e.values)||L(!1,`${n} values must be an object with value names as keys.`),Object.entries(r).map((([e,t])=>(zt(t)||L(!1,`${n}.${e} must refer to an object with a "value" key representing an internal value but got: ${Me(t)}.`),{name:Tt(e),description:t.description,value:void 0!==t.value?t.value:e,deprecationReason:t.deprecationReason,extensions:it(t.extensions),astNode:t.astNode})))),this._valueLookup=new Map(this._values.map((e=>[e.value,e]))),this._nameLookup=Ye(this._values,(e=>e.name))}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(e){return this._nameLookup[e]}serialize(e){const t=this._valueLookup.get(e);if(void 0===t)throw new X(`Enum "${this.name}" cannot represent value: ${Me(e)}`);return t.name}parseValue(e){if("string"!=typeof e){const t=Me(e);throw new X(`Enum "${this.name}" cannot represent non-string value: ${t}.`+on(this,t))}const t=this.getValue(e);if(null==t)throw new X(`Value "${e}" does not exist in "${this.name}" enum.`+on(this,e));return t.value}parseLiteral(e,t){if(e.kind!==ae.ENUM){const t=ht(e);throw new X(`Enum "${this.name}" cannot represent non-enum value: ${t}.`+on(this,t),{nodes:e})}const n=this.getValue(e.value);if(null==n){const t=ht(e);throw new X(`Value "${t}" does not exist in "${this.name}" enum.`+on(this,t),{nodes:e})}return n.value}toConfig(){const e=ze(this.getValues(),(e=>e.name),(e=>({description:e.description,value:e.value,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,values:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function on(e,t){return We("the enum value",rt(t,e.getValues().map((e=>e.name))))}class an{constructor(e){var t;this.name=At(e.name),this.description=e.description,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._fields=cn.bind(void 0,e)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return"function"==typeof this._fields&&(this._fields=this._fields()),this._fields}toConfig(){const e=Ze(this.getFields(),(e=>({description:e.description,type:e.type,defaultValue:e.defaultValue,deprecationReason:e.deprecationReason,extensions:e.extensions,astNode:e.astNode})));return{name:this.name,description:this.description,fields:e,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function cn(e){const t=Jt(e.fields);return zt(t)||L(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),Ze(t,((t,n)=>(!("resolve"in t)||L(!1,`${e.name}.${n} field has a resolve property, but Input Types cannot define resolvers.`),{name:At(n),description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:it(t.extensions),astNode:t.astNode})))}function un(e){return Ct(e.type)&&void 0===e.defaultValue}function dn(e,t){return e===t||(Ct(e)&&Ct(t)||!(!xt(e)||!xt(t)))&&dn(e.ofType,t.ofType)}function ln(e,t,n){return t===n||(Ct(n)?!!Ct(t)&&ln(e,t.ofType,n.ofType):Ct(t)?ln(e,t.ofType,n):xt(n)?!!xt(t)&&ln(e,t.ofType,n.ofType):!xt(t)&&qt(n)&&(Pt(t)||It(t))&&e.isSubType(n,t))}function pn(e,t,n){return t===n||(qt(t)?qt(n)?e.getPossibleTypes(t).some((t=>e.isSubType(n,t))):e.isSubType(t,n):!!qt(n)&&e.isSubType(n,t))}const fn=2147483647,hn=-2147483648,mn=new Ht({name:"Int",description:"The `Int` scalar type represents non-fractional signed whole numeric values. Int can represent values between -(2^31) and 2^31 - 1.",serialize(e){const t=An(e);if("boolean"==typeof t)return t?1:0;let n=t;if("string"==typeof t&&""!==t&&(n=Number(t)),"number"!=typeof n||!Number.isInteger(n))throw new X(`Int cannot represent non-integer value: ${Me(t)}`);if(n>fn||n<hn)throw new X("Int cannot represent non 32-bit signed integer value: "+Me(t));return n},parseValue(e){if("number"!=typeof e||!Number.isInteger(e))throw new X(`Int cannot represent non-integer value: ${Me(e)}`);if(e>fn||e<hn)throw new X(`Int cannot represent non 32-bit signed integer value: ${e}`);return e},parseLiteral(e){if(e.kind!==ae.INT)throw new X(`Int cannot represent non-integer value: ${ht(e)}`,{nodes:e});const t=parseInt(e.value,10);if(t>fn||t<hn)throw new X(`Int cannot represent non 32-bit signed integer value: ${e.value}`,{nodes:e});return t}}),Sn=new Ht({name:"Float",description:"The `Float` scalar type represents signed double-precision fractional values as specified by [IEEE 754](https://en.wikipedia.org/wiki/IEEE_floating_point).",serialize(e){const t=An(e);if("boolean"==typeof t)return t?1:0;let n=t;if("string"==typeof t&&""!==t&&(n=Number(t)),"number"!=typeof n||!Number.isFinite(n))throw new X(`Float cannot represent non numeric value: ${Me(t)}`);return n},parseValue(e){if("number"!=typeof e||!Number.isFinite(e))throw new X(`Float cannot represent non numeric value: ${Me(e)}`);return e},parseLiteral(e){if(e.kind!==ae.FLOAT&&e.kind!==ae.INT)throw new X(`Float cannot represent non numeric value: ${ht(e)}`,e);return parseFloat(e.value)}}),yn=new Ht({name:"String",description:"The `String` scalar type represents textual data, represented as UTF-8 character sequences. The String type is most often used by GraphQL to represent free-form human-readable text.",serialize(e){const t=An(e);if("string"==typeof t)return t;if("boolean"==typeof t)return t?"true":"false";if("number"==typeof t&&Number.isFinite(t))return t.toString();throw new X(`String cannot represent value: ${Me(e)}`)},parseValue(e){if("string"!=typeof e)throw new X(`String cannot represent a non string value: ${Me(e)}`);return e},parseLiteral(e){if(e.kind!==ae.STRING)throw new X(`String cannot represent a non string value: ${ht(e)}`,{nodes:e});return e.value}}),gn=new Ht({name:"Boolean",description:"The `Boolean` scalar type represents `true` or `false`.",serialize(e){const t=An(e);if("boolean"==typeof t)return t;if(Number.isFinite(t))return 0!==t;throw new X(`Boolean cannot represent a non boolean value: ${Me(t)}`)},parseValue(e){if("boolean"!=typeof e)throw new X(`Boolean cannot represent a non boolean value: ${Me(e)}`);return e},parseLiteral(e){if(e.kind!==ae.BOOLEAN)throw new X(`Boolean cannot represent a non boolean value: ${ht(e)}`,{nodes:e});return e.value}}),bn=new Ht({name:"ID",description:'The `ID` scalar type represents a unique identifier, often used to refetch an object or as key for a cache. The ID type appears in a JSON response as a String; however, it is not intended to be human-readable. When expected as an input type, any string (such as `"4"`) or integer (such as `4`) input value will be accepted as an ID.',serialize(e){const t=An(e);if("string"==typeof t)return t;if(Number.isInteger(t))return String(t);throw new X(`ID cannot represent value: ${Me(e)}`)},parseValue(e){if("string"==typeof e)return e;if("number"==typeof e&&Number.isInteger(e))return e.toString();throw new X(`ID cannot represent value: ${Me(e)}`)},parseLiteral(e){if(e.kind!==ae.STRING&&e.kind!==ae.INT)throw new X("ID cannot represent a non-string and non-integer value: "+ht(e),{nodes:e});return e.value}}),vn=Object.freeze([yn,mn,Sn,gn,bn]);function En(e){return vn.some((({name:t})=>e.name===t))}function An(e){if(F(e)){if("function"==typeof e.valueOf){const t=e.valueOf();if(!F(t))return t}if("function"==typeof e.toJSON)return e.toJSON()}return e}function Tn(e){return Le(e,wn)}class wn{constructor(e){var t,n;this.name=At(e.name),this.description=e.description,this.locations=e.locations,this.isRepeatable=null!==(t=e.isRepeatable)&&void 0!==t&&t,this.extensions=it(e.extensions),this.astNode=e.astNode,Array.isArray(e.locations)||L(!1,`@${e.name} locations must be an Array.`);const r=null!==(n=e.args)&&void 0!==n?n:{};F(r)&&!Array.isArray(r)||L(!1,`@${e.name} args must be an object with argument names as keys.`),this.args=Yt(r)}get[Symbol.toStringTag](){return"GraphQLDirective"}toConfig(){return{name:this.name,description:this.description,locations:this.locations,args:Qt(this.args),isRepeatable:this.isRepeatable,extensions:this.extensions,astNode:this.astNode}}toString(){return"@"+this.name}toJSON(){return this.toString()}}const kn=new wn({name:"include",description:"Directs the executor to include this field or fragment only when the `if` argument is true.",locations:[oe.FIELD,oe.FRAGMENT_SPREAD,oe.INLINE_FRAGMENT],args:{if:{type:new Mt(gn),description:"Included when true."}}}),In=new wn({name:"skip",description:"Directs the executor to skip this field or fragment when the `if` argument is true.",locations:[oe.FIELD,oe.FRAGMENT_SPREAD,oe.INLINE_FRAGMENT],args:{if:{type:new Mt(gn),description:"Skipped when true."}}}),Pn=new wn({name:"deprecated",description:"Marks an element of a GraphQL schema as no longer supported.",locations:[oe.FIELD_DEFINITION,oe.ARGUMENT_DEFINITION,oe.INPUT_FIELD_DEFINITION,oe.ENUM_VALUE],args:{reason:{type:yn,description:"Explains why this element was deprecated, usually also including a suggestion for how to access supported similar data. Formatted using the Markdown syntax, as specified by [CommonMark](https://commonmark.org/).",defaultValue:"No longer supported"}}}),Nn=new wn({name:"specifiedBy",description:"Exposes a URL that specifies the behavior of this scalar.",locations:[oe.SCALAR],args:{url:{type:new Mt(yn),description:"The URL that specifies the behavior of this scalar."}}}),On=Object.freeze([kn,In,Pn,Nn]);function _n(e){return On.some((({name:t})=>t===e.name))}function xn(e){return"object"==typeof e&&"function"==typeof(null==e?void 0:e[Symbol.iterator])}function Cn(e,t){if(Ct(t)){const n=Cn(e,t.ofType);return(null==n?void 0:n.kind)===ae.NULL?null:n}if(null===e)return{kind:ae.NULL};if(void 0===e)return null;if(xt(t)){const n=t.ofType;if(xn(e)){const t=[];for(const r of e){const e=Cn(r,n);null!=e&&t.push(e)}return{kind:ae.LIST,values:t}}return Cn(e,n)}if(_t(t)){if(!F(e))return null;const n=[];for(const r of Object.values(t.getFields())){const t=Cn(e[r.name],r.type);t&&n.push({kind:ae.OBJECT_FIELD,name:{kind:ae.NAME,value:r.name},value:t})}return{kind:ae.OBJECT,fields:n}}if(Rt(t)){const n=t.serialize(e);if(null==n)return null;if("boolean"==typeof n)return{kind:ae.BOOLEAN,value:n};if("number"==typeof n&&Number.isFinite(n)){const e=String(n);return $n.test(e)?{kind:ae.INT,value:e}:{kind:ae.FLOAT,value:e}}if("string"==typeof n)return Ot(t)?{kind:ae.ENUM,value:n}:t===bn&&$n.test(n)?{kind:ae.INT,value:n}:{kind:ae.STRING,value:n};throw new TypeError(`Cannot convert value to AST: ${Me(n)}.`)}V(!1,"Unexpected input type: "+Me(t))}const $n=/^-?(?:0|[1-9][0-9]*)$/,Dn=new Kt({name:"__Schema",description:"A GraphQL Schema defines the capabilities of a GraphQL server. It exposes all available types and directives on the server, as well as the entry points for query, mutation, and subscription operations.",fields:()=>({description:{type:yn,resolve:e=>e.description},types:{description:"A list of all types supported by this server.",type:new Mt(new jt(new Mt(qn))),resolve:e=>Object.values(e.getTypeMap())},queryType:{description:"The type that query operations will be rooted at.",type:new Mt(qn),resolve:e=>e.getQueryType()},mutationType:{description:"If this server supports mutation, the type that mutation operations will be rooted at.",type:qn,resolve:e=>e.getMutationType()},subscriptionType:{description:"If this server support subscription, the type that subscription operations will be rooted at.",type:qn,resolve:e=>e.getSubscriptionType()},directives:{description:"A list of all directives supported by this server.",type:new Mt(new jt(new Mt(Rn))),resolve:e=>e.getDirectives()}})}),Rn=new Kt({name:"__Directive",description:"A Directive provides a way to describe alternate runtime execution and type validation behavior in a GraphQL document.\n\nIn some cases, you need to provide options to alter GraphQL's execution behavior in ways field arguments will not suffice, such as conditionally including or skipping a field. Directives provide this by describing additional information to the executor.",fields:()=>({name:{type:new Mt(yn),resolve:e=>e.name},description:{type:yn,resolve:e=>e.description},isRepeatable:{type:new Mt(gn),resolve:e=>e.isRepeatable},locations:{type:new Mt(new jt(new Mt(Bn))),resolve:e=>e.locations},args:{type:new Mt(new jt(new Mt(Mn))),args:{includeDeprecated:{type:gn,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))}})}),Bn=new sn({name:"__DirectiveLocation",description:"A Directive can be adjacent to many parts of the GraphQL language, a __DirectiveLocation describes one such possible adjacencies.",values:{QUERY:{value:oe.QUERY,description:"Location adjacent to a query operation."},MUTATION:{value:oe.MUTATION,description:"Location adjacent to a mutation operation."},SUBSCRIPTION:{value:oe.SUBSCRIPTION,description:"Location adjacent to a subscription operation."},FIELD:{value:oe.FIELD,description:"Location adjacent to a field."},FRAGMENT_DEFINITION:{value:oe.FRAGMENT_DEFINITION,description:"Location adjacent to a fragment definition."},FRAGMENT_SPREAD:{value:oe.FRAGMENT_SPREAD,description:"Location adjacent to a fragment spread."},INLINE_FRAGMENT:{value:oe.INLINE_FRAGMENT,description:"Location adjacent to an inline fragment."},VARIABLE_DEFINITION:{value:oe.VARIABLE_DEFINITION,description:"Location adjacent to a variable definition."},SCHEMA:{value:oe.SCHEMA,description:"Location adjacent to a schema definition."},SCALAR:{value:oe.SCALAR,description:"Location adjacent to a scalar definition."},OBJECT:{value:oe.OBJECT,description:"Location adjacent to an object type definition."},FIELD_DEFINITION:{value:oe.FIELD_DEFINITION,description:"Location adjacent to a field definition."},ARGUMENT_DEFINITION:{value:oe.ARGUMENT_DEFINITION,description:"Location adjacent to an argument definition."},INTERFACE:{value:oe.INTERFACE,description:"Location adjacent to an interface definition."},UNION:{value:oe.UNION,description:"Location adjacent to a union definition."},ENUM:{value:oe.ENUM,description:"Location adjacent to an enum definition."},ENUM_VALUE:{value:oe.ENUM_VALUE,description:"Location adjacent to an enum value definition."},INPUT_OBJECT:{value:oe.INPUT_OBJECT,description:"Location adjacent to an input object type definition."},INPUT_FIELD_DEFINITION:{value:oe.INPUT_FIELD_DEFINITION,description:"Location adjacent to an input object field definition."}}}),qn=new Kt({name:"__Type",description:"The fundamental unit of any GraphQL Schema is the type. There are many kinds of types in GraphQL as represented by the `__TypeKind` enum.\n\nDepending on the kind of a type, certain fields describe information about that type. Scalar types provide no information beyond a name, description and optional `specifiedByURL`, while Enum types provide their values. Object and Interface types provide the fields they describe. Abstract types, Union and Interface, provide the Object types possible at runtime. List and NonNull types compose other types.",fields:()=>({kind:{type:new Mt(Fn),resolve:e=>kt(e)?Ln.SCALAR:It(e)?Ln.OBJECT:Pt(e)?Ln.INTERFACE:Nt(e)?Ln.UNION:Ot(e)?Ln.ENUM:_t(e)?Ln.INPUT_OBJECT:xt(e)?Ln.LIST:Ct(e)?Ln.NON_NULL:void V(!1,`Unexpected type: "${Me(e)}".`)},name:{type:yn,resolve:e=>"name"in e?e.name:void 0},description:{type:yn,resolve:e=>"description"in e?e.description:void 0},specifiedByURL:{type:yn,resolve:e=>"specifiedByURL"in e?e.specifiedByURL:void 0},fields:{type:new jt(new Mt(jn)),args:{includeDeprecated:{type:gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(It(e)||Pt(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},interfaces:{type:new jt(new Mt(qn)),resolve(e){if(It(e)||Pt(e))return e.getInterfaces()}},possibleTypes:{type:new jt(new Mt(qn)),resolve(e,t,n,{schema:r}){if(qt(e))return r.getPossibleTypes(e)}},enumValues:{type:new jt(new Mt(Gn)),args:{includeDeprecated:{type:gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(Ot(e)){const n=e.getValues();return t?n:n.filter((e=>null==e.deprecationReason))}}},inputFields:{type:new jt(new Mt(Mn)),args:{includeDeprecated:{type:gn,defaultValue:!1}},resolve(e,{includeDeprecated:t}){if(_t(e)){const n=Object.values(e.getFields());return t?n:n.filter((e=>null==e.deprecationReason))}}},ofType:{type:qn,resolve:e=>"ofType"in e?e.ofType:void 0}})}),jn=new Kt({name:"__Field",description:"Object and Interface types are described by a list of Fields, each of which has a name, potentially a list of arguments, and a return type.",fields:()=>({name:{type:new Mt(yn),resolve:e=>e.name},description:{type:yn,resolve:e=>e.description},args:{type:new Mt(new jt(new Mt(Mn))),args:{includeDeprecated:{type:gn,defaultValue:!1}},resolve:(e,{includeDeprecated:t})=>t?e.args:e.args.filter((e=>null==e.deprecationReason))},type:{type:new Mt(qn),resolve:e=>e.type},isDeprecated:{type:new Mt(gn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:yn,resolve:e=>e.deprecationReason}})}),Mn=new Kt({name:"__InputValue",description:"Arguments provided to Fields or Directives and the input fields of an InputObject are represented as Input Values which describe their type and optionally a default value.",fields:()=>({name:{type:new Mt(yn),resolve:e=>e.name},description:{type:yn,resolve:e=>e.description},type:{type:new Mt(qn),resolve:e=>e.type},defaultValue:{type:yn,description:"A GraphQL-formatted string representing the default value for this input value.",resolve(e){const{type:t,defaultValue:n}=e,r=Cn(n,t);return r?ht(r):null}},isDeprecated:{type:new Mt(gn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:yn,resolve:e=>e.deprecationReason}})}),Gn=new Kt({name:"__EnumValue",description:"One possible value for a given Enum. Enum values are unique values, not a placeholder for a string or numeric value. However an Enum value is returned in a JSON response as a string.",fields:()=>({name:{type:new Mt(yn),resolve:e=>e.name},description:{type:yn,resolve:e=>e.description},isDeprecated:{type:new Mt(gn),resolve:e=>null!=e.deprecationReason},deprecationReason:{type:yn,resolve:e=>e.deprecationReason}})});var Ln,Un;(Un=Ln||(Ln={})).SCALAR="SCALAR",Un.OBJECT="OBJECT",Un.INTERFACE="INTERFACE",Un.UNION="UNION",Un.ENUM="ENUM",Un.INPUT_OBJECT="INPUT_OBJECT",Un.LIST="LIST",Un.NON_NULL="NON_NULL";const Fn=new sn({name:"__TypeKind",description:"An enum describing what kind of type a given `__Type` is.",values:{SCALAR:{value:Ln.SCALAR,description:"Indicates this type is a scalar."},OBJECT:{value:Ln.OBJECT,description:"Indicates this type is an object. `fields` and `interfaces` are valid fields."},INTERFACE:{value:Ln.INTERFACE,description:"Indicates this type is an interface. `fields`, `interfaces`, and `possibleTypes` are valid fields."},UNION:{value:Ln.UNION,description:"Indicates this type is a union. `possibleTypes` is a valid field."},ENUM:{value:Ln.ENUM,description:"Indicates this type is an enum. `enumValues` is a valid field."},INPUT_OBJECT:{value:Ln.INPUT_OBJECT,description:"Indicates this type is an input object. `inputFields` is a valid field."},LIST:{value:Ln.LIST,description:"Indicates this type is a list. `ofType` is a valid field."},NON_NULL:{value:Ln.NON_NULL,description:"Indicates this type is a non-null. `ofType` is a valid field."}}}),Vn={name:"__schema",type:new Mt(Dn),description:"Access the current type schema of this server.",args:[],resolve:(e,t,n,{schema:r})=>r,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Jn={name:"__type",type:qn,description:"Request the type information of a single type.",args:[{name:"name",description:void 0,type:new Mt(yn),defaultValue:void 0,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0}],resolve:(e,{name:t},n,{schema:r})=>r.getType(t),deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Hn={name:"__typename",type:new Mt(yn),description:"The name of the current Object type at runtime.",args:[],resolve:(e,t,n,{parentType:r})=>r.name,deprecationReason:void 0,extensions:Object.create(null),astNode:void 0},Kn=Object.freeze([Dn,Rn,Bn,qn,jn,Mn,Gn,Fn]);function Wn(e){return Kn.some((({name:t})=>e.name===t))}function Xn(e){return Le(e,Yn)}class Yn{constructor(e){var t,n;this.__validationErrors=!0===e.assumeValid?[]:void 0,F(e)||L(!1,"Must provide configuration object."),!e.types||Array.isArray(e.types)||L(!1,`"types" must be Array if provided but got: ${Me(e.types)}.`),!e.directives||Array.isArray(e.directives)||L(!1,`"directives" must be Array if provided but got: ${Me(e.directives)}.`),this.description=e.description,this.extensions=it(e.extensions),this.astNode=e.astNode,this.extensionASTNodes=null!==(t=e.extensionASTNodes)&&void 0!==t?t:[],this._queryType=e.query,this._mutationType=e.mutation,this._subscriptionType=e.subscription,this._directives=null!==(n=e.directives)&&void 0!==n?n:On;const r=new Set(e.types);if(null!=e.types)for(const t of e.types)r.delete(t),zn(t,r);null!=this._queryType&&zn(this._queryType,r),null!=this._mutationType&&zn(this._mutationType,r),null!=this._subscriptionType&&zn(this._subscriptionType,r);for(const e of this._directives)if(Tn(e))for(const t of e.args)zn(t.type,r);zn(Dn,r),this._typeMap=Object.create(null),this._subTypeMap=Object.create(null),this._implementationsMap=Object.create(null);for(const e of r){if(null==e)continue;const t=e.name;if(t||L(!1,"One of the provided types for building the Schema is missing a name."),void 0!==this._typeMap[t])throw new Error(`Schema must contain uniquely named types but contains multiple types named "${t}".`);if(this._typeMap[t]=e,Pt(e)){for(const t of e.getInterfaces())if(Pt(t)){let n=this._implementationsMap[t.name];void 0===n&&(n=this._implementationsMap[t.name]={objects:[],interfaces:[]}),n.interfaces.push(e)}}else if(It(e))for(const t of e.getInterfaces())if(Pt(t)){let n=this._implementationsMap[t.name];void 0===n&&(n=this._implementationsMap[t.name]={objects:[],interfaces:[]}),n.objects.push(e)}}}get[Symbol.toStringTag](){return"GraphQLSchema"}getQueryType(){return this._queryType}getMutationType(){return this._mutationType}getSubscriptionType(){return this._subscriptionType}getRootType(e){switch(e){case re.QUERY:return this.getQueryType();case re.MUTATION:return this.getMutationType();case re.SUBSCRIPTION:return this.getSubscriptionType()}}getTypeMap(){return this._typeMap}getType(e){return this.getTypeMap()[e]}getPossibleTypes(e){return Nt(e)?e.getTypes():this.getImplementations(e).objects}getImplementations(e){const t=this._implementationsMap[e.name];return null!=t?t:{objects:[],interfaces:[]}}isSubType(e,t){let n=this._subTypeMap[e.name];if(void 0===n){if(n=Object.create(null),Nt(e))for(const t of e.getTypes())n[t.name]=!0;else{const t=this.getImplementations(e);for(const e of t.objects)n[e.name]=!0;for(const e of t.interfaces)n[e.name]=!0}this._subTypeMap[e.name]=n}return void 0!==n[t.name]}getDirectives(){return this._directives}getDirective(e){return this.getDirectives().find((t=>t.name===e))}toConfig(){return{description:this.description,query:this.getQueryType(),mutation:this.getMutationType(),subscription:this.getSubscriptionType(),types:Object.values(this.getTypeMap()),directives:this.getDirectives(),extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes,assumeValid:void 0!==this.__validationErrors}}}function zn(e,t){const n=Ft(e);if(!t.has(n))if(t.add(n),Nt(n))for(const e of n.getTypes())zn(e,t);else if(It(n)||Pt(n)){for(const e of n.getInterfaces())zn(e,t);for(const e of Object.values(n.getFields())){zn(e.type,t);for(const n of e.args)zn(n.type,t)}}else if(_t(n))for(const e of Object.values(n.getFields()))zn(e.type,t);return t}function Zn(e){if(function(e){if(!Xn(e))throw new Error(`Expected ${Me(e)} to be a GraphQL schema.`)}(e),e.__validationErrors)return e.__validationErrors;const t=new er(e);!function(e){const t=e.schema,n=t.getQueryType();if(n){if(!It(n)){var r;e.reportError(`Query root type must be Object type, it cannot be ${Me(n)}.`,null!==(r=tr(t,re.QUERY))&&void 0!==r?r:n.astNode)}}else e.reportError("Query root type must be provided.",t.astNode);const s=t.getMutationType();var o;s&&!It(s)&&e.reportError(`Mutation root type must be Object type if provided, it cannot be ${Me(s)}.`,null!==(o=tr(t,re.MUTATION))&&void 0!==o?o:s.astNode);const i=t.getSubscriptionType();var a;i&&!It(i)&&e.reportError(`Subscription root type must be Object type if provided, it cannot be ${Me(i)}.`,null!==(a=tr(t,re.SUBSCRIPTION))&&void 0!==a?a:i.astNode)}(t),function(e){for(const n of e.schema.getDirectives())if(Tn(n)){nr(e,n);for(const r of n.args){var t;nr(e,r),$t(r.type)||e.reportError(`The type of @${n.name}(${r.name}:) must be Input Type but got: ${Me(r.type)}.`,r.astNode),en(r)&&null!=r.deprecationReason&&e.reportError(`Required argument @${n.name}(${r.name}:) cannot be deprecated.`,[pr(r.astNode),null===(t=r.astNode)||void 0===t?void 0:t.type])}}else e.reportError(`Expected directive but got: ${Me(n)}.`,null==n?void 0:n.astNode)}(t),function(e){const t=function(e){const t=Object.create(null),n=[],r=Object.create(null);return function s(o){if(t[o.name])return;t[o.name]=!0,r[o.name]=n.length;const i=Object.values(o.getFields());for(const t of i)if(Ct(t.type)&&_t(t.type.ofType)){const o=t.type.ofType,i=r[o.name];if(n.push(t),void 0===i)s(o);else{const t=n.slice(i),r=t.map((e=>e.name)).join(".");e.reportError(`Cannot reference Input Object "${o.name}" within itself through a series of non-null fields: "${r}".`,t.map((e=>e.astNode)))}n.pop()}r[o.name]=void 0}}(e),n=e.schema.getTypeMap();for(const r of Object.values(n))Ut(r)?(Wn(r)||nr(e,r),It(r)||Pt(r)?(rr(e,r),sr(e,r)):Nt(r)?ar(e,r):Ot(r)?cr(e,r):_t(r)&&(ur(e,r),t(r))):e.reportError(`Expected GraphQL named type but got: ${Me(r)}.`,r.astNode)}(t);const n=t.getErrors();return e.__validationErrors=n,n}function Qn(e){const t=Zn(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}class er{constructor(e){this._errors=[],this.schema=e}reportError(e,t){const n=Array.isArray(t)?t.filter(Boolean):t;this._errors.push(new X(e,{nodes:n}))}getErrors(){return this._errors}}function tr(e,t){var n;return null===(n=[e.astNode,...e.extensionASTNodes].flatMap((e=>{var t;return null!==(t=null==e?void 0:e.operationTypes)&&void 0!==t?t:[]})).find((e=>e.operation===t)))||void 0===n?void 0:n.type}function nr(e,t){t.name.startsWith("__")&&e.reportError(`Name "${t.name}" must not begin with "__", which is reserved by GraphQL introspection.`,t.astNode)}function rr(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const i of n){var r;nr(e,i),Dt(i.type)||e.reportError(`The type of ${t.name}.${i.name} must be Output Type but got: ${Me(i.type)}.`,null===(r=i.astNode)||void 0===r?void 0:r.type);for(const n of i.args){const r=n.name;var s,o;nr(e,n),$t(n.type)||e.reportError(`The type of ${t.name}.${i.name}(${r}:) must be Input Type but got: ${Me(n.type)}.`,null===(s=n.astNode)||void 0===s?void 0:s.type),en(n)&&null!=n.deprecationReason&&e.reportError(`Required argument ${t.name}.${i.name}(${r}:) cannot be deprecated.`,[pr(n.astNode),null===(o=n.astNode)||void 0===o?void 0:o.type])}}}function sr(e,t){const n=Object.create(null);for(const r of t.getInterfaces())Pt(r)?t!==r?n[r.name]?e.reportError(`Type ${t.name} can only implement ${r.name} once.`,dr(t,r)):(n[r.name]=!0,ir(e,t,r),or(e,t,r)):e.reportError(`Type ${t.name} cannot implement itself because it would create a circular reference.`,dr(t,r)):e.reportError(`Type ${Me(t)} must only implement Interface types, it cannot implement ${Me(r)}.`,dr(t,r))}function or(e,t,n){const r=t.getFields();for(const c of Object.values(n.getFields())){const u=c.name,d=r[u];if(d){var s,o;ln(e.schema,d.type,c.type)||e.reportError(`Interface field ${n.name}.${u} expects type ${Me(c.type)} but ${t.name}.${u} is type ${Me(d.type)}.`,[null===(s=c.astNode)||void 0===s?void 0:s.type,null===(o=d.astNode)||void 0===o?void 0:o.type]);for(const r of c.args){const s=r.name,o=d.args.find((e=>e.name===s));var i,a;o?dn(r.type,o.type)||e.reportError(`Interface field argument ${n.name}.${u}(${s}:) expects type ${Me(r.type)} but ${t.name}.${u}(${s}:) is type ${Me(o.type)}.`,[null===(i=r.astNode)||void 0===i?void 0:i.type,null===(a=o.astNode)||void 0===a?void 0:a.type]):e.reportError(`Interface field argument ${n.name}.${u}(${s}:) expected but ${t.name}.${u} does not provide it.`,[r.astNode,d.astNode])}for(const r of d.args){const s=r.name;!c.args.find((e=>e.name===s))&&en(r)&&e.reportError(`Object field ${t.name}.${u} includes required argument ${s} that is missing from the Interface field ${n.name}.${u}.`,[r.astNode,c.astNode])}}else e.reportError(`Interface field ${n.name}.${u} expected but ${t.name} does not provide it.`,[c.astNode,t.astNode,...t.extensionASTNodes])}}function ir(e,t,n){const r=t.getInterfaces();for(const s of n.getInterfaces())r.includes(s)||e.reportError(s===t?`Type ${t.name} cannot implement ${n.name} because it would create a circular reference.`:`Type ${t.name} must implement ${s.name} because it is implemented by ${n.name}.`,[...dr(n,s),...dr(t,n)])}function ar(e,t){const n=t.getTypes();0===n.length&&e.reportError(`Union type ${t.name} must define one or more member types.`,[t.astNode,...t.extensionASTNodes]);const r=Object.create(null);for(const s of n)r[s.name]?e.reportError(`Union type ${t.name} can only include type ${s.name} once.`,lr(t,s.name)):(r[s.name]=!0,It(s)||e.reportError(`Union type ${t.name} can only include Object types, it cannot include ${Me(s)}.`,lr(t,String(s))))}function cr(e,t){const n=t.getValues();0===n.length&&e.reportError(`Enum type ${t.name} must define one or more values.`,[t.astNode,...t.extensionASTNodes]);for(const t of n)nr(e,t)}function ur(e,t){const n=Object.values(t.getFields());0===n.length&&e.reportError(`Input Object type ${t.name} must define one or more fields.`,[t.astNode,...t.extensionASTNodes]);for(const o of n){var r,s;nr(e,o),$t(o.type)||e.reportError(`The type of ${t.name}.${o.name} must be Input Type but got: ${Me(o.type)}.`,null===(r=o.astNode)||void 0===r?void 0:r.type),un(o)&&null!=o.deprecationReason&&e.reportError(`Required input field ${t.name}.${o.name} cannot be deprecated.`,[pr(o.astNode),null===(s=o.astNode)||void 0===s?void 0:s.type])}}function dr(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.interfaces)&&void 0!==t?t:[]})).filter((e=>e.name.value===t.name))}function lr(e,t){const{astNode:n,extensionASTNodes:r}=e;return(null!=n?[n,...r]:r).flatMap((e=>{var t;return null!==(t=e.types)&&void 0!==t?t:[]})).filter((e=>e.name.value===t))}function pr(e){var t;return null==e||null===(t=e.directives)||void 0===t?void 0:t.find((e=>e.name.value===Pn.name))}function fr(e,t){switch(t.kind){case ae.LIST_TYPE:{const n=fr(e,t.type);return n&&new jt(n)}case ae.NON_NULL_TYPE:{const n=fr(e,t.type);return n&&new Mt(n)}case ae.NAMED_TYPE:return e.getType(t.name.value)}}class hr{constructor(e,t,n){this._schema=e,this._typeStack=[],this._parentTypeStack=[],this._inputTypeStack=[],this._fieldDefStack=[],this._defaultValueStack=[],this._directive=null,this._argument=null,this._enumValue=null,this._getFieldDef=null!=n?n:mr,t&&($t(t)&&this._inputTypeStack.push(t),Bt(t)&&this._parentTypeStack.push(t),Dt(t)&&this._typeStack.push(t))}get[Symbol.toStringTag](){return"TypeInfo"}getType(){if(this._typeStack.length>0)return this._typeStack[this._typeStack.length-1]}getParentType(){if(this._parentTypeStack.length>0)return this._parentTypeStack[this._parentTypeStack.length-1]}getInputType(){if(this._inputTypeStack.length>0)return this._inputTypeStack[this._inputTypeStack.length-1]}getParentInputType(){if(this._inputTypeStack.length>1)return this._inputTypeStack[this._inputTypeStack.length-2]}getFieldDef(){if(this._fieldDefStack.length>0)return this._fieldDefStack[this._fieldDefStack.length-1]}getDefaultValue(){if(this._defaultValueStack.length>0)return this._defaultValueStack[this._defaultValueStack.length-1]}getDirective(){return this._directive}getArgument(){return this._argument}getEnumValue(){return this._enumValue}enter(e){const t=this._schema;switch(e.kind){case ae.SELECTION_SET:{const e=Ft(this.getType());this._parentTypeStack.push(Bt(e)?e:void 0);break}case ae.FIELD:{const n=this.getParentType();let r,s;n&&(r=this._getFieldDef(t,n,e),r&&(s=r.type)),this._fieldDefStack.push(r),this._typeStack.push(Dt(s)?s:void 0);break}case ae.DIRECTIVE:this._directive=t.getDirective(e.name.value);break;case ae.OPERATION_DEFINITION:{const n=t.getRootType(e.operation);this._typeStack.push(It(n)?n:void 0);break}case ae.INLINE_FRAGMENT:case ae.FRAGMENT_DEFINITION:{const n=e.typeCondition,r=n?fr(t,n):Ft(this.getType());this._typeStack.push(Dt(r)?r:void 0);break}case ae.VARIABLE_DEFINITION:{const n=fr(t,e.type);this._inputTypeStack.push($t(n)?n:void 0);break}case ae.ARGUMENT:{var n;let t,r;const s=null!==(n=this.getDirective())&&void 0!==n?n:this.getFieldDef();s&&(t=s.args.find((t=>t.name===e.name.value)),t&&(r=t.type)),this._argument=t,this._defaultValueStack.push(t?t.defaultValue:void 0),this._inputTypeStack.push($t(r)?r:void 0);break}case ae.LIST:{const e=Lt(this.getInputType()),t=xt(e)?e.ofType:e;this._defaultValueStack.push(void 0),this._inputTypeStack.push($t(t)?t:void 0);break}case ae.OBJECT_FIELD:{const t=Ft(this.getInputType());let n,r;_t(t)&&(r=t.getFields()[e.name.value],r&&(n=r.type)),this._defaultValueStack.push(r?r.defaultValue:void 0),this._inputTypeStack.push($t(n)?n:void 0);break}case ae.ENUM:{const t=Ft(this.getInputType());let n;Ot(t)&&(n=t.getValue(e.value)),this._enumValue=n;break}}}leave(e){switch(e.kind){case ae.SELECTION_SET:this._parentTypeStack.pop();break;case ae.FIELD:this._fieldDefStack.pop(),this._typeStack.pop();break;case ae.DIRECTIVE:this._directive=null;break;case ae.OPERATION_DEFINITION:case ae.INLINE_FRAGMENT:case ae.FRAGMENT_DEFINITION:this._typeStack.pop();break;case ae.VARIABLE_DEFINITION:this._inputTypeStack.pop();break;case ae.ARGUMENT:this._argument=null,this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case ae.LIST:case ae.OBJECT_FIELD:this._defaultValueStack.pop(),this._inputTypeStack.pop();break;case ae.ENUM:this._enumValue=null}}}function mr(e,t,n){const r=n.name.value;return r===Vn.name&&e.getQueryType()===t?Vn:r===Jn.name&&e.getQueryType()===t?Jn:r===Hn.name&&Bt(t)?Hn:It(t)||Pt(t)?t.getFields()[r]:void 0}function Sr(e,t){return{enter(...n){const r=n[0];e.enter(r);const s=ft(t,r.kind).enter;if(s){const o=s.apply(t,n);return void 0!==o&&(e.leave(r),ne(o)&&e.enter(o)),o}},leave(...n){const r=n[0],s=ft(t,r.kind).leave;let o;return s&&(o=s.apply(t,n)),e.leave(r),o}}}function yr(e){return e.kind===ae.OPERATION_DEFINITION||e.kind===ae.FRAGMENT_DEFINITION}function gr(e){return e.kind===ae.SCHEMA_DEFINITION||br(e)||e.kind===ae.DIRECTIVE_DEFINITION}function br(e){return e.kind===ae.SCALAR_TYPE_DEFINITION||e.kind===ae.OBJECT_TYPE_DEFINITION||e.kind===ae.INTERFACE_TYPE_DEFINITION||e.kind===ae.UNION_TYPE_DEFINITION||e.kind===ae.ENUM_TYPE_DEFINITION||e.kind===ae.INPUT_OBJECT_TYPE_DEFINITION}function vr(e){return e.kind===ae.SCHEMA_EXTENSION||Er(e)}function Er(e){return e.kind===ae.SCALAR_TYPE_EXTENSION||e.kind===ae.OBJECT_TYPE_EXTENSION||e.kind===ae.INTERFACE_TYPE_EXTENSION||e.kind===ae.UNION_TYPE_EXTENSION||e.kind===ae.ENUM_TYPE_EXTENSION||e.kind===ae.INPUT_OBJECT_TYPE_EXTENSION}function Ar(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():On;for(const e of r)t[e.name]=e.args.map((e=>e.name));const s=e.getDocument().definitions;for(const e of s)if(e.kind===ae.DIRECTIVE_DEFINITION){var o;const n=null!==(o=e.arguments)&&void 0!==o?o:[];t[e.name.value]=n.map((e=>e.name.value))}return{Directive(n){const r=n.name.value,s=t[r];if(n.arguments&&s)for(const t of n.arguments){const n=t.name.value;if(!s.includes(n)){const o=rt(n,s);e.reportError(new X(`Unknown argument "${n}" on directive "@${r}".`+We(o),{nodes:t}))}}return!1}}}function Tr(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():On;for(const e of r)t[e.name]=e.locations;const s=e.getDocument().definitions;for(const e of s)e.kind===ae.DIRECTIVE_DEFINITION&&(t[e.name.value]=e.locations.map((e=>e.value)));return{Directive(n,r,s,o,i){const a=n.name.value,c=t[a];if(!c)return void e.reportError(new X(`Unknown directive "@${a}".`,{nodes:n}));const u=function(e){const t=e[e.length-1];switch("kind"in t||V(!1),t.kind){case ae.OPERATION_DEFINITION:return function(e){switch(e){case re.QUERY:return oe.QUERY;case re.MUTATION:return oe.MUTATION;case re.SUBSCRIPTION:return oe.SUBSCRIPTION}}(t.operation);case ae.FIELD:return oe.FIELD;case ae.FRAGMENT_SPREAD:return oe.FRAGMENT_SPREAD;case ae.INLINE_FRAGMENT:return oe.INLINE_FRAGMENT;case ae.FRAGMENT_DEFINITION:return oe.FRAGMENT_DEFINITION;case ae.VARIABLE_DEFINITION:return oe.VARIABLE_DEFINITION;case ae.SCHEMA_DEFINITION:case ae.SCHEMA_EXTENSION:return oe.SCHEMA;case ae.SCALAR_TYPE_DEFINITION:case ae.SCALAR_TYPE_EXTENSION:return oe.SCALAR;case ae.OBJECT_TYPE_DEFINITION:case ae.OBJECT_TYPE_EXTENSION:return oe.OBJECT;case ae.FIELD_DEFINITION:return oe.FIELD_DEFINITION;case ae.INTERFACE_TYPE_DEFINITION:case ae.INTERFACE_TYPE_EXTENSION:return oe.INTERFACE;case ae.UNION_TYPE_DEFINITION:case ae.UNION_TYPE_EXTENSION:return oe.UNION;case ae.ENUM_TYPE_DEFINITION:case ae.ENUM_TYPE_EXTENSION:return oe.ENUM;case ae.ENUM_VALUE_DEFINITION:return oe.ENUM_VALUE;case ae.INPUT_OBJECT_TYPE_DEFINITION:case ae.INPUT_OBJECT_TYPE_EXTENSION:return oe.INPUT_OBJECT;case ae.INPUT_VALUE_DEFINITION:{const t=e[e.length-3];return"kind"in t||V(!1),t.kind===ae.INPUT_OBJECT_TYPE_DEFINITION?oe.INPUT_FIELD_DEFINITION:oe.ARGUMENT_DEFINITION}default:V(!1,"Unexpected kind: "+Me(t.kind))}}(i);u&&!c.includes(u)&&e.reportError(new X(`Directive "@${a}" may not be used on ${u}.`,{nodes:n}))}}}function wr(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);for(const t of e.getDocument().definitions)br(t)&&(r[t.name.value]=!0);const s=[...Object.keys(n),...Object.keys(r)];return{NamedType(t,o,i,a,c){const u=t.name.value;if(!n[u]&&!r[u]){var d;const n=null!==(d=c[2])&&void 0!==d?d:i,r=null!=n&&"kind"in(l=n)&&(gr(l)||vr(l));if(r&&kr.includes(u))return;const o=rt(u,r?kr.concat(s):s);e.reportError(new X(`Unknown type "${u}".`+We(o),{nodes:t}))}var l}}}const kr=[...vn,...Kn].map((e=>e.name));function Ir(e){switch(e.kind){case ae.OBJECT:return{...e,fields:(t=e.fields,t.map((e=>({...e,value:Ir(e.value)}))).sort(((e,t)=>Qe(e.name.value,t.name.value))))};case ae.LIST:return{...e,values:e.values.map(Ir)};case ae.INT:case ae.FLOAT:case ae.STRING:case ae.BOOLEAN:case ae.NULL:case ae.ENUM:case ae.VARIABLE:return e}var t}function Pr(e){return Array.isArray(e)?e.map((([e,t])=>`subfields "${e}" conflict because `+Pr(t))).join(" and "):e}function Nr(e,t,n,r,s,o,i){const a=e.getFragment(i);if(!a)return;const[c,u]=Rr(e,n,a);if(o!==c){_r(e,t,n,r,s,o,c);for(const a of u)r.has(a,i,s)||(r.add(a,i,s),Nr(e,t,n,r,s,o,a))}}function Or(e,t,n,r,s,o,i){if(o===i)return;if(r.has(o,i,s))return;r.add(o,i,s);const a=e.getFragment(o),c=e.getFragment(i);if(!a||!c)return;const[u,d]=Rr(e,n,a),[l,p]=Rr(e,n,c);_r(e,t,n,r,s,u,l);for(const i of p)Or(e,t,n,r,s,o,i);for(const o of d)Or(e,t,n,r,s,o,i)}function _r(e,t,n,r,s,o,i){for(const[a,c]of Object.entries(o)){const o=i[a];if(o)for(const i of c)for(const c of o){const o=xr(e,n,r,s,a,i,c);o&&t.push(o)}}}function xr(e,t,n,r,s,o,i){const[a,c,u]=o,[d,l,p]=i,f=r||a!==d&&It(a)&&It(d);if(!f){const e=c.name.value,t=l.name.value;if(e!==t)return[[s,`"${e}" and "${t}" are different fields`],[c],[l]];if(Cr(c)!==Cr(l))return[[s,"they have differing arguments"],[c],[l]]}const h=null==u?void 0:u.type,m=null==p?void 0:p.type;if(h&&m&&$r(h,m))return[[s,`they return conflicting types "${Me(h)}" and "${Me(m)}"`],[c],[l]];const S=c.selectionSet,y=l.selectionSet;if(S&&y){const r=function(e,t,n,r,s,o,i,a){const c=[],[u,d]=Dr(e,t,s,o),[l,p]=Dr(e,t,i,a);_r(e,c,t,n,r,u,l);for(const s of p)Nr(e,c,t,n,r,u,s);for(const s of d)Nr(e,c,t,n,r,l,s);for(const s of d)for(const o of p)Or(e,c,t,n,r,s,o);return c}(e,t,n,f,Ft(h),S,Ft(m),y);return function(e,t,n,r){if(e.length>0)return[[t,e.map((([e])=>e))],[n,...e.map((([,e])=>e)).flat()],[r,...e.map((([,,e])=>e)).flat()]]}(r,s,c,l)}}function Cr(e){var t;const n=null!==(t=e.arguments)&&void 0!==t?t:[];return ht(Ir({kind:ae.OBJECT,fields:n.map((e=>({kind:ae.OBJECT_FIELD,name:e.name,value:e.value})))}))}function $r(e,t){return xt(e)?!xt(t)||$r(e.ofType,t.ofType):!!xt(t)||(Ct(e)?!Ct(t)||$r(e.ofType,t.ofType):!!Ct(t)||!(!Rt(e)&&!Rt(t))&&e!==t)}function Dr(e,t,n,r){const s=t.get(r);if(s)return s;const o=Object.create(null),i=Object.create(null);Br(e,n,r,o,i);const a=[o,Object.keys(i)];return t.set(r,a),a}function Rr(e,t,n){const r=t.get(n.selectionSet);if(r)return r;const s=fr(e.getSchema(),n.typeCondition);return Dr(e,t,s,n.selectionSet)}function Br(e,t,n,r,s){for(const o of n.selections)switch(o.kind){case ae.FIELD:{const e=o.name.value;let n;(It(t)||Pt(t))&&(n=t.getFields()[e]);const s=o.alias?o.alias.value:e;r[s]||(r[s]=[]),r[s].push([t,o,n]);break}case ae.FRAGMENT_SPREAD:s[o.name.value]=!0;break;case ae.INLINE_FRAGMENT:{const n=o.typeCondition,i=n?fr(e.getSchema(),n):t;Br(e,i,o.selectionSet,r,s);break}}}class qr{constructor(){this._data=new Map}has(e,t,n){var r;const[s,o]=e<t?[e,t]:[t,e],i=null===(r=this._data.get(s))||void 0===r?void 0:r.get(o);return void 0!==i&&(!!n||n===i)}add(e,t,n){const[r,s]=e<t?[e,t]:[t,e],o=this._data.get(r);void 0===o?this._data.set(r,new Map([[s,n]])):o.set(s,n)}}const jr={[ae.SCALAR_TYPE_DEFINITION]:ae.SCALAR_TYPE_EXTENSION,[ae.OBJECT_TYPE_DEFINITION]:ae.OBJECT_TYPE_EXTENSION,[ae.INTERFACE_TYPE_DEFINITION]:ae.INTERFACE_TYPE_EXTENSION,[ae.UNION_TYPE_DEFINITION]:ae.UNION_TYPE_EXTENSION,[ae.ENUM_TYPE_DEFINITION]:ae.ENUM_TYPE_EXTENSION,[ae.INPUT_OBJECT_TYPE_DEFINITION]:ae.INPUT_OBJECT_TYPE_EXTENSION};function Mr(e){var t;const n=Object.create(null),r=e.getSchema(),s=null!==(t=null==r?void 0:r.getDirectives())&&void 0!==t?t:On;for(const e of s)n[e.name]=Ye(e.args.filter(en),(e=>e.name));const o=e.getDocument().definitions;for(const e of o)if(e.kind===ae.DIRECTIVE_DEFINITION){var i;const t=null!==(i=e.arguments)&&void 0!==i?i:[];n[e.name.value]=Ye(t.filter(Gr),(e=>e.name.value))}return{Directive:{leave(t){const r=t.name.value,s=n[r];if(s){var o;const n=null!==(o=t.arguments)&&void 0!==o?o:[],i=new Set(n.map((e=>e.name.value)));for(const[n,o]of Object.entries(s))if(!i.has(n)){const s=wt(o.type)?Me(o.type):ht(o.type);e.reportError(new X(`Directive "@${r}" argument "${n}" of type "${s}" is required, but it was not provided.`,{nodes:t}))}}}}}}function Gr(e){return e.type.kind===ae.NON_NULL_TYPE&&null==e.defaultValue}function Lr(e){return e.map((e=>"number"==typeof e?"["+e.toString()+"]":"."+e)).join("")}function Ur(e,t,n){return{prev:e,key:t,typename:n}}function Fr(e){const t=[];let n=e;for(;n;)t.push(n.key),n=n.prev;return t.reverse()}function Vr(e,t,n=Jr){return Hr(e,t,n,void 0)}function Jr(e,t,n){let r="Invalid value "+Me(t);throw e.length>0&&(r+=` at "value${Lr(e)}"`),n.message=r+": "+n.message,n}function Hr(e,t,n,r){if(Ct(t))return null!=e?Hr(e,t.ofType,n,r):void n(Fr(r),e,new X(`Expected non-nullable type "${Me(t)}" not to be null.`));if(null==e)return null;if(xt(t)){const s=t.ofType;return xn(e)?Array.from(e,((e,t)=>{const o=Ur(r,t,void 0);return Hr(e,s,n,o)})):[Hr(e,s,n,r)]}if(_t(t)){if(!F(e))return void n(Fr(r),e,new X(`Expected type "${t.name}" to be an object.`));const s={},o=t.getFields();for(const i of Object.values(o)){const o=e[i.name];if(void 0!==o)s[i.name]=Hr(o,i.type,n,Ur(r,i.name,t.name));else if(void 0!==i.defaultValue)s[i.name]=i.defaultValue;else if(Ct(i.type)){const t=Me(i.type);n(Fr(r),e,new X(`Field "${i.name}" of required type "${t}" was not provided.`))}}for(const s of Object.keys(e))if(!o[s]){const o=rt(s,Object.keys(t.getFields()));n(Fr(r),e,new X(`Field "${s}" is not defined by type "${t.name}".`+We(o)))}return s}if(Rt(t)){let s;try{s=t.parseValue(e)}catch(s){return void n(Fr(r),e,s instanceof X?s:new X(`Expected type "${t.name}". `+s.message,{originalError:s}))}return void 0===s&&n(Fr(r),e,new X(`Expected type "${t.name}".`)),s}V(!1,"Unexpected input type: "+Me(t))}function Kr(e,t,n){if(e){if(e.kind===ae.VARIABLE){const r=e.name.value;if(null==n||void 0===n[r])return;const s=n[r];if(null===s&&Ct(t))return;return s}if(Ct(t)){if(e.kind===ae.NULL)return;return Kr(e,t.ofType,n)}if(e.kind===ae.NULL)return null;if(xt(t)){const r=t.ofType;if(e.kind===ae.LIST){const t=[];for(const s of e.values)if(Wr(s,n)){if(Ct(r))return;t.push(null)}else{const e=Kr(s,r,n);if(void 0===e)return;t.push(e)}return t}const s=Kr(e,r,n);if(void 0===s)return;return[s]}if(_t(t)){if(e.kind!==ae.OBJECT)return;const r=Object.create(null),s=Ye(e.fields,(e=>e.name.value));for(const e of Object.values(t.getFields())){const t=s[e.name];if(!t||Wr(t.value,n)){if(void 0!==e.defaultValue)r[e.name]=e.defaultValue;else if(Ct(e.type))return;continue}const o=Kr(t.value,e.type,n);if(void 0===o)return;r[e.name]=o}return r}if(Rt(t)){let r;try{r=t.parseLiteral(e,n)}catch(e){return}if(void 0===r)return;return r}V(!1,"Unexpected input type: "+Me(t))}}function Wr(e,t){return e.kind===ae.VARIABLE&&(null==t||void 0===t[e.name.value])}function Xr(e,t,n){var r;const s={},o=Ye(null!==(r=t.arguments)&&void 0!==r?r:[],(e=>e.name.value));for(const r of e.args){const e=r.name,i=r.type,a=o[e];if(!a){if(void 0!==r.defaultValue)s[e]=r.defaultValue;else if(Ct(i))throw new X(`Argument "${e}" of required type "${Me(i)}" was not provided.`,{nodes:t});continue}const c=a.value;let u=c.kind===ae.NULL;if(c.kind===ae.VARIABLE){const t=c.name.value;if(null==n||!zr(n,t)){if(void 0!==r.defaultValue)s[e]=r.defaultValue;else if(Ct(i))throw new X(`Argument "${e}" of required type "${Me(i)}" was provided the variable "$${t}" which was not provided a runtime value.`,{nodes:c});continue}u=null==n[t]}if(u&&Ct(i))throw new X(`Argument "${e}" of non-null type "${Me(i)}" must not be null.`,{nodes:c});const d=Kr(c,i,n);if(void 0===d)throw new X(`Argument "${e}" has invalid value ${ht(c)}.`,{nodes:c});s[e]=d}return s}function Yr(e,t,n){var r;const s=null===(r=t.directives)||void 0===r?void 0:r.find((t=>t.name.value===e.name));if(s)return Xr(e,s,n)}function zr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zr(e,t,n,r,s){const o=new Map;return Qr(e,t,n,r,s,o,new Set),o}function Qr(e,t,n,r,s,o,i){for(const c of s.selections)switch(c.kind){case ae.FIELD:{if(!es(n,c))continue;const e=(a=c).alias?a.alias.value:a.name.value,t=o.get(e);void 0!==t?t.push(c):o.set(e,[c]);break}case ae.INLINE_FRAGMENT:if(!es(n,c)||!ts(e,c,r))continue;Qr(e,t,n,r,c.selectionSet,o,i);break;case ae.FRAGMENT_SPREAD:{const s=c.name.value;if(i.has(s)||!es(n,c))continue;i.add(s);const a=t[s];if(!a||!ts(e,a,r))continue;Qr(e,t,n,r,a.selectionSet,o,i);break}}var a}function es(e,t){const n=Yr(In,t,e);if(!0===(null==n?void 0:n.if))return!1;const r=Yr(kn,t,e);return!1!==(null==r?void 0:r.if)}function ts(e,t,n){const r=t.typeCondition;if(!r)return!0;const s=fr(e,r);return s===n||!!qt(s)&&e.isSubType(s,n)}function ns(e,t){const n=new Map;for(const r of e){const e=t(r),s=n.get(e);void 0===s?n.set(e,[r]):s.push(r)}return n}function rs(e){return{Field:t,Directive:t};function t(t){var n;const r=ns(null!==(n=t.arguments)&&void 0!==n?n:[],(e=>e.name.value));for(const[t,n]of r)n.length>1&&e.reportError(new X(`There can be only one argument named "${t}".`,{nodes:n.map((e=>e.name))}))}}function ss(e){const t=Object.create(null),n=e.getSchema(),r=n?n.getDirectives():On;for(const e of r)t[e.name]=!e.isRepeatable;const s=e.getDocument().definitions;for(const e of s)e.kind===ae.DIRECTIVE_DEFINITION&&(t[e.name.value]=!e.repeatable);const o=Object.create(null),i=Object.create(null);return{enter(n){if(!("directives"in n)||!n.directives)return;let r;if(n.kind===ae.SCHEMA_DEFINITION||n.kind===ae.SCHEMA_EXTENSION)r=o;else if(br(n)||Er(n)){const e=n.name.value;r=i[e],void 0===r&&(i[e]=r=Object.create(null))}else r=Object.create(null);for(const s of n.directives){const n=s.name.value;t[n]&&(r[n]?e.reportError(new X(`The directive "@${n}" can only be used once at this location.`,{nodes:[r[n],s]})):r[n]=s)}}}}function os(e,t){return!!(It(e)||Pt(e)||_t(e))&&null!=e.getFields()[t]}function is(e){const t=[];let n=Object.create(null);return{ObjectValue:{enter(){t.push(n),n=Object.create(null)},leave(){const e=t.pop();e||V(!1),n=e}},ObjectField(t){const r=t.name.value;n[r]?e.reportError(new X(`There can be only one input field named "${r}".`,{nodes:[n[r],t.name]})):n[r]=t.name}}}function as(e,t){const n=e.getInputType();if(!n)return;const r=Ft(n);if(Rt(r))try{if(void 0===r.parseLiteral(t,void 0)){const r=Me(n);e.reportError(new X(`Expected value of type "${r}", found ${ht(t)}.`,{nodes:t}))}}catch(r){const s=Me(n);r instanceof X?e.reportError(r):e.reportError(new X(`Expected value of type "${s}", found ${ht(t)}; `+r.message,{nodes:t,originalError:r}))}else{const r=Me(n);e.reportError(new X(`Expected value of type "${r}", found ${ht(t)}.`,{nodes:t}))}}function cs(e,t,n,r,s){return Ct(r)&&!Ct(t)?(null!=n&&n.kind!==ae.NULL||void 0!==s)&&ln(e,t,r.ofType):ln(e,t,r)}const us=Object.freeze([function(e){return{Document(t){for(const n of t.definitions)if(!yr(n)){const t=n.kind===ae.SCHEMA_DEFINITION||n.kind===ae.SCHEMA_EXTENSION?"schema":'"'+n.name.value+'"';e.reportError(new X(`The ${t} definition is not executable.`,{nodes:n}))}return!1}}},function(e){const t=Object.create(null);return{OperationDefinition(n){const r=n.name;return r&&(t[r.value]?e.reportError(new X(`There can be only one operation named "${r.value}".`,{nodes:[t[r.value],r]})):t[r.value]=r),!1},FragmentDefinition:()=>!1}},function(e){let t=0;return{Document(e){t=e.definitions.filter((e=>e.kind===ae.OPERATION_DEFINITION)).length},OperationDefinition(n){!n.name&&t>1&&e.reportError(new X("This anonymous operation must be the only defined operation.",{nodes:n}))}}},function(e){return{OperationDefinition(t){if("subscription"===t.operation){const n=e.getSchema(),r=n.getSubscriptionType();if(r){const s=t.name?t.name.value:null,o=Object.create(null),i=e.getDocument(),a=Object.create(null);for(const e of i.definitions)e.kind===ae.FRAGMENT_DEFINITION&&(a[e.name.value]=e);const c=Zr(n,a,o,r,t.selectionSet);if(c.size>1){const t=[...c.values()].slice(1).flat();e.reportError(new X(null!=s?`Subscription "${s}" must select only one top level field.`:"Anonymous Subscription must select only one top level field.",{nodes:t}))}for(const t of c.values())t[0].name.value.startsWith("__")&&e.reportError(new X(null!=s?`Subscription "${s}" must not select an introspection top level field.`:"Anonymous Subscription must not select an introspection top level field.",{nodes:t}))}}}}},wr,function(e){return{InlineFragment(t){const n=t.typeCondition;if(n){const t=fr(e.getSchema(),n);if(t&&!Bt(t)){const t=ht(n);e.reportError(new X(`Fragment cannot condition on non composite type "${t}".`,{nodes:n}))}}},FragmentDefinition(t){const n=fr(e.getSchema(),t.typeCondition);if(n&&!Bt(n)){const n=ht(t.typeCondition);e.reportError(new X(`Fragment "${t.name.value}" cannot condition on non composite type "${n}".`,{nodes:t.typeCondition}))}}}},function(e){return{VariableDefinition(t){const n=fr(e.getSchema(),t.type);if(void 0!==n&&!$t(n)){const n=t.variable.name.value,r=ht(t.type);e.reportError(new X(`Variable "$${n}" cannot be non-input type "${r}".`,{nodes:t.type}))}}}},function(e){return{Field(t){const n=e.getType(),r=t.selectionSet;if(n)if(Rt(Ft(n))){if(r){const s=t.name.value,o=Me(n);e.reportError(new X(`Field "${s}" must not have a selection since type "${o}" has no subfields.`,{nodes:r}))}}else if(!r){const r=t.name.value,s=Me(n);e.reportError(new X(`Field "${r}" of type "${s}" must have a selection of subfields. Did you mean "${r} { ... }"?`,{nodes:t}))}}}},function(e){return{Field(t){const n=e.getParentType();if(n&&!e.getFieldDef()){const r=e.getSchema(),s=t.name.value;let o=We("to use an inline fragment on",function(e,t,n){if(!qt(t))return[];const r=new Set,s=Object.create(null);for(const i of e.getPossibleTypes(t))if(i.getFields()[n]){r.add(i),s[i.name]=1;for(const e of i.getInterfaces()){var o;e.getFields()[n]&&(r.add(e),s[e.name]=(null!==(o=s[e.name])&&void 0!==o?o:0)+1)}}return[...r].sort(((t,n)=>{const r=s[n.name]-s[t.name];return 0!==r?r:Pt(t)&&e.isSubType(t,n)?-1:Pt(n)&&e.isSubType(n,t)?1:Qe(t.name,n.name)})).map((e=>e.name))}(r,n,s));""===o&&(o=We(function(e,t){return It(e)||Pt(e)?rt(t,Object.keys(e.getFields())):[]}(n,s))),e.reportError(new X(`Cannot query field "${s}" on type "${n.name}".`+o,{nodes:t}))}}}},function(e){const t=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition(n){const r=n.name.value;return t[r]?e.reportError(new X(`There can be only one fragment named "${r}".`,{nodes:[t[r],n.name]})):t[r]=n.name,!1}}},function(e){return{FragmentSpread(t){const n=t.name.value;e.getFragment(n)||e.reportError(new X(`Unknown fragment "${n}".`,{nodes:t.name}))}}},function(e){const t=[],n=[];return{OperationDefinition:e=>(t.push(e),!1),FragmentDefinition:e=>(n.push(e),!1),Document:{leave(){const r=Object.create(null);for(const n of t)for(const t of e.getRecursivelyReferencedFragments(n))r[t.name.value]=!0;for(const t of n){const n=t.name.value;!0!==r[n]&&e.reportError(new X(`Fragment "${n}" is never used.`,{nodes:t}))}}}}},function(e){return{InlineFragment(t){const n=e.getType(),r=e.getParentType();if(Bt(n)&&Bt(r)&&!pn(e.getSchema(),n,r)){const s=Me(r),o=Me(n);e.reportError(new X(`Fragment cannot be spread here as objects of type "${s}" can never be of type "${o}".`,{nodes:t}))}},FragmentSpread(t){const n=t.name.value,r=function(e,t){const n=e.getFragment(t);if(n){const t=fr(e.getSchema(),n.typeCondition);if(Bt(t))return t}}(e,n),s=e.getParentType();if(r&&s&&!pn(e.getSchema(),r,s)){const o=Me(s),i=Me(r);e.reportError(new X(`Fragment "${n}" cannot be spread here as objects of type "${o}" can never be of type "${i}".`,{nodes:t}))}}}},function(e){const t=Object.create(null),n=[],r=Object.create(null);return{OperationDefinition:()=>!1,FragmentDefinition:e=>(s(e),!1)};function s(o){if(t[o.name.value])return;const i=o.name.value;t[i]=!0;const a=e.getFragmentSpreads(o.selectionSet);if(0!==a.length){r[i]=n.length;for(const t of a){const o=t.name.value,i=r[o];if(n.push(t),void 0===i){const t=e.getFragment(o);t&&s(t)}else{const t=n.slice(i),r=t.slice(0,-1).map((e=>'"'+e.name.value+'"')).join(", ");e.reportError(new X(`Cannot spread fragment "${o}" within itself`+(""!==r?` via ${r}.`:"."),{nodes:t}))}n.pop()}r[i]=void 0}}},function(e){return{OperationDefinition(t){var n;const r=ns(null!==(n=t.variableDefinitions)&&void 0!==n?n:[],(e=>e.variable.name.value));for(const[t,n]of r)n.length>1&&e.reportError(new X(`There can be only one variable named "$${t}".`,{nodes:n.map((e=>e.variable.name))}))}}},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:s}of r){const r=s.name.value;!0!==t[r]&&e.reportError(new X(n.name?`Variable "$${r}" is not defined by operation "${n.name.value}".`:`Variable "$${r}" is not defined.`,{nodes:[s,n]}))}}},VariableDefinition(e){t[e.variable.name.value]=!0}}},function(e){let t=[];return{OperationDefinition:{enter(){t=[]},leave(n){const r=Object.create(null),s=e.getRecursiveVariableUsages(n);for(const{node:e}of s)r[e.name.value]=!0;for(const s of t){const t=s.variable.name.value;!0!==r[t]&&e.reportError(new X(n.name?`Variable "$${t}" is never used in operation "${n.name.value}".`:`Variable "$${t}" is never used.`,{nodes:s}))}}},VariableDefinition(e){t.push(e)}}},Tr,ss,function(e){return{...Ar(e),Argument(t){const n=e.getArgument(),r=e.getFieldDef(),s=e.getParentType();if(!n&&r&&s){const n=t.name.value,o=rt(n,r.args.map((e=>e.name)));e.reportError(new X(`Unknown argument "${n}" on field "${s.name}.${r.name}".`+We(o),{nodes:t}))}}}},rs,function(e){return{ListValue(t){if(!xt(Lt(e.getParentInputType())))return as(e,t),!1},ObjectValue(t){const n=Ft(e.getInputType());if(!_t(n))return as(e,t),!1;const r=Ye(t.fields,(e=>e.name.value));for(const s of Object.values(n.getFields()))if(!r[s.name]&&un(s)){const r=Me(s.type);e.reportError(new X(`Field "${n.name}.${s.name}" of required type "${r}" was not provided.`,{nodes:t}))}},ObjectField(t){const n=Ft(e.getParentInputType());if(!e.getInputType()&&_t(n)){const r=rt(t.name.value,Object.keys(n.getFields()));e.reportError(new X(`Field "${t.name.value}" is not defined by type "${n.name}".`+We(r),{nodes:t}))}},NullValue(t){const n=e.getInputType();Ct(n)&&e.reportError(new X(`Expected value of type "${Me(n)}", found ${ht(t)}.`,{nodes:t}))},EnumValue:t=>as(e,t),IntValue:t=>as(e,t),FloatValue:t=>as(e,t),StringValue:t=>as(e,t),BooleanValue:t=>as(e,t)}},function(e){return{...Mr(e),Field:{leave(t){var n;const r=e.getFieldDef();if(!r)return!1;const s=new Set(null===(n=t.arguments)||void 0===n?void 0:n.map((e=>e.name.value)));for(const n of r.args)if(!s.has(n.name)&&en(n)){const s=Me(n.type);e.reportError(new X(`Field "${r.name}" argument "${n.name}" of type "${s}" is required, but it was not provided.`,{nodes:t}))}}}}},function(e){let t=Object.create(null);return{OperationDefinition:{enter(){t=Object.create(null)},leave(n){const r=e.getRecursiveVariableUsages(n);for(const{node:n,type:s,defaultValue:o}of r){const r=n.name.value,i=t[r];if(i&&s){const t=e.getSchema(),a=fr(t,i.type);if(a&&!cs(t,a,i.defaultValue,s,o)){const t=Me(a),o=Me(s);e.reportError(new X(`Variable "$${r}" of type "${t}" used in position expecting type "${o}".`,{nodes:[i,n]}))}}}}},VariableDefinition(e){t[e.variable.name.value]=e}}},function(e){const t=new qr,n=new Map;return{SelectionSet(r){const s=function(e,t,n,r,s){const o=[],[i,a]=Dr(e,t,r,s);if(function(e,t,n,r,s){for(const[o,i]of Object.entries(s))if(i.length>1)for(let s=0;s<i.length;s++)for(let a=s+1;a<i.length;a++){const c=xr(e,n,r,!1,o,i[s],i[a]);c&&t.push(c)}}(e,o,t,n,i),0!==a.length)for(let r=0;r<a.length;r++){Nr(e,o,t,n,!1,i,a[r]);for(let s=r+1;s<a.length;s++)Or(e,o,t,n,!1,a[r],a[s])}return o}(e,n,t,e.getParentType(),r);for(const[[t,n],r,o]of s){const s=Pr(n);e.reportError(new X(`Fields "${t}" conflict because ${s}. Use different aliases on the fields to fetch both if this was intentional.`,{nodes:r.concat(o)}))}}}},is]),ds=Object.freeze([function(e){var t,n,r;const s=e.getSchema(),o=null!==(t=null!==(n=null!==(r=null==s?void 0:s.astNode)&&void 0!==r?r:null==s?void 0:s.getQueryType())&&void 0!==n?n:null==s?void 0:s.getMutationType())&&void 0!==t?t:null==s?void 0:s.getSubscriptionType();let i=0;return{SchemaDefinition(t){o?e.reportError(new X("Cannot define a new schema within a schema extension.",{nodes:t})):(i>0&&e.reportError(new X("Must provide only one schema definition.",{nodes:t})),++i)}}},function(e){const t=e.getSchema(),n=Object.create(null),r=t?{query:t.getQueryType(),mutation:t.getMutationType(),subscription:t.getSubscriptionType()}:{};return{SchemaDefinition:s,SchemaExtension:s};function s(t){var s;const o=null!==(s=t.operationTypes)&&void 0!==s?s:[];for(const t of o){const s=t.operation,o=n[s];r[s]?e.reportError(new X(`Type for ${s} already defined in the schema. It cannot be redefined.`,{nodes:t})):o?e.reportError(new X(`There can be only one ${s} type in schema.`,{nodes:[o,t]})):n[s]=t}return!1}},function(e){const t=Object.create(null),n=e.getSchema();return{ScalarTypeDefinition:r,ObjectTypeDefinition:r,InterfaceTypeDefinition:r,UnionTypeDefinition:r,EnumTypeDefinition:r,InputObjectTypeDefinition:r};function r(r){const s=r.name.value;if(null==n||!n.getType(s))return t[s]?e.reportError(new X(`There can be only one type named "${s}".`,{nodes:[t[s],r.name]})):t[s]=r.name,!1;e.reportError(new X(`Type "${s}" already exists in the schema. It cannot also be defined in this type definition.`,{nodes:r.name}))}},function(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{EnumTypeDefinition:s,EnumTypeExtension:s};function s(t){var s;const o=t.name.value;r[o]||(r[o]=Object.create(null));const i=null!==(s=t.values)&&void 0!==s?s:[],a=r[o];for(const t of i){const r=t.name.value,s=n[o];Ot(s)&&s.getValue(r)?e.reportError(new X(`Enum value "${o}.${r}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:t.name})):a[r]?e.reportError(new X(`Enum value "${o}.${r}" can only be defined once.`,{nodes:[a[r],t.name]})):a[r]=t.name}return!1}},function(e){const t=e.getSchema(),n=t?t.getTypeMap():Object.create(null),r=Object.create(null);return{InputObjectTypeDefinition:s,InputObjectTypeExtension:s,InterfaceTypeDefinition:s,InterfaceTypeExtension:s,ObjectTypeDefinition:s,ObjectTypeExtension:s};function s(t){var s;const o=t.name.value;r[o]||(r[o]=Object.create(null));const i=null!==(s=t.fields)&&void 0!==s?s:[],a=r[o];for(const t of i){const r=t.name.value;os(n[o],r)?e.reportError(new X(`Field "${o}.${r}" already exists in the schema. It cannot also be defined in this type extension.`,{nodes:t.name})):a[r]?e.reportError(new X(`Field "${o}.${r}" can only be defined once.`,{nodes:[a[r],t.name]})):a[r]=t.name}return!1}},function(e){return{DirectiveDefinition(e){var t;const r=null!==(t=e.arguments)&&void 0!==t?t:[];return n(`@${e.name.value}`,r)},InterfaceTypeDefinition:t,InterfaceTypeExtension:t,ObjectTypeDefinition:t,ObjectTypeExtension:t};function t(e){var t;const r=e.name.value,s=null!==(t=e.fields)&&void 0!==t?t:[];for(const e of s){var o;n(`${r}.${e.name.value}`,null!==(o=e.arguments)&&void 0!==o?o:[])}return!1}function n(t,n){const r=ns(n,(e=>e.name.value));for(const[n,s]of r)s.length>1&&e.reportError(new X(`Argument "${t}(${n}:)" can only be defined once.`,{nodes:s.map((e=>e.name))}));return!1}},function(e){const t=Object.create(null),n=e.getSchema();return{DirectiveDefinition(r){const s=r.name.value;if(null==n||!n.getDirective(s))return t[s]?e.reportError(new X(`There can be only one directive named "@${s}".`,{nodes:[t[s],r.name]})):t[s]=r.name,!1;e.reportError(new X(`Directive "@${s}" already exists in the schema. It cannot be redefined.`,{nodes:r.name}))}}},wr,Tr,ss,function(e){const t=e.getSchema(),n=Object.create(null);for(const t of e.getDocument().definitions)br(t)&&(n[t.name.value]=t);return{ScalarTypeExtension:r,ObjectTypeExtension:r,InterfaceTypeExtension:r,UnionTypeExtension:r,EnumTypeExtension:r,InputObjectTypeExtension:r};function r(r){const s=r.name.value,o=n[s],i=null==t?void 0:t.getType(s);let a;if(o?a=jr[o.kind]:i&&(a=kt(c=i)?ae.SCALAR_TYPE_EXTENSION:It(c)?ae.OBJECT_TYPE_EXTENSION:Pt(c)?ae.INTERFACE_TYPE_EXTENSION:Nt(c)?ae.UNION_TYPE_EXTENSION:Ot(c)?ae.ENUM_TYPE_EXTENSION:_t(c)?ae.INPUT_OBJECT_TYPE_EXTENSION:void V(!1,"Unexpected type: "+Me(c))),a){if(a!==r.kind){const t=function(e){switch(e){case ae.SCALAR_TYPE_EXTENSION:return"scalar";case ae.OBJECT_TYPE_EXTENSION:return"object";case ae.INTERFACE_TYPE_EXTENSION:return"interface";case ae.UNION_TYPE_EXTENSION:return"union";case ae.ENUM_TYPE_EXTENSION:return"enum";case ae.INPUT_OBJECT_TYPE_EXTENSION:return"input object";default:V(!1,"Unexpected kind: "+Me(e))}}(r.kind);e.reportError(new X(`Cannot extend non-${t} type "${s}".`,{nodes:o?[o,r]:r}))}}else{const o=rt(s,Object.keys({...n,...null==t?void 0:t.getTypeMap()}));e.reportError(new X(`Cannot extend type "${s}" because it is not defined.`+We(o),{nodes:r.name}))}var c}},Ar,rs,is,Mr]);class ls{constructor(e,t){this._ast=e,this._fragments=void 0,this._fragmentSpreads=new Map,this._recursivelyReferencedFragments=new Map,this._onError=t}get[Symbol.toStringTag](){return"ASTValidationContext"}reportError(e){this._onError(e)}getDocument(){return this._ast}getFragment(e){let t;if(this._fragments)t=this._fragments;else{t=Object.create(null);for(const e of this.getDocument().definitions)e.kind===ae.FRAGMENT_DEFINITION&&(t[e.name.value]=e);this._fragments=t}return t[e]}getFragmentSpreads(e){let t=this._fragmentSpreads.get(e);if(!t){t=[];const n=[e];let r;for(;r=n.pop();)for(const e of r.selections)e.kind===ae.FRAGMENT_SPREAD?t.push(e):e.selectionSet&&n.push(e.selectionSet);this._fragmentSpreads.set(e,t)}return t}getRecursivelyReferencedFragments(e){let t=this._recursivelyReferencedFragments.get(e);if(!t){t=[];const n=Object.create(null),r=[e.selectionSet];let s;for(;s=r.pop();)for(const e of this.getFragmentSpreads(s)){const s=e.name.value;if(!0!==n[s]){n[s]=!0;const e=this.getFragment(s);e&&(t.push(e),r.push(e.selectionSet))}}this._recursivelyReferencedFragments.set(e,t)}return t}}class ps extends ls{constructor(e,t,n){super(e,n),this._schema=t}get[Symbol.toStringTag](){return"SDLValidationContext"}getSchema(){return this._schema}}class fs extends ls{constructor(e,t,n,r){super(t,r),this._schema=e,this._typeInfo=n,this._variableUsages=new Map,this._recursiveVariableUsages=new Map}get[Symbol.toStringTag](){return"ValidationContext"}getSchema(){return this._schema}getVariableUsages(e){let t=this._variableUsages.get(e);if(!t){const n=[],r=new hr(this._schema);lt(e,Sr(r,{VariableDefinition:()=>!1,Variable(e){n.push({node:e,type:r.getInputType(),defaultValue:r.getDefaultValue()})}})),t=n,this._variableUsages.set(e,t)}return t}getRecursiveVariableUsages(e){let t=this._recursiveVariableUsages.get(e);if(!t){t=this.getVariableUsages(e);for(const n of this.getRecursivelyReferencedFragments(e))t=t.concat(this.getVariableUsages(n));this._recursiveVariableUsages.set(e,t)}return t}getType(){return this._typeInfo.getType()}getParentType(){return this._typeInfo.getParentType()}getInputType(){return this._typeInfo.getInputType()}getParentInputType(){return this._typeInfo.getParentInputType()}getFieldDef(){return this._typeInfo.getFieldDef()}getDirective(){return this._typeInfo.getDirective()}getArgument(){return this._typeInfo.getArgument()}getEnumValue(){return this._typeInfo.getEnumValue()}}class hs extends Error{constructor(e){super("Unexpected error value: "+Me(e)),this.name="NonErrorThrown",this.thrownValue=e}}function ms(e,t,n){var r;const s=(o=e)instanceof Error?o:new hs(o);var o,i;return i=s,Array.isArray(i.path)?s:new X(s.message,{nodes:null!==(r=s.nodes)&&void 0!==r?r:t,source:s.source,positions:s.positions,path:n,originalError:s})}const Ss=function(e){let t;return function(e,n,r){void 0===t&&(t=new WeakMap);let s=t.get(e);void 0===s&&(s=new WeakMap,t.set(e,s));let o=s.get(n);void 0===o&&(o=new WeakMap,s.set(n,o));let i=o.get(r);return void 0===i&&(c=n,u=r,i=function(e,t,n,r,s){const o=new Map,i=new Set;for(const a of s)a.selectionSet&&Qr(e,t,n,r,a.selectionSet,o,i);return o}((a=e).schema,a.fragments,a.variableValues,c,u),o.set(r,i)),i;var a,c,u}}();function ys(e){arguments.length<2||L(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,document:n,variableValues:r,rootValue:s}=e;!function(e,t,n){t||L(!1,"Must provide document."),Qn(e),null==n||F(n)||L(!1,"Variables must be provided as an Object where each property is a variable value. Perhaps look to see if an unparsed JSON string was provided.")}(t,n,r);const o=function(e){var t,n;const{schema:r,document:s,rootValue:o,contextValue:i,variableValues:a,operationName:c,fieldResolver:u,typeResolver:d,subscribeFieldResolver:l}=e;let p;const f=Object.create(null);for(const e of s.definitions)switch(e.kind){case ae.OPERATION_DEFINITION:if(null==c){if(void 0!==p)return[new X("Must provide operation name if query contains multiple operations.")];p=e}else(null===(t=e.name)||void 0===t?void 0:t.value)===c&&(p=e);break;case ae.FRAGMENT_DEFINITION:f[e.name.value]=e}if(!p)return null!=c?[new X(`Unknown operation named "${c}".`)]:[new X("Must provide an operation.")];const h=function(e,t,n,r){const s=[],o=null==r?void 0:r.maxErrors;try{const r=function(e,t,n,r){const s={};for(const o of t){const t=o.variable.name.value,i=fr(e,o.type);if(!$t(i)){const e=ht(o.type);r(new X(`Variable "$${t}" expected value of type "${e}" which cannot be used as an input type.`,{nodes:o.type}));continue}if(!zr(n,t)){if(o.defaultValue)s[t]=Kr(o.defaultValue,i);else if(Ct(i)){const e=Me(i);r(new X(`Variable "$${t}" of required type "${e}" was not provided.`,{nodes:o}))}continue}const a=n[t];if(null===a&&Ct(i)){const e=Me(i);r(new X(`Variable "$${t}" of non-null type "${e}" must not be null.`,{nodes:o}))}else s[t]=Vr(a,i,((e,n,s)=>{let i=`Variable "$${t}" got invalid value `+Me(n);e.length>0&&(i+=` at "${t}${Lr(e)}"`),r(new X(i+"; "+s.message,{nodes:o,originalError:s.originalError}))}))}return s}(e,t,n,(e=>{if(null!=o&&s.length>=o)throw new X("Too many errors processing variables, error limit reached. Execution aborted.");s.push(e)}));if(0===s.length)return{coerced:r}}catch(e){s.push(e)}return{errors:s}}(r,null!==(n=p.variableDefinitions)&&void 0!==n?n:[],null!=a?a:{},{maxErrors:50});return h.errors?h.errors:{schema:r,fragments:f,rootValue:o,contextValue:i,operation:p,variableValues:h.coerced,fieldResolver:null!=u?u:Ps,typeResolver:null!=d?d:Is,subscribeFieldResolver:null!=l?l:Ps,errors:[]}}(e);if(!("schema"in o))return{errors:o};try{const{operation:e}=o,t=function(e,t,n){const r=e.schema.getRootType(t.operation);if(null==r)throw new X(`Schema is not configured to execute ${t.operation} operation.`,{nodes:t});const s=Zr(e.schema,e.fragments,e.variableValues,r,t.selectionSet),o=void 0;switch(t.operation){case re.QUERY:return bs(e,r,n,o,s);case re.MUTATION:return function(e,t,n,r,s){return function(e,t,n){let r=Object.create(null);for(const n of e)r=U(r)?r.then((e=>t(e,n))):t(r,n);return r}(s.entries(),((r,[s,o])=>{const i=Ur(undefined,s,t.name),a=vs(e,t,n,o,i);return void 0===a?r:U(a)?a.then((e=>(r[s]=e,r))):(r[s]=a,r)}))}(e,r,n,0,s);case re.SUBSCRIPTION:return bs(e,r,n,o,s)}}(o,e,s);return U(t)?t.then((e=>gs(e,o.errors)),(e=>(o.errors.push(e),gs(null,o.errors)))):gs(t,o.errors)}catch(e){return o.errors.push(e),gs(null,o.errors)}}function gs(e,t){return 0===t.length?{data:e}:{errors:t,data:e}}function bs(e,t,n,r,s){const o=Object.create(null);let i=!1;for(const[a,c]of s.entries()){const s=vs(e,t,n,c,Ur(r,a,t.name));void 0!==s&&(o[a]=s,U(s)&&(i=!0))}return i?(a=o,Promise.all(Object.values(a)).then((e=>{const t=Object.create(null);for(const[n,r]of Object.keys(a).entries())t[r]=e[n];return t}))):o;var a}function vs(e,t,n,r,s){var o;const i=function(e,t,n){const r=n.name.value;return r===Vn.name&&e.getQueryType()===t?Vn:r===Jn.name&&e.getQueryType()===t?Jn:r===Hn.name?Hn:t.getFields()[r]}(e.schema,t,r[0]);if(!i)return;const a=i.type,c=null!==(o=i.resolve)&&void 0!==o?o:e.fieldResolver,u=function(e,t,n,r,s){return{fieldName:t.name,fieldNodes:n,returnType:t.type,parentType:r,path:s,schema:e.schema,fragments:e.fragments,rootValue:e.rootValue,operation:e.operation,variableValues:e.variableValues}}(e,i,r,t,s);try{const t=c(n,Xr(i,r[0],e.variableValues),e.contextValue,u);let o;return o=U(t)?t.then((t=>As(e,a,r,u,s,t))):As(e,a,r,u,s,t),U(o)?o.then(void 0,(t=>Es(ms(t,r,Fr(s)),a,e))):o}catch(t){return Es(ms(t,r,Fr(s)),a,e)}}function Es(e,t,n){if(Ct(t))throw e;return n.errors.push(e),null}function As(e,t,n,r,s,o){if(o instanceof Error)throw o;if(Ct(t)){const i=As(e,t.ofType,n,r,s,o);if(null===i)throw new Error(`Cannot return null for non-nullable field ${r.parentType.name}.${r.fieldName}.`);return i}return null==o?null:xt(t)?function(e,t,n,r,s,o){if(!xn(o))throw new X(`Expected Iterable, but did not find one for field "${r.parentType.name}.${r.fieldName}".`);const i=t.ofType;let a=!1;const c=Array.from(o,((t,o)=>{const c=Ur(s,o,void 0);try{let s;return s=U(t)?t.then((t=>As(e,i,n,r,c,t))):As(e,i,n,r,c,t),U(s)?(a=!0,s.then(void 0,(t=>Es(ms(t,n,Fr(c)),i,e)))):s}catch(t){return Es(ms(t,n,Fr(c)),i,e)}}));return a?Promise.all(c):c}(e,t,n,r,s,o):Rt(t)?function(e,t){const n=e.serialize(t);if(null==n)throw new Error(`Expected \`${Me(e)}.serialize(${Me(t)})\` to return non-nullable value, returned: ${Me(n)}`);return n}(t,o):qt(t)?function(e,t,n,r,s,o){var i;const a=null!==(i=t.resolveType)&&void 0!==i?i:e.typeResolver,c=e.contextValue,u=a(o,c,r,t);return U(u)?u.then((i=>ws(e,Ts(i,e,t,n,r,o),n,r,s,o))):ws(e,Ts(u,e,t,n,r,o),n,r,s,o)}(e,t,n,r,s,o):It(t)?ws(e,t,n,r,s,o):void V(!1,"Cannot complete value of unexpected output type: "+Me(t))}function Ts(e,t,n,r,s,o){if(null==e)throw new X(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${s.parentType.name}.${s.fieldName}". Either the "${n.name}" type should provide a "resolveType" function or each possible type should provide an "isTypeOf" function.`,r);if(It(e))throw new X("Support for returning GraphQLObjectType from resolveType was removed in graphql-js@16.0.0 please return type name instead.");if("string"!=typeof e)throw new X(`Abstract type "${n.name}" must resolve to an Object type at runtime for field "${s.parentType.name}.${s.fieldName}" with value ${Me(o)}, received "${Me(e)}".`);const i=t.schema.getType(e);if(null==i)throw new X(`Abstract type "${n.name}" was resolved to a type "${e}" that does not exist inside the schema.`,{nodes:r});if(!It(i))throw new X(`Abstract type "${n.name}" was resolved to a non-object type "${e}".`,{nodes:r});if(!t.schema.isSubType(n,i))throw new X(`Runtime Object type "${i.name}" is not a possible type for "${n.name}".`,{nodes:r});return i}function ws(e,t,n,r,s,o){const i=Ss(e,t,n);if(t.isTypeOf){const a=t.isTypeOf(o,e.contextValue,r);if(U(a))return a.then((r=>{if(!r)throw ks(t,o,n);return bs(e,t,o,s,i)}));if(!a)throw ks(t,o,n)}return bs(e,t,o,s,i)}function ks(e,t,n){return new X(`Expected value of type "${e.name}" but got: ${Me(t)}.`,{nodes:n})}const Is=function(e,t,n,r){if(F(e)&&"string"==typeof e.__typename)return e.__typename;const s=n.schema.getPossibleTypes(r),o=[];for(let r=0;r<s.length;r++){const i=s[r];if(i.isTypeOf){const s=i.isTypeOf(e,t,n);if(U(s))o[r]=s;else if(s)return i.name}}return o.length?Promise.all(o).then((e=>{for(let t=0;t<e.length;t++)if(e[t])return s[t].name})):void 0},Ps=function(e,t,n,r){if(F(e)||"function"==typeof e){const s=e[r.fieldName];return"function"==typeof s?e[r.fieldName](t,n,r):s}};function Ns(e){arguments.length<2||L(!1,"graphql@16 dropped long-deprecated support for positional arguments, please pass an object instead.");const{schema:t,source:n,rootValue:r,contextValue:s,variableValues:o,operationName:i,fieldResolver:a,typeResolver:c}=e,u=Zn(t);if(u.length>0)return{errors:u};let d;try{d=Fe(n)}catch(e){return{errors:[e]}}const l=function(e,t,n=us,r,s=new hr(e)){var o;const i=null!==(o=null==r?void 0:r.maxErrors)&&void 0!==o?o:100;t||L(!1,"Must provide document."),Qn(e);const a=Object.freeze({}),c=[],u=new fs(e,t,s,(e=>{if(c.length>=i)throw c.push(new X("Too many validation errors, error limit reached. Validation aborted.")),a;c.push(e)})),d=pt(n.map((e=>e(u))));try{lt(t,Sr(s,d))}catch(e){if(e!==a)throw e}return c}(t,d);return l.length>0?{errors:l}:ys({schema:t,document:d,rootValue:r,contextValue:s,variableValues:o,operationName:i,fieldResolver:a,typeResolver:c})}const Os=Ye([...vn,...Kn],(e=>e.name));function _s(e){const t=Yr(Pn,e);return null==t?void 0:t.reason}function xs(e){const t=Yr(Nn,e);return null==t?void 0:t.url}function Cs(e,t){null!=e&&e.kind===ae.DOCUMENT||L(!1,"Must provide valid Document AST."),!0!==(null==t?void 0:t.assumeValid)&&!0!==(null==t?void 0:t.assumeValidSDL)&&function(e){const t=function(e,t,n=ds){const r=[],s=new ps(e,void 0,(e=>{r.push(e)}));return lt(e,pt(n.map((e=>e(s))))),r}(e);if(0!==t.length)throw new Error(t.map((e=>e.message)).join("\n\n"))}(e);const n=function(e,t,n){var r,s,o,i;const a=[],c=Object.create(null),u=[];let d;const l=[];for(const e of t.definitions)if(e.kind===ae.SCHEMA_DEFINITION)d=e;else if(e.kind===ae.SCHEMA_EXTENSION)l.push(e);else if(br(e))a.push(e);else if(Er(e)){const t=e.name.value,n=c[t];c[t]=n?n.concat([e]):[e]}else e.kind===ae.DIRECTIVE_DEFINITION&&u.push(e);if(0===Object.keys(c).length&&0===a.length&&0===u.length&&0===l.length&&null==d)return e;const p=Object.create(null);for(const t of e.types)p[t.name]=Wn(f=t)||En(f)?f:kt(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];let s=n.specifiedByURL;for(const e of r){var o;s=null!==(o=xs(e))&&void 0!==o?o:s}return new Ht({...n,specifiedByURL:s,extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):It(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new Kt({...n,interfaces:()=>[...e.getInterfaces().map(y),...P(r)],fields:()=>({...Ze(n.fields,g),...T(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):Pt(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new tn({...n,interfaces:()=>[...e.getInterfaces().map(y),...P(r)],fields:()=>({...Ze(n.fields,g),...T(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):Nt(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new nn({...n,types:()=>[...e.getTypes().map(y),...N(r)],extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):Ot(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[e.name])&&void 0!==t?t:[];return new sn({...n,values:{...n.values,...I(r)},extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):_t(f)?function(e){var t;const n=e.toConfig(),r=null!==(t=c[n.name])&&void 0!==t?t:[];return new an({...n,fields:()=>({...Ze(n.fields,(e=>({...e,type:S(e.type)}))),...k(r)}),extensionASTNodes:n.extensionASTNodes.concat(r)})}(f):void V(!1,"Unexpected type: "+Me(f));var f;for(const e of a){var h;const t=e.name.value;p[t]=null!==(h=Os[t])&&void 0!==h?h:O(e)}const m={query:e.query&&y(e.query),mutation:e.mutation&&y(e.mutation),subscription:e.subscription&&y(e.subscription),...d&&v([d]),...v(l)};return{description:null===(r=d)||void 0===r||null===(s=r.description)||void 0===s?void 0:s.value,...m,types:Object.values(p),directives:[...e.directives.map((function(e){const t=e.toConfig();return new wn({...t,args:Ze(t.args,b)})})),...u.map((function(e){var t;return new wn({name:e.name.value,description:null===(t=e.description)||void 0===t?void 0:t.value,locations:e.locations.map((({value:e})=>e)),isRepeatable:e.repeatable,args:w(e.arguments),astNode:e})}))],extensions:Object.create(null),astNode:null!==(o=d)&&void 0!==o?o:e.astNode,extensionASTNodes:e.extensionASTNodes.concat(l),assumeValid:null!==(i=null==n?void 0:n.assumeValid)&&void 0!==i&&i};function S(e){return xt(e)?new jt(S(e.ofType)):Ct(e)?new Mt(S(e.ofType)):y(e)}function y(e){return p[e.name]}function g(e){return{...e,type:S(e.type),args:e.args&&Ze(e.args,b)}}function b(e){return{...e,type:S(e.type)}}function v(e){const t={};for(const r of e){var n;const e=null!==(n=r.operationTypes)&&void 0!==n?n:[];for(const n of e)t[n.operation]=E(n.type)}return t}function E(e){var t;const n=e.name.value,r=null!==(t=Os[n])&&void 0!==t?t:p[n];if(void 0===r)throw new Error(`Unknown type: "${n}".`);return r}function A(e){return e.kind===ae.LIST_TYPE?new jt(A(e.type)):e.kind===ae.NON_NULL_TYPE?new Mt(A(e.type)):E(e)}function T(e){const t=Object.create(null);for(const s of e){var n;const e=null!==(n=s.fields)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={type:A(n.type),description:null===(r=n.description)||void 0===r?void 0:r.value,args:w(n.arguments),deprecationReason:_s(n),astNode:n}}}return t}function w(e){const t=null!=e?e:[],n=Object.create(null);for(const e of t){var r;const t=A(e.type);n[e.name.value]={type:t,description:null===(r=e.description)||void 0===r?void 0:r.value,defaultValue:Kr(e.defaultValue,t),deprecationReason:_s(e),astNode:e}}return n}function k(e){const t=Object.create(null);for(const s of e){var n;const e=null!==(n=s.fields)&&void 0!==n?n:[];for(const n of e){var r;const e=A(n.type);t[n.name.value]={type:e,description:null===(r=n.description)||void 0===r?void 0:r.value,defaultValue:Kr(n.defaultValue,e),deprecationReason:_s(n),astNode:n}}}return t}function I(e){const t=Object.create(null);for(const s of e){var n;const e=null!==(n=s.values)&&void 0!==n?n:[];for(const n of e){var r;t[n.name.value]={description:null===(r=n.description)||void 0===r?void 0:r.value,deprecationReason:_s(n),astNode:n}}}return t}function P(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.interfaces)||void 0===n?void 0:n.map(E))&&void 0!==t?t:[]}))}function N(e){return e.flatMap((e=>{var t,n;return null!==(t=null===(n=e.types)||void 0===n?void 0:n.map(E))&&void 0!==t?t:[]}))}function O(e){var t;const n=e.name.value,r=null!==(t=c[n])&&void 0!==t?t:[];switch(e.kind){case ae.OBJECT_TYPE_DEFINITION:{var s;const t=[e,...r];return new Kt({name:n,description:null===(s=e.description)||void 0===s?void 0:s.value,interfaces:()=>P(t),fields:()=>T(t),astNode:e,extensionASTNodes:r})}case ae.INTERFACE_TYPE_DEFINITION:{var o;const t=[e,...r];return new tn({name:n,description:null===(o=e.description)||void 0===o?void 0:o.value,interfaces:()=>P(t),fields:()=>T(t),astNode:e,extensionASTNodes:r})}case ae.ENUM_TYPE_DEFINITION:{var i;const t=[e,...r];return new sn({name:n,description:null===(i=e.description)||void 0===i?void 0:i.value,values:I(t),astNode:e,extensionASTNodes:r})}case ae.UNION_TYPE_DEFINITION:{var a;const t=[e,...r];return new nn({name:n,description:null===(a=e.description)||void 0===a?void 0:a.value,types:()=>N(t),astNode:e,extensionASTNodes:r})}case ae.SCALAR_TYPE_DEFINITION:var u;return new Ht({name:n,description:null===(u=e.description)||void 0===u?void 0:u.value,specifiedByURL:xs(e),astNode:e,extensionASTNodes:r});case ae.INPUT_OBJECT_TYPE_DEFINITION:{var d;const t=[e,...r];return new an({name:n,description:null===(d=e.description)||void 0===d?void 0:d.value,fields:()=>k(t),astNode:e,extensionASTNodes:r})}}}}({description:void 0,types:[],directives:[],extensions:Object.create(null),extensionASTNodes:[],assumeValid:!1},e,t);if(null==n.astNode)for(const e of n.types)switch(e.name){case"Query":n.query=e;break;case"Mutation":n.mutation=e;break;case"Subscription":n.subscription=e}const r=[...n.directives,...On.filter((e=>n.directives.every((t=>t.name!==e.name))))];return new Yn({...n,directives:r})}const $s=e=>Array.isArray(e)?e:e?[e]:[];function Ds(e){var t,n;let r;return"alias"in e&&(r=null===(t=e.alias)||void 0===t?void 0:t.value),null==r&&"name"in e&&(r=null===(n=e.name)||void 0===n?void 0:n.value),null==r&&(r=e.kind),r}function Rs(e,t,n){const r=Ds(e),s=Ds(t);return"function"==typeof n?n(r,s):function(e,t){return String(e)<String(t)?-1:String(e)>String(t)?1:0}(r,s)}function Bs(e){return null!=e}"undefined"==typeof AggregateError||AggregateError;const qs=3;function js(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(e instanceof Error)return"errors"in(n=e)&&Array.isArray(n.errors)?Ms(e)+"\n"+Gs(e.errors,t):Ms(e);var n;if(t.includes(e))return"[Circular]";const r=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:js(t,r)}else if(Array.isArray(e))return Gs(e,r);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>qs)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+js(n,t)));return"{ "+r.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}function Ms(e){return e instanceof X?e.toString():`${e.name}: ${e.message};\n ${e.stack}`}function Gs(e,t){if(0===e.length)return"[]";if(t.length>qs)return"[Array]";const n=e.length,r=[];for(let s=0;s<n;++s)r.push(js(e[s],t));return"["+r.join(", ")+"]"}function Ls(e,t=["directives"]){return t.reduce(((e,t)=>null==e?e:e[t]),null==e?void 0:e.extensions)}function Us(e){if(Ct(e)){const n=Us(e.ofType);if(n.kind===ae.NON_NULL_TYPE)throw new Error(`Invalid type node ${t=e,js(t,[])}. Inner type of non-null type cannot be a non-null type.`);return{kind:ae.NON_NULL_TYPE,type:n}}return xt(e)?{kind:ae.LIST_TYPE,type:Us(e.ofType)}:{kind:ae.NAMED_TYPE,name:{kind:ae.NAME,value:e.name}};var t}function Fs(e){if(null===e)return{kind:ae.NULL};if(void 0===e)return null;if(Array.isArray(e)){const t=[];for(const n of e){const e=Fs(n);null!=e&&t.push(e)}return{kind:ae.LIST,values:t}}if("object"==typeof e){const t=[];for(const n in e){const r=Fs(e[n]);r&&t.push({kind:ae.OBJECT_FIELD,name:{kind:ae.NAME,value:n},value:r})}return{kind:ae.OBJECT,fields:t}}if("boolean"==typeof e)return{kind:ae.BOOLEAN,value:e};if("number"==typeof e&&isFinite(e)){const t=String(e);return Vs.test(t)?{kind:ae.INT,value:t}:{kind:ae.FLOAT,value:t}}if("string"==typeof e)return{kind:ae.STRING,value:e};throw new TypeError(`Cannot convert value to AST: ${e}.`)}const Vs=/^-?(?:0|[1-9][0-9]*)$/,Js=function(e){const t=new WeakMap;return function(e){const n=t.get(e);if(void 0===n){const n=function(e){const t=new Map,n=e.getQueryType();n&&t.set("query",n);const r=e.getMutationType();r&&t.set("mutation",r);const s=e.getSubscriptionType();return s&&t.set("subscription",s),t}(e);return t.set(e,n),n}return n}}();function Hs(e,t,n){var r,s,o,i;return{kind:ae.DIRECTIVE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description}:void 0,name:{kind:ae.NAME,value:e.name},arguments:null===(o=e.args)||void 0===o?void 0:o.map((e=>Xs(e,t,n))),repeatable:e.isRepeatable,locations:(null===(i=e.locations)||void 0===i?void 0:i.map((e=>({kind:ae.NAME,value:e}))))||[]}}function Ks(e,t,n){const r=Ls(e,n);let s,o=[];if(null!=e.astNode&&o.push(e.astNode),"extensionASTNodes"in e&&null!=e.extensionASTNodes&&(o=o.concat(e.extensionASTNodes)),null!=r)s=so(t,r);else{s=[];for(const e of o)e.directives&&s.push(...e.directives)}return s}function Ws(e,t,n){var r,s;let o=[],i=null;const a=Ls(e,n);let c;return c=null!=a?so(t,a):null===(r=e.astNode)||void 0===r?void 0:r.directives,null!=c&&(o=c.filter((e=>"deprecated"!==e.name.value)),null!=e.deprecationReason&&(i=null===(s=c.filter((e=>"deprecated"===e.name.value)))||void 0===s?void 0:s[0])),null!=e.deprecationReason&&null==i&&(i=ro("deprecated",{reason:e.deprecationReason},Pn)),null==i?o:[i].concat(o)}function Xs(e,t,n){var r,s,o;return{kind:ae.INPUT_VALUE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},type:Us(e.type),defaultValue:void 0!==e.defaultValue&&null!==(o=Cn(e.defaultValue,e.type))&&void 0!==o?o:void 0,directives:Ws(e,t,n)}}function Ys(e,t,n){var r,s;return{kind:ae.OBJECT_TYPE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>no(e,t,n))),interfaces:Object.values(e.getInterfaces()).map((e=>Us(e))),directives:Ks(e,t,n)}}function zs(e,t,n){var r,s;const o={kind:ae.INTERFACE_TYPE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>no(e,t,n))),directives:Ks(e,t,n)};return"getInterfaces"in e&&(o.interfaces=Object.values(e.getInterfaces()).map((e=>Us(e)))),o}function Zs(e,t,n){var r,s;return{kind:ae.UNION_TYPE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},directives:Ks(e,t,n),types:e.getTypes().map((e=>Us(e)))}}function Qs(e,t,n){var r,s;return{kind:ae.INPUT_OBJECT_TYPE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},fields:Object.values(e.getFields()).map((e=>function(e,t,n){var r,s,o;return{kind:ae.INPUT_VALUE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},type:Us(e.type),directives:Ws(e,t,n),defaultValue:null!==(o=Cn(e.defaultValue,e.type))&&void 0!==o?o:void 0}}(e,t,n))),directives:Ks(e,t,n)}}function eo(e,t,n){var r,s;return{kind:ae.ENUM_TYPE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},values:Object.values(e.getValues()).map((e=>function(e,t,n){var r,s;return{kind:ae.ENUM_VALUE_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},directives:Ws(e,t,n)}}(e,t,n))),directives:Ks(e,t,n)}}function to(e,t,n){var r,s,o;const i=Ls(e,n),a=i?so(t,i):(null===(r=e.astNode)||void 0===r?void 0:r.directives)||[],c=e.specifiedByUrl||e.specifiedByURL;if(c&&!a.some((e=>"specifiedBy"===e.name.value))){const e={url:c};a.push(ro("specifiedBy",e))}return{kind:ae.SCALAR_TYPE_DEFINITION,description:null!==(o=null===(s=e.astNode)||void 0===s?void 0:s.description)&&void 0!==o?o:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},directives:a}}function no(e,t,n){var r,s;return{kind:ae.FIELD_DEFINITION,description:null!==(s=null===(r=e.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:e.description?{kind:ae.STRING,value:e.description,block:!0}:void 0,name:{kind:ae.NAME,value:e.name},arguments:e.args.map((e=>Xs(e,t,n))),type:Us(e.type),directives:Ws(e,t,n)}}function ro(e,t,n){const r=[];if(null!=n)for(const e of n.args){const n=e.name,s=t[n];if(void 0!==s){const t=Cn(s,e.type);t&&r.push({kind:ae.ARGUMENT,name:{kind:ae.NAME,value:n},value:t})}}else for(const e in t){const n=Fs(t[e]);n&&r.push({kind:ae.ARGUMENT,name:{kind:ae.NAME,value:e},value:n})}return{kind:ae.DIRECTIVE,name:{kind:ae.NAME,value:e},arguments:r}}function so(e,t){const n=[];for(const r in t){const s=t[r],o=null==e?void 0:e.getDirective(r);if(Array.isArray(s))for(const e of s)n.push(ro(r,e,o));else n.push(ro(r,s,o))}return n}let oo={};function io(){oo={}}function ao(e){var t;const n=null===(t=e.name)||void 0===t?void 0:t.value;if(null!=n)switch(co(e,n),e.kind){case"EnumTypeDefinition":if(e.values)for(const t of e.values)co(t,n,t.name.value);break;case"ObjectTypeDefinition":case"InputObjectTypeDefinition":case"InterfaceTypeDefinition":if(e.fields)for(const t of e.fields)if(co(t,n,t.name.value),go(t)&&t.arguments)for(const e of t.arguments)co(e,n,t.name.value,e.name.value)}}function co(e,t,n,r){const s=function(e){const t=function(e){const t=e.loc;if(!t)return;const n=[];let r=t.startToken.prev;for(;null!=r&&r.kind===ue.COMMENT&&null!=r.next&&null!=r.prev&&r.line+1===r.next.line&&r.line!==r.prev.line;){const e=String(r.value);n.push(e),r=r.prev}return n.length>0?n.reverse().join("\n"):void 0}(e);if(void 0!==t)return function(e){const t=e.split(/\r\n|[\n\r]/g),n=function(e){let t=null;for(let n=1;n<e.length;n++){const r=e[n],s=bo(r);if(s!==r.length&&(null===t||s<t)&&(t=s,0===t))break}return null===t?0:t}(t);if(0!==n)for(let e=1;e<t.length;e++)t[e]=t[e].slice(n);for(;t.length>0&&vo(t[0]);)t.shift();for(;t.length>0&&vo(t[t.length-1]);)t.pop();return t.join("\n")}(`\n${t}`)}(e);if("string"!=typeof s||0===s.length)return;const o=[t];n&&(o.push(n),r&&o.push(r));const i=o.join(".");oo[i]||(oo[i]=[]),oo[i].push(s)}function uo(e){return"\n# "+e.replace(/\n/g,"\n# ")}function lo(e,t){return e?e.filter((e=>e)).join(t||""):""}function po(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}function fo(e){return e&&`  ${e.replace(/\n/g,"\n  ")}`}function ho(e){return e&&0!==e.length?`{\n${fo(lo(e,"\n"))}\n}`:""}function mo(e,t,n){return t?e+t+(n||""):""}const So={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>lo(e.definitions,"\n\n")},OperationDefinition:{leave:e=>{const t=mo("(",lo(e.variableDefinitions,", "),")");return lo([e.operation,lo([e.name,t]),lo(e.directives," ")]," ")+" "+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+mo(" = ",n)+mo(" ",lo(r," "))},SelectionSet:{leave:({selections:e})=>ho(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:s}){const o=mo("",e,": ")+t;let i=o+mo("(",lo(n,", "),")");return i.length>80&&(i=o+mo("(\n",fo(lo(n,"\n")),"\n)")),lo([i,lo(r," "),s]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+mo(" ",lo(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>lo(["...",mo("on ",e),lo(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:s})=>`fragment ${e}${mo("(",lo(n,", "),")")} on ${t} ${mo("",lo(r," ")," ")}`+s},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t=!1){const n=e.replace(/"""/g,'\\"""');return" "!==e[0]&&"\t"!==e[0]||-1!==e.indexOf("\n")?`"""\n${t?n:fo(n)}\n"""`:`"""${n.replace(/"$/,'"\n')}"""`}(e):JSON.stringify(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+lo(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+lo(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+mo("(",lo(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({directives:e,operationTypes:t})=>lo(["schema",lo(e," "),ho(t)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({name:e,directives:t})=>lo(["scalar",e,lo(t," ")]," ")},ObjectTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>lo(["type",e,mo("implements ",lo(t," & ")),lo(n," "),ho(r)]," ")},FieldDefinition:{leave:({name:e,arguments:t,type:n,directives:r})=>e+(po(t)?mo("(\n",fo(lo(t,"\n")),"\n)"):mo("(",lo(t,", "),")"))+": "+n+mo(" ",lo(r," "))},InputValueDefinition:{leave:({name:e,type:t,defaultValue:n,directives:r})=>lo([e+": "+t,mo("= ",n),lo(r," ")]," ")},InterfaceTypeDefinition:{leave:({name:e,interfaces:t,directives:n,fields:r})=>lo(["interface",e,mo("implements ",lo(t," & ")),lo(n," "),ho(r)]," ")},UnionTypeDefinition:{leave:({name:e,directives:t,types:n})=>lo(["union",e,lo(t," "),mo("= ",lo(n," | "))]," ")},EnumTypeDefinition:{leave:({name:e,directives:t,values:n})=>lo(["enum",e,lo(t," "),ho(n)]," ")},EnumValueDefinition:{leave:({name:e,directives:t})=>lo([e,lo(t," ")]," ")},InputObjectTypeDefinition:{leave:({name:e,directives:t,fields:n})=>lo(["input",e,lo(t," "),ho(n)]," ")},DirectiveDefinition:{leave:({name:e,arguments:t,repeatable:n,locations:r})=>"directive @"+e+(po(t)?mo("(\n",fo(lo(t,"\n")),"\n)"):mo("(",lo(t,", "),")"))+(n?" repeatable":"")+" on "+lo(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>lo(["extend schema",lo(e," "),ho(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>lo(["extend scalar",e,lo(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>lo(["extend type",e,mo("implements ",lo(t," & ")),lo(n," "),ho(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>lo(["extend interface",e,mo("implements ",lo(t," & ")),lo(n," "),ho(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>lo(["extend union",e,lo(t," "),mo("= ",lo(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>lo(["extend enum",e,lo(t," "),ho(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>lo(["extend input",e,lo(t," "),ho(n)]," ")}},yo=Object.keys(So).reduce(((e,t)=>{return{...e,[t]:{leave:(n=So[t].leave,(e,t,r,s,o)=>{var i;const a=[],c=s.reduce(((e,t)=>(["fields","arguments","values"].includes(t)&&e.name&&a.push(e.name.value),e[t])),o[0]),u=[...a,null===(i=null==c?void 0:c.name)||void 0===i?void 0:i.value].filter(Boolean).join("."),d=[];return e.kind.includes("Definition")&&oo[u]&&d.push(...oo[u]),lo([...d.map(uo),e.description,n(e,t,r,s,o)],"\n")})}};var n}),{});function go(e){return"FieldDefinition"===e.kind}function bo(e){let t=0;for(;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function vo(e){return bo(e)===e.length}var Eo,Ao,To,wo;function ko(e,t){if(t){const n=e[t.name];if(It(n))return n}}function Io(e,t,n=null,r=null){if(null==t)return t;const s=Lt(e);if(Rt(s))return null!=n?n(s,t):t;if(xt(s))return $s(t).map((e=>Io(s.ofType,e,n,r)));if(_t(s)){const e=s.getFields(),o={};for(const s in t){const i=e[s];null!=i&&(o[s]=Io(i.type,t[s],n,r))}return null!=r?r(s,o):o}}function Po(e,t){return Io(e,t,((e,t)=>{try{return e.serialize(t)}catch(e){return t}}))}function No(e,t){return Io(e,t,((e,t)=>{try{return e.parseValue(t)}catch(e){return t}}))}function Oo(e,t={}){const n=Do($o(_o(xo(function(e,t,n){const r=function(e){const t=e[Eo.ENUM_VALUE];return null!=t?t:null}(n);return r?_o(e,t,{[Eo.ENUM_TYPE]:e=>{const n=e.toConfig(),s=n.values,o={};for(const n in s){const i=s[n],a=r(i,e.name,t,n);if(void 0===a)o[n]=i;else if(Array.isArray(a)){const[e,t]=a;o[e]=void 0===t?i:t}else null!==a&&(o[n]=a)}return jo(new sn({...n,values:o}))}},(e=>Ot(e))):e}(_o(xo(e.getTypeMap(),e,Po),e,t,(e=>Rt(e))),e,t),e,No),e,t,(e=>!Rt(e))),e,t),e,t),r=function(e,t,n){const r=function(e){const t=e[Eo.DIRECTIVE];return null!=t?t:null}(n);if(null==r)return e.slice();const s=[];for(const n of e){const e=r(n,t);void 0===e?s.push(n):null!==e&&s.push(e)}return s}(e.getDirectives(),e,t),{typeMap:s,directives:o}=function(e,t){const n=Object.create(null);for(const t in e)n[t]=e[t];const r=Object.create(null);for(const e in n){const t=n[e];if(null==t||e.startsWith("__"))continue;const s=t.name;s.startsWith("__")||(null==r[s]?r[s]=t:console.warn(`Duplicate schema type name ${s} found; keeping the existing one found in the schema`))}for(const e in r)r[e]=i(r[e]);const s=t.map((e=>function(e){if(_n(e))return e;const t=e.toConfig();return t.args=o(t.args),new wn(t)}(e)));return{typeMap:r,directives:s};function o(e){const t={};for(const n in e){const r=e[n],s=u(r.type);null!=s&&(r.type=s,t[n]=r)}return t}function i(e){if(It(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields),interfaces:()=>c(t.interfaces)};return new Kt(n)}if(Pt(e)){const t=e.toConfig(),n={...t,fields:()=>a(t.fields)};return"interfaces"in n&&(n.interfaces=()=>c(t.interfaces)),new tn(n)}if(Nt(e)){const t=e.toConfig(),n={...t,types:()=>c(t.types)};return new nn(n)}if(_t(e)){const t=e.toConfig(),n={...t,fields:()=>function(e){const t={};for(const n in e){const r=e[n],s=u(r.type);null!=s&&(r.type=s,t[n]=r)}return t}(t.fields)};return new an(n)}if(Ot(e)){const t=e.toConfig();return new sn(t)}if(kt(e)){if(En(e))return e;const t=e.toConfig();return new Ht(t)}throw new Error(`Unexpected schema type: ${e}`)}function a(e){const t={};for(const n in e){const r=e[n],s=u(r.type);null!=s&&r.args&&(r.type=s,r.args=o(r.args),t[n]=r)}return t}function c(e){const t=[];for(const n of e){const e=u(n);null!=e&&t.push(e)}return t}function u(e){if(xt(e)){const t=u(e.ofType);return null!=t?new jt(t):null}if(Ct(e)){const t=u(e.ofType);return null!=t?new Mt(t):null}if(Ut(e)){let t=n[e.name];return void 0===t&&(t=function(e){if("getFields"in e){const t=e.getFields();for(const e in t)return"_fake"===t[e].name}return!1}(e)?function(e){switch(e.name){case mn.name:return mn;case Sn.name:return Sn;case yn.name:return yn;case gn.name:return gn;case bn.name:return bn;default:return e}}(e):i(e),r[t.name]=n[e.name]=t),null!=t?r[t.name]:null}return null}}(n,r);return new Yn({...e.toConfig(),query:ko(s,ko(n,e.getQueryType())),mutation:ko(s,ko(n,e.getMutationType())),subscription:ko(s,ko(n,e.getSubscriptionType())),types:Object.values(s),directives:o})}function _o(e,t,n,r=(()=>!0)){const s={};for(const o in e)if(!o.startsWith("__")){const i=e[o];if(null==i||!r(i)){s[o]=i;continue}const a=Ro(t,n,o);if(null==a){s[o]=i;continue}const c=a(i,t);if(void 0===c){s[o]=i;continue}s[o]=c}return s}function xo(e,t,n){const r=Do(e,t,{[Eo.ARGUMENT]:t=>{if(void 0===t.defaultValue)return t;const r=Co(e,t.type);return null!=r?{...t,defaultValue:n(r,t.defaultValue)}:void 0}});return $o(r,t,{[Eo.INPUT_OBJECT_FIELD]:e=>{if(void 0===e.defaultValue)return e;const t=Co(r,e.type);return null!=t?{...e,defaultValue:n(t,e.defaultValue)}:void 0}})}function Co(e,t){if(xt(t)){const n=Co(e,t.ofType);return null!=n?new jt(n):null}if(Ct(t)){const n=Co(e,t.ofType);return null!=n?new Mt(n):null}if(Ut(t)){const n=e[t.name];return null!=n?n:null}return null}function $o(e,t,n){const r={};for(const s in e)if(!s.startsWith("__")){const o=e[s];if(!It(o)&&!Pt(o)&&!_t(o)){r[s]=o;continue}const i=Bo(t,n,s);if(null==i){r[s]=o;continue}const a=o.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=i(n,e,s,t);if(void 0===r)u[e]=n;else if(Array.isArray(r)){const[e,t]=r;null!=t.astNode&&(t.astNode={...t.astNode,name:{...t.astNode.name,value:e}}),u[e]=void 0===t?n:t}else null!==r&&(u[e]=r)}It(o)?r[s]=jo(new Kt({...a,fields:u})):Pt(o)?r[s]=jo(new tn({...a,fields:u})):r[s]=jo(new an({...a,fields:u}))}return r}function Do(e,t,n){const r={};for(const s in e)if(!s.startsWith("__")){const o=e[s];if(!It(o)&&!Pt(o)){r[s]=o;continue}const i=qo(n);if(null==i){r[s]=o;continue}const a=o.toConfig(),c=a.fields,u={};for(const e in c){const n=c[e],r=n.args;if(null==r){u[e]=n;continue}const o=Object.keys(r);if(!o.length){u[e]=n;continue}const a={};for(const n of o){const o=r[n],c=i(o,e,s,t);if(void 0===c)a[n]=o;else if(Array.isArray(c)){const[e,t]=c;a[e]=t}else null!==c&&(a[n]=c)}u[e]={...n,args:a}}It(o)?r[s]=new Kt({...a,fields:u}):Pt(o)?r[s]=new tn({...a,fields:u}):r[s]=new an({...a,fields:u})}return r}function Ro(e,t,n){const r=function(e,t){var n,r,s;const o=e.getType(t),i=[Eo.TYPE];return It(o)?(i.push(Eo.COMPOSITE_TYPE,Eo.OBJECT_TYPE),t===(null===(n=e.getQueryType())||void 0===n?void 0:n.name)?i.push(Eo.ROOT_OBJECT,Eo.QUERY):t===(null===(r=e.getMutationType())||void 0===r?void 0:r.name)?i.push(Eo.ROOT_OBJECT,Eo.MUTATION):t===(null===(s=e.getSubscriptionType())||void 0===s?void 0:s.name)&&i.push(Eo.ROOT_OBJECT,Eo.SUBSCRIPTION)):_t(o)?i.push(Eo.INPUT_OBJECT_TYPE):Pt(o)?i.push(Eo.COMPOSITE_TYPE,Eo.ABSTRACT_TYPE,Eo.INTERFACE_TYPE):Nt(o)?i.push(Eo.COMPOSITE_TYPE,Eo.ABSTRACT_TYPE,Eo.UNION_TYPE):Ot(o)?i.push(Eo.ENUM_TYPE):kt(o)&&i.push(Eo.SCALAR_TYPE),i}(e,n);let s;const o=[...r];for(;!s&&o.length>0;)s=t[o.pop()];return null!=s?s:null}function Bo(e,t,n){const r=function(e,t){var n,r,s;const o=e.getType(t),i=[Eo.FIELD];return It(o)?(i.push(Eo.COMPOSITE_FIELD,Eo.OBJECT_FIELD),t===(null===(n=e.getQueryType())||void 0===n?void 0:n.name)?i.push(Eo.ROOT_FIELD,Eo.QUERY_ROOT_FIELD):t===(null===(r=e.getMutationType())||void 0===r?void 0:r.name)?i.push(Eo.ROOT_FIELD,Eo.MUTATION_ROOT_FIELD):t===(null===(s=e.getSubscriptionType())||void 0===s?void 0:s.name)&&i.push(Eo.ROOT_FIELD,Eo.SUBSCRIPTION_ROOT_FIELD)):Pt(o)?i.push(Eo.COMPOSITE_FIELD,Eo.INTERFACE_FIELD):_t(o)&&i.push(Eo.INPUT_OBJECT_FIELD),i}(e,n);let s;const o=[...r];for(;!s&&o.length>0;)s=t[o.pop()];return null!=s?s:null}function qo(e){const t=e[Eo.ARGUMENT];return null!=t?t:null}function jo(e){if(It(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:ae.OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:ae.OBJECT_TYPE_EXTENSION,fields:void 0})))),new Kt(t)}if(Pt(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:ae.INTERFACE_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:ae.INTERFACE_TYPE_EXTENSION,fields:void 0})))),new tn(t)}if(_t(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.fields){const r=t.fields[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,kind:ae.INPUT_OBJECT_TYPE_DEFINITION,fields:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,kind:ae.INPUT_OBJECT_TYPE_EXTENSION,fields:void 0})))),new an(t)}if(Ot(e)){const t=e.toConfig();if(null!=t.astNode){const e=[];for(const n in t.values){const r=t.values[n];null!=r.astNode&&e.push(r.astNode)}t.astNode={...t.astNode,values:e}}return null!=t.extensionASTNodes&&(t.extensionASTNodes=t.extensionASTNodes.map((e=>({...e,values:void 0})))),new sn(t)}return e}function Mo(e){return function(e,t){const n=Object.create(null);for(const t in e){const r=e[t];if(null==r||t.startsWith("__"))continue;const s=r.name;s.startsWith("__")||(null==n[s]?n[s]=r:console.warn(`Duplicate schema type name ${s} found; keeping the existing one found in the schema`))}for(const t in n){const r=n[t];e[t]=r}for(const e of t)e.args=e.args.filter((e=>(e.type=i(e.type),null!==e.type)));for(const t in e){const s=e[t];!t.startsWith("__")&&t in n&&null!=s&&r(s)}for(const t in e)t.startsWith("__")||t in n||delete e[t];function r(e){if(It(e))return s(e),void o(e);if(Pt(e))return s(e),void("getInterfaces"in e&&o(e));if(Nt(e))!function(e){const t=e.getTypes();t.push(...t.splice(0).map((e=>i(e))).filter(Boolean))}(e);else if(_t(e))!function(e){const t=e.getFields();for(const[e,n]of Object.entries(t))n.type=i(n.type),null===n.type&&delete t[e]}(e);else if(!Rt(e))throw new Error(`Unexpected schema type: ${e}`)}function s(e){const t=e.getFields();for(const[e,n]of Object.entries(t))n.args.map((e=>(e.type=i(e.type),null===e.type?null:e))).filter(Boolean),n.type=i(n.type),null===n.type&&delete t[e]}function o(e){if("getInterfaces"in e){const t=e.getInterfaces();t.push(...t.splice(0).map((e=>i(e))).filter(Boolean))}}function i(t){if(xt(t)){const e=i(t.ofType);return null!=e?new jt(e):null}if(Ct(t)){const e=i(t.ofType);return null!=e?new Mt(e):null}if(Ut(t)){const n=e[t.name];if(n&&t!==n)return n}return t}}(e.getTypeMap(),e.getDirectives()),e}function Go(e,t){const n=e.getTypeMap();for(const e in n){const r=n[e];if(!Ft(r).name.startsWith("__")&&It(r)){const n=r.getFields();for(const r in n)t(n[r],e,r)}}}function Lo(e,t){const n=e.getTypeMap();for(const e in n){const r=n[e];if(!Ft(r).name.startsWith("__"))if(It(r)){const e=r.getFields();for(const n in e){const r=e[n];for(const e of r.args)e.defaultValue=t(e.type,e.defaultValue)}}else if(_t(r)){const e=r.getFields();for(const n in e){const r=e[n];r.defaultValue=t(r.type,r.defaultValue)}}}}function Uo(e,t=!1){const n=e[0]||{},r={};t&&Object.setPrototypeOf(r,Object.create(Object.getPrototypeOf(n)));for(const s of e)if(Fo(n)&&Fo(s)){if(t){const e=Object.getPrototypeOf(r),t=Object.getPrototypeOf(s);if(t)for(const n of Object.getOwnPropertyNames(t)){const r=Object.getOwnPropertyDescriptor(t,n);Bs(r)&&Object.defineProperty(e,n,r)}}for(const e in s)Fo(s[e])?e in r?r[e]=Uo([r[e],s[e]],t):Object.assign(r,{[e]:s[e]}):Object.assign(r,{[e]:s[e]})}return r}function Fo(e){return e&&"object"==typeof e&&!Array.isArray(e)}function Vo(e,t,n,r,s){if(n.resolve){if("function"!=typeof n.resolve)throw new Error(`Resolver "${r}.${s}" must be a function`)}else{const n=`Resolver missing for "${r}.${s}".\nTo disable this validator, use:\n  resolverValidationOptions: {\n    ${e}: 'ignore'\n  }`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}function Jo(e,t){for(const n in t)e[n]=t[n]}function Ho(e,t){if(!e||Array.isArray(e)&&0===e.length)return{};if(!Array.isArray(e))return e;if(1===e.length)return e[0]||{};const n=new Array;for(let t of e)Array.isArray(t)&&(t=Ho(t)),"object"==typeof t&&t&&n.push(t);const r=Uo(n,!0);if(null==t?void 0:t.exclusions)for(const e of t.exclusions){const[t,n]=e.split(".");n&&"*"!==n?r[t]&&delete r[t][n]:delete r[t]}return r}function Ko(e,t,n){const r=[...t,...e].filter(Bs).reduce(((e,t)=>e.find((e=>e.name.value===t.name.value))?e:e.concat([t])),[]);return n&&n.sort&&r.sort(Rs),r}function Wo(e,t){return!!e.find((e=>e.name.value===t.name.value))}function Xo(e,t){const n=[...t];for(const t of e){const e=n.findIndex((e=>e.name.value===t.name.value));if(e>-1){const r=n[e];if("ListValue"===r.value.kind){const e=r.value.values,n=t.value.values;r.value.values=Zo(e,n,((e,t)=>{const n=e.value;return!n||!t.some((e=>e.value===n))}))}else r.value=t.value}else n.push(t)}return n}function Yo(e=[],t=[],n){const r=n&&n.reverseDirectives,s=r?t:e,o=[...r?e:t].map(((e,t,n)=>{const r=n.findIndex((t=>t.name.value===e.name.value));if(r!==t){const t=n[r];return e.arguments=Xo(e.arguments,t.arguments),null}return e})).filter(Bs);for(const e of s)if(Wo(o,e)){const t=o.findIndex((t=>t.name.value===e.name.value)),n=o[t];o[t].arguments=Xo(e.arguments||[],n.arguments||[])}else o.push(e);return o}function zo(e,t){return t?(function(e,t){const n=ht({...e,description:void 0}),r=ht({...t,description:void 0}),s=new RegExp("(directive @w*d*)|( on .*$)","g");if(n.replace(s,"")!==r.replace(s,""))throw new Error(`Unable to merge GraphQL directive "${e.name.value}". \nExisting directive:  \n\t${r} \nReceived directive: \n\t${n}`)}(e,t),{...e,locations:[...t.locations,...e.locations.filter((e=>!function(e,t){return t.some((({value:t})=>t===e.value))}(e,t.locations)))]}):e}function Zo(e,t,n){return e.concat(t.filter((t=>n(t,e))))}function Qo(e,t,n){if(null==n?void 0:n.consistentEnumMerge){const n=[];e&&n.push(...e),e=t,t=n}const r=new Map;if(e)for(const t of e)r.set(t.name.value,t);if(t)for(const e of t){const t=e.name.value;if(r.has(t)){const n=r.get(t);n.description=e.description||n.description,n.directives=Yo(e.directives,n.directives)}else r.set(t,e)}const s=[...r.values()];return n&&n.sort&&s.sort(Rs),s}function ei(e,t,n){return t?{name:e.name,description:e.description||t.description,kind:(null==n?void 0:n.convertExtensions)||"EnumTypeDefinition"===e.kind||"EnumTypeDefinition"===t.kind?"EnumTypeDefinition":"EnumTypeExtension",loc:e.loc,directives:Yo(e.directives,t.directives,n),values:Qo(e.values,t.values,n)}:(null==n?void 0:n.convertExtensions)?{...e,kind:ae.ENUM_TYPE_DEFINITION}:e}function ti(e){let t=e;for(;t.kind===ae.LIST_TYPE||"NonNullType"===t.kind;)t=t.type;return t}function ni(e){return e.kind!==ae.NAMED_TYPE}function ri(e){return e.kind===ae.LIST_TYPE}function si(e){return e.kind===ae.NON_NULL_TYPE}function oi(e){return ri(e)?`[${oi(e.type)}]`:si(e)?`${oi(e.type)}!`:e.name.value}function ii(e,t){return null==e&&null==t?To.A_EQUALS_B:null==e?To.A_SMALLER_THAN_B:null==t?To.A_GREATER_THAN_B:e<t?To.A_SMALLER_THAN_B:e>t?To.A_GREATER_THAN_B:To.A_EQUALS_B}function ai(e,t,n){const r=e.find((e=>e.name.value===t.name.value));if(r&&!(null==n?void 0:n.ignoreFieldConflicts)){const e=ti(r.type),n=ti(t.type);if(e.name.value!==n.name.value)throw new Error(`Field "${t.name.value}" already defined with a different type. Declared as "${e.name.value}", but you tried to override with "${n.name.value}"`)}return!!r}function ci(e,t,n,r){const s=[];if(null!=n&&s.push(...n),null!=t)for(const n of t)if(ai(s,n,r)){const t=s.find((e=>e.name.value===n.name.value));(null==r?void 0:r.ignoreFieldConflicts)||((null==r?void 0:r.throwOnConflict)?ui(e,t,n,!1):ui(e,t,n,!0),si(n.type)&&!si(t.type)&&(t.type=n.type)),t.arguments=Ko(n.arguments||[],t.arguments||[],r),t.directives=Yo(n.directives,t.directives,r),t.description=n.description||t.description}else s.push(n);if(r&&r.sort&&s.sort(Rs),r&&r.exclusions){const t=r.exclusions;return s.filter((n=>!t.includes(`${e.name.value}.${n.name.value}`)))}return s}function ui(e,t,n,r=!1){const s=oi(t.type),o=oi(n.type);if(s!==o&&!di(t.type,n.type,r))throw new Error(`Field '${e.name.value}.${t.name.value}' changed type from '${s}' to '${o}'`)}function di(e,t,n=!1){return ni(e)||ni(t)?si(t)?di(si(e)?e.type:e,t.type):si(e)?di(t,e,n):!!ri(e)&&(ri(t)&&di(e.type,t.type)||si(t)&&di(e,t.type)):e.toString()===t.toString()}function li(e,t,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null==n?void 0:n.convertExtensions)||"InputObjectTypeDefinition"===e.kind||"InputObjectTypeDefinition"===t.kind?"InputObjectTypeDefinition":"InputObjectTypeExtension",loc:e.loc,fields:ci(e,e.fields,t.fields,n),directives:Yo(e.directives,t.directives,n)}}catch(t){throw new Error(`Unable to merge GraphQL input type "${e.name.value}": ${t.message}`)}return(null==n?void 0:n.convertExtensions)?{...e,kind:ae.INPUT_OBJECT_TYPE_DEFINITION}:e}function pi(e=[],t=[],n={}){const r=[...t,...e.filter((e=>{return n=e,!t.find((e=>e.name.value===n.name.value));var n}))];return n&&n.sort&&r.sort(Rs),r}function fi(e,t,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null==n?void 0:n.convertExtensions)||"InterfaceTypeDefinition"===e.kind||"InterfaceTypeDefinition"===t.kind?"InterfaceTypeDefinition":"InterfaceTypeExtension",loc:e.loc,fields:ci(e,e.fields,t.fields,n),directives:Yo(e.directives,t.directives,n),interfaces:e.interfaces?pi(e.interfaces,t.interfaces,n):void 0}}catch(t){throw new Error(`Unable to merge GraphQL interface "${e.name.value}": ${t.message}`)}return(null==n?void 0:n.convertExtensions)?{...e,kind:ae.INTERFACE_TYPE_DEFINITION}:e}function hi(e,t,n){if(t)try{return{name:e.name,description:e.description||t.description,kind:(null==n?void 0:n.convertExtensions)||"ObjectTypeDefinition"===e.kind||"ObjectTypeDefinition"===t.kind?"ObjectTypeDefinition":"ObjectTypeExtension",loc:e.loc,fields:ci(e,e.fields,t.fields,n),directives:Yo(e.directives,t.directives,n),interfaces:pi(e.interfaces,t.interfaces,n)}}catch(t){throw new Error(`Unable to merge GraphQL type "${e.name.value}": ${t.message}`)}return(null==n?void 0:n.convertExtensions)?{...e,kind:ae.OBJECT_TYPE_DEFINITION}:e}function mi(e,t,n){return t?{name:e.name,description:e.description||t.description,kind:(null==n?void 0:n.convertExtensions)||"ScalarTypeDefinition"===e.kind||"ScalarTypeDefinition"===t.kind?"ScalarTypeDefinition":"ScalarTypeExtension",loc:e.loc,directives:Yo(e.directives,t.directives,n)}:(null==n?void 0:n.convertExtensions)?{...e,kind:ae.SCALAR_TYPE_DEFINITION}:e}function Si(e,t,n){return t?{name:e.name,description:e.description||t.description,directives:Yo(e.directives,t.directives,n),kind:(null==n?void 0:n.convertExtensions)||"UnionTypeDefinition"===e.kind||"UnionTypeDefinition"===t.kind?ae.UNION_TYPE_DEFINITION:ae.UNION_TYPE_EXTENSION,loc:e.loc,types:pi(e.types,t.types,n)}:(null==n?void 0:n.convertExtensions)?{...e,kind:ae.UNION_TYPE_DEFINITION}:e}(Ao=Eo||(Eo={})).TYPE="MapperKind.TYPE",Ao.SCALAR_TYPE="MapperKind.SCALAR_TYPE",Ao.ENUM_TYPE="MapperKind.ENUM_TYPE",Ao.COMPOSITE_TYPE="MapperKind.COMPOSITE_TYPE",Ao.OBJECT_TYPE="MapperKind.OBJECT_TYPE",Ao.INPUT_OBJECT_TYPE="MapperKind.INPUT_OBJECT_TYPE",Ao.ABSTRACT_TYPE="MapperKind.ABSTRACT_TYPE",Ao.UNION_TYPE="MapperKind.UNION_TYPE",Ao.INTERFACE_TYPE="MapperKind.INTERFACE_TYPE",Ao.ROOT_OBJECT="MapperKind.ROOT_OBJECT",Ao.QUERY="MapperKind.QUERY",Ao.MUTATION="MapperKind.MUTATION",Ao.SUBSCRIPTION="MapperKind.SUBSCRIPTION",Ao.DIRECTIVE="MapperKind.DIRECTIVE",Ao.FIELD="MapperKind.FIELD",Ao.COMPOSITE_FIELD="MapperKind.COMPOSITE_FIELD",Ao.OBJECT_FIELD="MapperKind.OBJECT_FIELD",Ao.ROOT_FIELD="MapperKind.ROOT_FIELD",Ao.QUERY_ROOT_FIELD="MapperKind.QUERY_ROOT_FIELD",Ao.MUTATION_ROOT_FIELD="MapperKind.MUTATION_ROOT_FIELD",Ao.SUBSCRIPTION_ROOT_FIELD="MapperKind.SUBSCRIPTION_ROOT_FIELD",Ao.INTERFACE_FIELD="MapperKind.INTERFACE_FIELD",Ao.INPUT_OBJECT_FIELD="MapperKind.INPUT_OBJECT_FIELD",Ao.ARGUMENT="MapperKind.ARGUMENT",Ao.ENUM_VALUE="MapperKind.ENUM_VALUE",(wo=To||(To={}))[wo.A_SMALLER_THAN_B=-1]="A_SMALLER_THAN_B",wo[wo.A_EQUALS_B=0]="A_EQUALS_B",wo[wo.A_GREATER_THAN_B=1]="A_GREATER_THAN_B";const yi={query:"Query",mutation:"Mutation",subscription:"Subscription"};function gi(e=[],t=[]){const n=[];for(const r in yi){const s=e.find((e=>e.operation===r))||t.find((e=>e.operation===r));s&&n.push(s)}return n}function bi(e,t,n){return t?{kind:e.kind===ae.SCHEMA_DEFINITION||t.kind===ae.SCHEMA_DEFINITION?ae.SCHEMA_DEFINITION:ae.SCHEMA_EXTENSION,description:e.description||t.description,directives:Yo(e.directives,t.directives,n),operationTypes:gi(e.operationTypes,t.operationTypes)}:(null==n?void 0:n.convertExtensions)?{...e,kind:ae.SCHEMA_DEFINITION}:e}const vi="SCHEMA_DEF_SYMBOL";function Ei(e,t){io();const n={kind:ae.DOCUMENT,definitions:Ti(e,{useSchemaDefinition:!0,forceSchemaDefinition:!1,throwOnConflict:!1,commentDescriptions:!1,...t})};let r;return r=(null==t?void 0:t.commentDescriptions)?lt(n,yo):n,io(),r}function Ai(e,t,n=[],r=new Set){if(e&&!r.has(e))if(r.add(e),"function"==typeof e)Ai(e(),t,n,r);else if(Array.isArray(e))for(const s of e)Ai(s,t,n,r);else if(Xn(e))Ai(function(e,t={}){const n=t.pathToDirectivesInExtensions,r=e.getTypeMap(),s=function(e,t){var n,r;const s=new Map([["query",void 0],["mutation",void 0],["subscription",void 0]]),o=[];if(null!=e.astNode&&o.push(e.astNode),null!=e.extensionASTNodes)for(const t of e.extensionASTNodes)o.push(t);for(const e of o)if(e.operationTypes)for(const t of e.operationTypes)s.set(t.operation,t);const i=Js(e);for(const[e,t]of s){const n=i.get(e);if(null!=n){const r=Us(n);null!=t?t.type=r:s.set(e,{kind:ae.OPERATION_TYPE_DEFINITION,operation:e,type:r})}}const a=[...s.values()].filter(Bs),c=Ks(e,e,t);if(!a.length&&!c.length)return null;const u={kind:null!=a?ae.SCHEMA_DEFINITION:ae.SCHEMA_EXTENSION,operationTypes:a,directives:c};return u.description=(null!==(r=null===(n=e.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:null!=e.description)?{kind:ae.STRING,value:e.description,block:!0}:void 0,u}(e,n),o=null!=s?[s]:[],i=e.getDirectives();for(const t of i)_n(t)||o.push(Hs(t,e,n));for(const t in r){const s=r[t],i=En(s),a=Wn(s);if(!i&&!a)if(It(s))o.push(Ys(s,e,n));else if(Pt(s))o.push(zs(s,e,n));else if(Nt(s))o.push(Zs(s,e,n));else if(_t(s))o.push(Qs(s,e,n));else if(Ot(s))o.push(eo(s,e,n));else{if(!kt(s))throw new Error(`Unknown type ${s}.`);o.push(to(s,e,n))}}return{kind:ae.DOCUMENT,definitions:o}}(e,t).definitions,t,n,r);else if("string"==typeof e||e instanceof Ue)Ai(Fe(e,t).definitions,t,n,r);else if("object"==typeof e&&(yr(o=e)||gr(o)||vr(o)))n.push(e);else{if(!(s=e)||"object"!=typeof s||!("kind"in s)||s.kind!==ae.DOCUMENT)throw new Error("typeDefs must contain only strings, documents, schemas, or functions, got "+typeof e);Ai(e.definitions,t,n,r)}var s,o;return n}function Ti(e,t){var n,r,s;io();const o=function(e,t){var n,r,s;const o={};for(const i of e)if("name"in i){const e=null===(n=i.name)||void 0===n?void 0:n.value;if((null==t?void 0:t.commentDescriptions)&&ao(i),null==e)continue;if((null===(r=null==t?void 0:t.exclusions)||void 0===r?void 0:r.includes(e+".*"))||(null===(s=null==t?void 0:t.exclusions)||void 0===s?void 0:s.includes(e)))delete o[e];else switch(i.kind){case ae.OBJECT_TYPE_DEFINITION:case ae.OBJECT_TYPE_EXTENSION:o[e]=hi(i,o[e],t);break;case ae.ENUM_TYPE_DEFINITION:case ae.ENUM_TYPE_EXTENSION:o[e]=ei(i,o[e],t);break;case ae.UNION_TYPE_DEFINITION:case ae.UNION_TYPE_EXTENSION:o[e]=Si(i,o[e],t);break;case ae.SCALAR_TYPE_DEFINITION:case ae.SCALAR_TYPE_EXTENSION:o[e]=mi(i,o[e],t);break;case ae.INPUT_OBJECT_TYPE_DEFINITION:case ae.INPUT_OBJECT_TYPE_EXTENSION:o[e]=li(i,o[e],t);break;case ae.INTERFACE_TYPE_DEFINITION:case ae.INTERFACE_TYPE_EXTENSION:o[e]=fi(i,o[e],t);break;case ae.DIRECTIVE_DEFINITION:o[e]=zo(i,o[e])}}else i.kind!==ae.SCHEMA_DEFINITION&&i.kind!==ae.SCHEMA_EXTENSION||(o[vi]=bi(i,o[vi],t));return o}(Ai(e,t),t);if(null==t?void 0:t.useSchemaDefinition){const e=o[vi]||{kind:ae.SCHEMA_DEFINITION,operationTypes:[]},t=e.operationTypes;for(const e in yi)if(!t.find((t=>t.operation===e))){const n=o[yi[e]];null!=n&&null!=n.name&&t.push({kind:ae.OPERATION_TYPE_DEFINITION,type:{kind:ae.NAMED_TYPE,name:n.name},operation:e})}null!=(null===(n=null==e?void 0:e.operationTypes)||void 0===n?void 0:n.length)&&e.operationTypes.length>0&&(o[vi]=e)}(null==t?void 0:t.forceSchemaDefinition)&&!(null===(s=null===(r=o[vi])||void 0===r?void 0:r.operationTypes)||void 0===s?void 0:s.length)&&(o[vi]={kind:ae.SCHEMA_DEFINITION,operationTypes:[{kind:ae.OPERATION_TYPE_DEFINITION,operation:"query",type:{kind:ae.NAMED_TYPE,name:{kind:ae.NAME,value:"Query"}}}]});const i=Object.values(o);if(null==t?void 0:t.sort){const e="function"==typeof t.sort?t.sort:ii;i.sort(((t,n)=>{var r,s;return e(null===(r=t.name)||void 0===r?void 0:r.value,null===(s=n.name)||void 0===s?void 0:s.value)}))}return i}function wi(e,t){e&&(e.extensions=Uo([e.extensions||{},t||{}]))}const ki=new Error("request for lock canceled");class Ii{constructor(e,t=ki){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(((t,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:n}),this._dispatch()}))}runExclusive(e,t=1){return n=this,r=void 0,o=function*(){const[n,r]=yield this.acquire(t);try{return yield e(n)}finally{r()}},new((s=void 0)||(s=Promise))((function(e,t){function i(e){try{c(o.next(e))}catch(e){t(e)}}function a(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(i,a)}c((o=o.apply(n,r||[])).next())}));var n,r,s,o}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()}))}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach((e=>e.forEach((e=>e.reject(this._cancelError))))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const n=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!n)continue;const r=this._value,s=t;this._value-=t,t=this._value+1,n.resolve([r,this._newReleaser(s)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach((e=>e())),this._weightedWaiters[e-1]=[])}}class Pi{constructor(e){this._semaphore=new Ii(1,e)}acquire(){return e=this,t=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((n=void 0)||(n=Promise))((function(s,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r}runExclusive(e){return this._semaphore.runExclusive((()=>e()))}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}var Ni={},Oi={calculate:function(e){if(null==e)return null;for(var t,n=function(e){for(var t,n=[],r=0,s=e.length;r<s;++r)(t=e.charCodeAt(r))<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}(e),r=-1,s=0,o=n.length;s<o;++s)t=255&(r^n[s]),r=r>>>8^_i[t];return(-1^r)>>>0}},_i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];({get exports(){return Ni},set exports(e){Ni=e}}).exports=Oi;const xi=R(Ni);var Ci,$i,Di={};Ci={get exports(){return Di},set exports(e){Di=e}},$i=Di,function(e){var t=32,n=5;function r(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24}function s(e,t){for(var n=0,r=0;r<e.length;r++){n*=2;var s=(e[r]+n)/t|0;n=(e[r]+n)%t,e[r]=s}return n}function o(e,r){if(null==r)return e.data=[0,0,0,0,0,0,0,0,0,0],void(e._=0);if(r instanceof i)return e.data=r.data,void(e._=r._);switch(typeof r){case"number":e.data=[0|r],e._=0;break;case"string":var s=2,o=t;0===r.indexOf("0b")?r=r.substr(2):0===r.indexOf("0x")&&(r=r.substr(2),s=16,o=8),e.data=[],e._=0;for(var c=r.length-o,u=r.length;;){var d=parseInt(r.slice(c>0?c:0,u),s);if(isNaN(d))throw SyntaxError("Invalid param");if(e.data.push(0|d),c<=0)break;c-=o,u-=o}break;default:e.data=[0];var l=e.data;if(r instanceof Array){for(var p=r.length-1;p>=0;p--){var f=r[p];f===1/0?e._=-1:(a(e,f),l[f>>>n]|=1<<f)}break}if(Uint8Array&&r instanceof Uint8Array){for(a(e,8*r.length),p=0;p<r.length;p++)for(var h=r[p],m=0;m<8;m++){var S=8*p+m;l[S>>>n]|=(h>>m&1)<<S}break}throw SyntaxError("Invalid param")}}function i(e){if(!(this instanceof i))return new i(e);o(this,e),this.data=this.data.slice()}function a(e,t){for(var r=t>>>n,s=e.data,o=e._,i=s.length;r>=i;r--)s.push(o)}var c={data:[],_:0};i.prototype={data:[],_:0,set:function(e,t){return a(this,e|=0),void 0===t||t?this.data[e>>>n]|=1<<e:this.data[e>>>n]&=~(1<<e),this},get:function(e){e|=0;var t=this.data,r=e>>>n;return r>=t.length?1&this._:t[r]>>>e&1},not:function(){for(var e=this.clone(),t=e.data,n=0;n<t.length;n++)t[n]=~t[n];return e._=~e._,e},and:function(e){o(c,e);var n=this.clone(),r=n.data,s=c.data,i=s.length,u=c._;0!==n._&&a(n,i*t-1);for(var d=r.length,l=Math.min(i,d),p=0;p<l;p++)r[p]&=s[p];for(;p<d;p++)r[p]&=u;return n._&=u,n},or:function(e){o(c,e);for(var t=this.clone(),n=t.data,r=c.data,s=r.length-1,i=n.length-1,a=Math.min(i,s),u=s;u>a;u--)n[u]=r[u];for(;u>=0;u--)n[u]|=r[u];return t._|=c._,t},xor:function(e){o(c,e);var t=this.clone(),n=t.data,r=c.data,s=t._,i=c._,a=0,u=n.length-1,d=r.length-1;for(a=u;a>d;a--)n[a]^=i;for(a=d;a>u;a--)n[a]=s^r[a];for(;a>=0;a--)n[a]^=r[a];return t._^=i,t},andNot:function(e){return this.and(new i(e).flip())},flip:function(e,t){if(void 0===e){for(var r=this.data,s=0;s<r.length;s++)r[s]=~r[s];this._=~this._}else if(void 0===t)a(this,e),this.data[e>>>n]^=1<<e;else if(0<=e&&e<=t)for(a(this,t),s=e;s<=t;s++)this.data[s>>>n]^=1<<s;return this},clear:function(e,t){var r=this.data;if(void 0===e){for(var s=r.length-1;s>=0;s--)r[s]=0;this._=0}else if(void 0===t)a(this,e|=0),r[e>>>n]&=~(1<<e);else if(e<=t)for(a(this,t),s=e;s<=t;s++)r[s>>>n]&=~(1<<s);return this},slice:function(e,n){if(void 0===e)return this.clone();if(void 0===n){n=this.data.length*t,(s=Object.create(i.prototype))._=this._,s.data=[0];for(var r=e;r<=n;r++)s.set(r-e,this.get(r));return s}if(e<=n&&0<=e){var s;for((s=Object.create(i.prototype)).data=[0],r=e;r<=n;r++)s.set(r-e,this.get(r));return s}return null},setRange:function(e,t,n){for(var r=e;r<=t;r++)this.set(r,n);return this},clone:function(){var e=Object.create(i.prototype);return e.data=this.data.slice(),e._=this._,e},toArray:Math.clz32?function(){for(var e=[],n=this.data,r=n.length-1;r>=0;r--)for(var s=n[r];0!==s;){var o=31-Math.clz32(s);s^=1<<o,e.unshift(r*t+o)}return 0!==this._&&e.push(1/0),e}:function(){for(var e=[],n=this.data,s=0;s<n.length;s++)for(var o=n[s];0!==o;){var i=o&-o;o^=i,e.push(s*t+r(i-1))}return 0!==this._&&e.push(1/0),e},toString:function(e){var n=this.data;if(e||(e=2),0==(e&e-1)&&e<36){for(var r="",o=2+Math.log(4294967295)/Math.log(e)|0,i=n.length-1;i>=0;i--){var a=n[i];a<0&&(a+=4294967296);var c=a.toString(e);""!==r&&(r+="0".repeat(o-c.length-1)),r+=c}return 0===this._?(""===(r=r.replace(/^0+/,""))&&(r="0"),r):(r="1111"+r).replace(/^1+/,"...1111")}if(2>e||e>36)throw SyntaxError("Invalid base");r=[];var u=[];for(i=n.length;i--;)for(var d=t;d--;)u.push(n[i]>>>d&1);do{r.unshift(s(u,e).toString(e))}while(!u.every((function(e){return 0===e})));return r.join("")},isEmpty:function(){if(0!==this._)return!1;for(var e=this.data,t=e.length-1;t>=0;t--)if(0!==e[t])return!1;return!0},cardinality:function(){if(0!==this._)return 1/0;for(var e=0,t=this.data,n=0;n<t.length;n++){var s=t[n];0!==s&&(e+=r(s))}return e},msb:Math.clz32?function(){if(0!==this._)return 1/0;for(var e=this.data,n=e.length;n-- >0;){var r=Math.clz32(e[n]);if(r!==t)return n*t+t-1-r}return 1/0}:function(){if(0!==this._)return 1/0;for(var e=this.data,n=e.length;n-- >0;){var r=e[n],s=0;if(r){for(;(r>>>=1)>0;s++);return n*t+s}}return 1/0},ntz:function(){for(var e=this.data,n=0;n<e.length;n++){var s=e[n];if(0!==s)return n*t+r(s=(s^s-1)>>>1)}return 1/0},lsb:function(){for(var e=this.data,n=0;n<e.length;n++){var r=e[n],s=0;if(r){for(var o=r&-r;o>>>=1;s++);return t*n+s}}return 1&this._},equals:function(e){o(c,e);var t=this.data,n=c.data,r=this._,s=c._,i=t.length-1,a=n.length-1;if(s!==r)return!1;for(var u=i<a?i:a,d=0;d<=u;d++)if(t[d]!==n[d])return!1;for(d=i;d>a;d--)if(t[d]!==s)return!1;for(d=a;d>i;d--)if(n[d]!==r)return!1;return!0},[Symbol.iterator]:function(){var e=this.data,t=0;if(0===this._){for(var r=0,s=e.length-1;s>=0;s--)if(0!==e[s]){r=s;break}return{next:function(){var s=t>>>n;return{done:s>r||s===r&&e[s]>>>t==0,value:s>r?0:e[s]>>>t++&1}}}}return{next:function(){var r=t>>>n;return{done:!1,value:r<e.length?e[r]>>>t++&1:1}}}}},i.fromBinaryString=function(e){return new i("0b"+e)},i.fromHexString=function(e){return new i("0x"+e)},i.Random=function(e){(void 0===e||e<0)&&(e=t);for(var n=e%t,r=[],s=Math.ceil(e/t),o=Object.create(i.prototype),a=0;a<s;a++)r.push(4294967296*Math.random()|0);return n>0&&(r[s-1]&=(1<<n)-1),o.data=r,o._=0,o},Object.defineProperty($i,"__esModule",{value:!0}),i.default=i,i.BitSet=i,Ci.exports=i}();const Ri=R(Di);for(var Bi={byteLength:function(e){var t=Ui(e),n=t[0],r=t[1];return 3*(n+r)/4-r},toByteArray:function(e){var t,n,r=Ui(e),s=r[0],o=r[1],i=new Mi(function(e,t,n){return 3*(t+n)/4-n}(0,s,o)),a=0,c=o>0?s-4:s;for(n=0;n<c;n+=4)t=ji[e.charCodeAt(n)]<<18|ji[e.charCodeAt(n+1)]<<12|ji[e.charCodeAt(n+2)]<<6|ji[e.charCodeAt(n+3)],i[a++]=t>>16&255,i[a++]=t>>8&255,i[a++]=255&t;return 2===o&&(t=ji[e.charCodeAt(n)]<<2|ji[e.charCodeAt(n+1)]>>4,i[a++]=255&t),1===o&&(t=ji[e.charCodeAt(n)]<<10|ji[e.charCodeAt(n+1)]<<4|ji[e.charCodeAt(n+2)]>>2,i[a++]=t>>8&255,i[a++]=255&t),i},fromByteArray:function(e){for(var t,n=e.length,r=n%3,s=[],o=16383,i=0,a=n-r;i<a;i+=o)s.push(Fi(e,i,i+o>a?a:i+o));return 1===r?(t=e[n-1],s.push(qi[t>>2]+qi[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],s.push(qi[t>>10]+qi[t>>4&63]+qi[t<<2&63]+"=")),s.join("")}},qi=[],ji=[],Mi="undefined"!=typeof Uint8Array?Uint8Array:Array,Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Li=0;Li<64;++Li)qi[Li]=Gi[Li],ji[Gi.charCodeAt(Li)]=Li;function Ui(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Fi(e,t,n){for(var r,s,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(qi[(s=r)>>18&63]+qi[s>>12&63]+qi[s>>6&63]+qi[63&s]);return o.join("")}ji["-".charCodeAt(0)]=62,ji["_".charCodeAt(0)]=63;const Vi=(e,t,n)=>{if("number"!=typeof e)throw new Error(`Argument ${n} of ${t} should be a number, not '${e}' (${typeof e})`)};let Ji=class{constructor(e,t){e=e||64,t=t||0,this.growMax=16384,this.length=t,this.byteArray=new Uint8Array(e)}byte(e){if(Vi(e,"byte","n"),e>this.length-1)throw Error(`Attempt to read byte ${e} of ByteArray of length ${this.length}`);return this.byteArray[e]}bytes(e,t){if(Vi(e,"bytes","n"),Vi(t,"bytes","l"),e+t>this.length)throw Error(`Attempt to read ${t} bytes from start ${e} of ByteArray of length ${this.length}`);return this.byteArray.subarray(e,e+t)}setByte(e,t){if(Vi(e,"setByte","n"),Vi(t,"setByte","v"),e>this.length-1)throw Error(`Attempt to set byte ${e} of ByteArray of length ${this.length}`);if("number"!=typeof t||t<0||t>255)throw Error(`Expected value 0-255 when setting ByteArray, found ${t}`);this.byteArray[e]=t}setBytes(e,t){if(Vi(e,"setBytes","n"),e+t.length>this.length)throw Error(`Attempt to set ${t.length} bytes from start ${e} of ByteArray of length ${this.length}`);this.byteArray.set(t,e)}pushByte(e){if("number"!=typeof e||e<0||e>255)throw Error(`Expected value 0-255 when pushing to ByteArray, found ${e}`);this.length===this.byteArray.length&&this.grow(),this.byteArray[this.length]=e,this.length++}grow(e){const t=new Uint8Array(Math.max(e||0,this.byteArray.length+Math.min(this.growMax,Math.max(16,this.byteArray.length))));t.set(this.byteArray),this.byteArray=t}trim(){const e=new Uint8Array(this.length);e.set(this.byteArray.subarray(0,this.length)),this.byteArray=e}pushBytes(e){for(const t of e)this.pushByte(t)}pushNByte(e){if(Vi(e,"pushNByte","v"),"number"!=typeof e||e<0)throw Error(`Expected positive number in pushNByte, found ${e}`);if(e<128)this.pushByte(e+128);else{const t=e%128;this.pushByte(t),this.pushNByte(e>>7)}}pushNBytes(e){for(const t of e)try{this.pushNByte(t)}catch(t){throw Error(`Error from pushNByte, called as pushNBytes(${JSON.stringify(e)})`)}}nByte(e){if(Vi(e,"nByte","n"),e>this.length-1)throw Error(`Attempt to read nByte ${e} of ByteArray of length ${this.length}`);const t=this.byteArray[e];return t>127?t-128:t+128*this.nByte(e+1)}nBytes(e,t){Vi(e,"nBytes","n"),Vi(t,"nBytes","nValues");const n=[];for(;t>0;){let r=!1,s=0,o=1;do{if(e>this.length-1)throw Error(`Attempt to read nByte ${e} of ByteArray of length ${this.length} in nBytes(${e}, ${t})`);const i=this.byteArray[e];i>127?(s+=(i-128)*o,n.push(s),s=0,r=!0):(s+=i*o,o*=128),e++}while(!r);t--}return n}nByteLength(e){if(Vi(e,"nByteLength","v"),e>=128**4)throw new Error("> 4 bytes found in nByteLength");let t=1;for(;e>127;)e>>=7,t+=1;return t}pushCountedString(e){const t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t}(e);this.pushByte(t.length),this.pushBytes(t)}countedString(e){Vi(e,"countedString","n");const t=this.byte(e);return function(e){for(var t=[],n=0,r=0;n<e.length;){var s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){var o=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&o)}else if(s>239&&s<365){var i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.bytes(e+1,t))}clear(){this.byteArray.fill(0),this.length=0}base64(){return Bi.fromByteArray(this.byteArray)}fromBase64(e){this.byteArray=Bi.toByteArray(e),this.length=this.byteArray.length}deleteItem(e){Vi(e,"deleteItem","n");const t=63&this.byte(e);if(this.length-=t,this.length>e){const n=this.byteArray.slice(e+t);this.byteArray.set(n,e)}}insert(e,t){Vi(e,"insert","n");const n=t.length,r=this.length+n;if(r>=this.byteArray.length+n&&this.grow(r),e<r){const t=this.byteArray.slice(e,this.length);this.byteArray.set(t,e+n)}this.byteArray.set(t.byteArray.slice(0,t.length),e),this.length=r}};const Hi=[{code:"GEN",categories:["ot","pentateuch"]},{code:"EXO",categories:["ot","pentateuch"]},{code:"LEV",categories:["ot","pentateuch"]},{code:"NUM",categories:["ot","pentateuch"]},{code:"DEU",categories:["ot","pentateuch"]},{code:"JOS",categories:["ot","history"]},{code:"JDG",categories:["ot","history"]},{code:"RUT",categories:["ot","history"]},{code:"1SA",categories:["ot","history"]},{code:"2SA",categories:["ot","history"]},{code:"1KI",categories:["ot","history"]},{code:"2KI",categories:["ot","history"]},{code:"1CH",categories:["ot","history"]},{code:"2CH",categories:["ot","history"]},{code:"EZR",categories:["ot","history"]},{code:"NEH",categories:["ot","history"]},{code:"EST",categories:["ot","history"]},{code:"JOB",categories:["ot","wisdom"]},{code:"PSA",categories:["ot","wisdom"]},{code:"PRO",categories:["ot","wisdom"]},{code:"ECC",categories:["ot","wisdom"]},{code:"SNG",categories:["ot","wisdom"]},{code:"ISA",categories:["ot","prophecy"]},{code:"JER",categories:["ot","prophecy"]},{code:"LAM",categories:["ot","prophecy"]},{code:"EZK",categories:["ot","prophecy"]},{code:"DAN",categories:["ot","prophecy"]},{code:"HOS",categories:["ot","prophecy"]},{code:"JOL",categories:["ot","prophecy"]},{code:"AMO",categories:["ot","prophecy"]},{code:"OBA",categories:["ot","prophecy"]},{code:"JON",categories:["ot","prophecy"]},{code:"MIC",categories:["ot","prophecy"]},{code:"NAM",categories:["ot","prophecy"]},{code:"HAB",categories:["ot","prophecy"]},{code:"ZEP",categories:["ot","prophecy"]},{code:"HAG",categories:["ot","prophecy"]},{code:"ZEC",categories:["ot","prophecy"]},{code:"MAL",categories:["ot","prophecy"]},{code:"MAT",categories:["nt","gospel","synoptic"]},{code:"MRK",categories:["nt","gospel","synoptic"]},{code:"LUK",categories:["nt","gospel","synoptic"]},{code:"JHN",categories:["nt","gospel"]},{code:"ACT",categories:["nt","gospel"]},{code:"ROM",categories:["nt","epistle"]},{code:"1CO",categories:["nt","epistle"]},{code:"2CO",categories:["nt","epistle"]},{code:"GAL",categories:["nt","epistle"]},{code:"EPH",categories:["nt","epistle"]},{code:"PHP",categories:["nt","epistle"]},{code:"COL",categories:["nt","epistle"]},{code:"1TH",categories:["nt","epistle"]},{code:"2TH",categories:["nt","epistle"]},{code:"1TI",categories:["nt","epistle"]},{code:"2TI",categories:["nt","epistle"]},{code:"TIT",categories:["nt","epistle"]},{code:"PHM",categories:["nt","epistle"]},{code:"HEB",categories:["nt","epistle"]},{code:"JAS",categories:["nt","epistle"]},{code:"1PE",categories:["nt","epistle"]},{code:"2PE",categories:["nt","epistle"]},{code:"1JN",categories:["nt","epistle"]},{code:"2JN",categories:["nt","epistle"]},{code:"3JN",categories:["nt","epistle"]},{code:"JUD",categories:["nt","epistle"]},{code:"REV",categories:["nt","epistle"]},{code:"TOB",categories:["dc"]},{code:"JDT",categories:["dc"]},{code:"ESG",categories:["dc","history"]},{code:"WIS",categories:["dc","wisdom"]},{code:"SIR",categories:["dc","wisdom"]},{code:"BAR",categories:["dc","prophecy"]},{code:"LJE",categories:["dc"]},{code:"S3Y",categories:["dc"]},{code:"SUS",categories:["dc"]},{code:"BEL",categories:["dc"]},{code:"1MA",categories:["dc"]},{code:"2MA",categories:["dc"]},{code:"3MA",categories:["dc"]},{code:"4MA",categories:["dc"]},{code:"1ES",categories:["dc"]},{code:"2ES",categories:["dc"]},{code:"MAN",categories:["dc"]},{code:"PS2",categories:["dc"]},{code:"ODA",categories:["dc"]},{code:"PSS",categories:["dc"]},{code:"JSA",categories:["dc"]},{code:"JDB",categories:["dc"]},{code:"TBS",categories:["dc"]},{code:"SST",categories:["dc"]},{code:"DNT",categories:["dc"]},{code:"BLT",categories:["dc"]},{code:"EZA",categories:["dc"]},{code:"5EZ",categories:["dc"]},{code:"6EZ",categories:["dc"]},{code:"DAG",categories:["dc"]},{code:"PS3",categories:["dc"]},{code:"2BA",categories:["dc"]},{code:"LBA",categories:["dc"]},{code:"JUB",categories:["dc"]},{code:"ENO",categories:["dc"]},{code:"1MQ",categories:["dc"]},{code:"2MQ",categories:["dc"]},{code:"3MQ",categories:["dc"]},{code:"REP",categories:["dc"]},{code:"4BA",categories:["dc"]},{code:"LAO",categories:["dc"]}];let Ki={};for(const e of Hi.entries())Ki[e[1].code]={...e[1],position:e[0]};const Wi={ptBookArray:Hi,ptBooks:Ki},Xi={enumStringIndex:(e,t)=>{let n=0,r=0;for(;n<e.length;){const s=e.byte(n);if(e.countedString(n)===t)return r;n+=s+1,r+=1}return-1},enumRegexIndexTuples:(e,t)=>{let n=0,r=0;const s=[];for(;n<e.length;){const o=e.byte(n),i=e.countedString(n);$.exec(i,$(t,"i"))&&s.push([r,i]),n+=o+1,r+=1}return s}};var Yi={};!function(e){e.exports=function(){var e=function(e,t,n,r,s,o){for(var i=t;i<=n;i++)s[o++]=(a=e[i],c=r,u=void 0,(u=a.toString(16)).length<2&&(u="0"+u),c&&(u=u.toUpperCase()),u);var a,c,u;return s},t=function(e,t,n,r,s){for(var o=t;o<=n;o+=2)r[s++]=parseInt(e.substr(o,2),16)},n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.-:+=^!/*?&<>()[]{}@%$#".split(""),r=[0,68,0,84,83,82,72,0,75,76,70,65,0,63,62,69,0,1,2,3,4,5,6,7,8,9,64,0,73,66,74,71,81,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,77,0,78,67,0,0,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,79,0,80,0,0],s=function(e,t){var n={ibits:8,obits:8,obigendian:!0};for(var r in t)void 0!==n[r]&&(n[r]=t[r]);for(var s,o,i,a=[],c=0,u=0,d=0,l=e.length;0===u&&(o=e.charCodeAt(c++)),s=o>>n.ibits-(u+8)&255,u=(u+8)%n.ibits,n.obigendian?0===d?i=s<<n.obits-8:i|=s<<n.obits-8-d:0===d?i=s:i|=s<<d,!(0==(d=(d+8)%n.obits)&&(a.push(i),c>=l)););return a},o=function(e,t){var n={ibits:32,ibigendian:!0};for(var r in t)void 0!==n[r]&&(n[r]=t[r]);var s="",o=4294967295;n.ibits<32&&(o=(1<<n.ibits)-1);for(var i=e.length,a=0;a<i;a++)for(var c=e[a]&o,u=0;u<n.ibits;u+=8)n.ibigendian?s+=String.fromCharCode(c>>n.ibits-8-u&255):s+=String.fromCharCode(c>>u&255);return s},i=256,a=function(e,t,n,r,s,o,i,a){return[a,i,o,s,r,n,t,e]},c=function(){return a(0,0,0,0,0,0,0,0)},u=function(e){return e.slice(0)},d=function(e){for(var t=c(),n=0;n<8;n++)t[n]=Math.floor(e%i),e/=i;return t},l=function(e){for(var t=0,n=7;n>=0;n--)t*=i,t+=e[n];return Math.floor(t)},p=function(e,t){for(var n=0,r=0;r<8;r++)n+=e[r]+t[r],e[r]=Math.floor(n%i),n=Math.floor(n/i);return n},f=function(e,t){for(var n=0;n<8;n++)e[n]&=t[n];return e},h=function(e,t){var n=c();if(t%8!=0)throw new Error("ui64_rorn: only bit rotations supported with a multiple of digit bits");for(var r=Math.floor(t/8),s=0;s<r;s++){for(var o=6;o>=0;o--)n[o+1]=n[o];for(n[0]=e[0],o=0;o<7;o++)e[o]=e[o+1];e[o]=0}return l(n)},m=function(e,t){if(t>64)throw new Error("ui64_ror: invalid number of bits to shift");var n,r=new Array(16);for(n=0;n<8;n++)r[n+8]=e[n],r[n]=0;var s=Math.floor(t/8),o=t%8;for(n=s;n<15;n++)r[n-s]=255&(r[n]>>>o|r[n+1]<<8-o);for(r[15-s]=r[15]>>>o&255,n=15-s+1;n<16;n++)r[n]=0;for(n=0;n<8;n++)e[n]=r[n+8];return r.slice(0,8)},S=function(e,t){for(var n=0;n<8;n++)e[n]^=t[n]},y=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n},g=function(e,t){return e<<t&4294967295|e>>>32-t&4294967295},b=function(e){return o(function(e,t){function n(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r=Array(80),s=1732584193,o=-271733879,i=-1732584194,a=271733878,c=-1009589776,u=0;u<e.length;u+=16){for(var d=s,l=o,p=i,f=a,h=c,m=0;m<80;m++){r[m]=m<16?e[u+m]:g(r[m-3]^r[m-8]^r[m-14]^r[m-16],1);var S=y(y(g(s,5),(v=o,E=i,A=a,(b=m)<20?v&E|~v&A:b<40?v^E^A:b<60?v&E|v&A|E&A:v^E^A)),y(y(c,r[m]),n(m)));c=a,a=i,i=g(o,30),o=s,s=S}s=y(s,d),o=y(o,l),i=y(i,p),a=y(a,f),c=y(c,h)}var b,v,E,A;return[s,o,i,a,c]}(s(e,{ibits:8,obits:32,obigendian:!0}),8*e.length),{ibits:32,ibigendian:!0})},v=function(e){return o(function(e,t){function n(e,t,n,r,s,o){return y(g(y(y(t,e),y(r,o)),s),n)}function r(e,t,r,s,o,i,a){return n(t&r|~t&s,e,t,o,i,a)}function s(e,t,r,s,o,i,a){return n(t&s|r&~s,e,t,o,i,a)}function o(e,t,r,s,o,i,a){return n(t^r^s,e,t,o,i,a)}function i(e,t,r,s,o,i,a){return n(r^(t|~s),e,t,o,i,a)}e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,c=-271733879,u=-1732584194,d=271733878,l=0;l<e.length;l+=16){var p=a,f=c,h=u,m=d;a=r(a,c,u,d,e[l+0],7,-680876936),d=r(d,a,c,u,e[l+1],12,-389564586),u=r(u,d,a,c,e[l+2],17,606105819),c=r(c,u,d,a,e[l+3],22,-1044525330),a=r(a,c,u,d,e[l+4],7,-176418897),d=r(d,a,c,u,e[l+5],12,1200080426),u=r(u,d,a,c,e[l+6],17,-1473231341),c=r(c,u,d,a,e[l+7],22,-45705983),a=r(a,c,u,d,e[l+8],7,1770035416),d=r(d,a,c,u,e[l+9],12,-1958414417),u=r(u,d,a,c,e[l+10],17,-42063),c=r(c,u,d,a,e[l+11],22,-1990404162),a=r(a,c,u,d,e[l+12],7,1804603682),d=r(d,a,c,u,e[l+13],12,-40341101),u=r(u,d,a,c,e[l+14],17,-1502002290),a=s(a,c=r(c,u,d,a,e[l+15],22,1236535329),u,d,e[l+1],5,-165796510),d=s(d,a,c,u,e[l+6],9,-1069501632),u=s(u,d,a,c,e[l+11],14,643717713),c=s(c,u,d,a,e[l+0],20,-373897302),a=s(a,c,u,d,e[l+5],5,-701558691),d=s(d,a,c,u,e[l+10],9,38016083),u=s(u,d,a,c,e[l+15],14,-660478335),c=s(c,u,d,a,e[l+4],20,-405537848),a=s(a,c,u,d,e[l+9],5,568446438),d=s(d,a,c,u,e[l+14],9,-1019803690),u=s(u,d,a,c,e[l+3],14,-187363961),c=s(c,u,d,a,e[l+8],20,1163531501),a=s(a,c,u,d,e[l+13],5,-1444681467),d=s(d,a,c,u,e[l+2],9,-51403784),u=s(u,d,a,c,e[l+7],14,1735328473),a=o(a,c=s(c,u,d,a,e[l+12],20,-1926607734),u,d,e[l+5],4,-378558),d=o(d,a,c,u,e[l+8],11,-2022574463),u=o(u,d,a,c,e[l+11],16,1839030562),c=o(c,u,d,a,e[l+14],23,-35309556),a=o(a,c,u,d,e[l+1],4,-1530992060),d=o(d,a,c,u,e[l+4],11,1272893353),u=o(u,d,a,c,e[l+7],16,-155497632),c=o(c,u,d,a,e[l+10],23,-1094730640),a=o(a,c,u,d,e[l+13],4,681279174),d=o(d,a,c,u,e[l+0],11,-358537222),u=o(u,d,a,c,e[l+3],16,-722521979),c=o(c,u,d,a,e[l+6],23,76029189),a=o(a,c,u,d,e[l+9],4,-640364487),d=o(d,a,c,u,e[l+12],11,-421815835),u=o(u,d,a,c,e[l+15],16,530742520),a=i(a,c=o(c,u,d,a,e[l+2],23,-995338651),u,d,e[l+0],6,-198630844),d=i(d,a,c,u,e[l+7],10,1126891415),u=i(u,d,a,c,e[l+14],15,-1416354905),c=i(c,u,d,a,e[l+5],21,-57434055),a=i(a,c,u,d,e[l+12],6,1700485571),d=i(d,a,c,u,e[l+3],10,-1894986606),u=i(u,d,a,c,e[l+10],15,-1051523),c=i(c,u,d,a,e[l+1],21,-2054922799),a=i(a,c,u,d,e[l+8],6,1873313359),d=i(d,a,c,u,e[l+15],10,-30611744),u=i(u,d,a,c,e[l+6],15,-1560198380),c=i(c,u,d,a,e[l+13],21,1309151649),a=i(a,c,u,d,e[l+4],6,-145523070),d=i(d,a,c,u,e[l+11],10,-1120210379),u=i(u,d,a,c,e[l+2],15,718787259),c=i(c,u,d,a,e[l+9],21,-343485551),a=y(a,p),c=y(c,f),u=y(u,h),d=y(d,m)}return[a,c,u,d]}(s(e,{ibits:8,obits:32,obigendian:!1}),8*e.length),{ibits:32,ibigendian:!1})},E=function(e){this.mul=a(88,81,244,45,76,149,127,45),this.inc=a(20,5,123,126,247,103,129,79),this.mask=a(0,0,0,0,255,255,255,255),this.state=u(this.inc),this.next(),f(this.state,this.mask),e=d(void 0!==e?e>>>0:4294967295*Math.random()>>>0),function(e,t){for(var n=0;n<8;n++)e[n]|=t[n]}(this.state,e),this.next()};E.prototype.next=function(){var e=u(this.state);(function(e,t){var n,r,s,o=new Array(16);for(n=0;n<16;n++)o[n]=0;for(n=0;n<8;n++){for(s=0,r=0;r<8;r++)s+=e[n]*t[r]+o[n+r],o[n+r]=s%i,s/=i;for(;r<16-n;r++)s+=o[n+r],o[n+r]=s%i,s/=i}for(n=0;n<8;n++)e[n]=o[n];o.slice(8,8)})(this.state,this.mul),p(this.state,this.inc);var t=u(e);m(t,18),S(t,e),m(t,27);var n=u(e);m(n,59),f(t,this.mask);var r=l(n),s=u(t);return function(e,t){if(t>64)throw new Error("ui64_rol: invalid number of bits to shift");var n,r=new Array(16);for(n=0;n<8;n++)r[n+8]=0,r[n]=e[n];var s=Math.floor(t/8),o=t%8;for(n=7-s;n>0;n--)r[n+s]=255&(r[n]<<o|r[n-1]>>>8-o);for(r[0+s]=r[0]<<o&255,n=0+s-1;n>=0;n--)r[n]=0;for(n=0;n<8;n++)e[n]=r[n];r.slice(8,8)}(s,32-r),m(t,r),S(t,s),l(t)};var A=new E,T=function(e,t){for(var n=[],r=0;r<e;r++)n[r]=A.next()%t;return n},w=0,k=0,I=function(){if(1===arguments.length&&"string"==typeof arguments[0])this.parse.apply(this,arguments);else if(arguments.length>=1&&"number"==typeof arguments[0])this.make.apply(this,arguments);else{if(arguments.length>=1)throw new Error("UUID: constructor: invalid arguments");for(var e=0;e<16;e++)this[e]=0}};return(I.prototype="undefined"!=typeof Uint8Array?new Uint8Array(16):Buffer?Buffer.alloc(16):new Array(16)).constructor=I,I.prototype.make=function(e){var t,n=this;if(1===e){var r=(new Date).getTime();r!==w?k=0:k++,w=r;var s,o=d(r);(function(e,t){for(var n=0,r=0;r<8;r++)n+=e[r]*t,e[r]=Math.floor(n%i),n=Math.floor(n/i)})(o,1e4),p(o,a(1,178,29,210,19,129,64,0)),k>0&&p(o,d(k)),s=h(o,8),n[3]=255&s,s=h(o,8),n[2]=255&s,s=h(o,8),n[1]=255&s,s=h(o,8),n[0]=255&s,s=h(o,8),n[5]=255&s,s=h(o,8),n[4]=255&s,s=h(o,8),n[7]=255&s,s=h(o,8),n[6]=15&s;var c=T(2,255);n[8]=c[0],n[9]=c[1];var u=T(6,255);for(u[0]|=1,u[0]|=2,t=0;t<6;t++)n[10+t]=u[t]}else if(4===e){var l=T(16,255);for(t=0;t<16;t++)this[t]=l[t]}else{if(3!==e&&5!==e)throw new Error("UUID: make: invalid version");var f="",m="object"==typeof arguments[1]&&arguments[1]instanceof I?arguments[1]:(new I).parse(arguments[1]);for(t=0;t<16;t++)f+=String.fromCharCode(m[t]);f+=arguments[2];var S=3===e?v(f):b(f);for(t=0;t<16;t++)n[t]=S.charCodeAt(t)}return n[6]&=15,n[6]|=e<<4,n[8]&=63,n[8]|=128,n},I.prototype.format=function(t){var r,s;return"z85"===t?r=function(e,t){if(t%4!=0)throw new Error("z85_encode: invalid input length (multiple of 4 expected)");for(var r="",s=0,o=0;s<t;)if(o=256*o+e[s++],s%4==0){for(var i=52200625;i>=1;){var a=Math.floor(o/i)%85;r+=n[a],i/=85}o=0}return r}(this,16):"b16"===t?(s=Array(32),e(this,0,15,!0,s,0),r=s.join("")):void 0!==t&&"std"!==t||(s=new Array(36),e(this,0,3,!1,s,0),s[8]="-",e(this,4,5,!1,s,9),s[13]="-",e(this,6,7,!1,s,14),s[18]="-",e(this,8,9,!1,s,19),s[23]="-",e(this,10,15,!1,s,24),r=s.join("")),r},I.prototype.toString=function(e){return this.format(e)},I.prototype.toJSON=function(){return this.format("std")},I.prototype.parse=function(e,n){if("string"!=typeof e)throw new Error("UUID: parse: invalid argument (type string expected)");if("z85"===n)!function(e,t){var n=e.length;if(n%5!=0)throw new Error("z85_decode: invalid input length (multiple of 5 expected)");void 0===t&&(t=new Array(4*n/5));for(var s=0,o=0,i=0;s<n;){var a=e.charCodeAt(s++)-32;if(a<0||a>=r.length)break;if(i=85*i+r[a],s%5==0){for(var c=16777216;c>=1;)t[o++]=Math.trunc(i/c%256),c/=256;i=0}}}(e,this);else if("b16"===n)t(e,0,35,this,0);else if(void 0===n||"std"===n){var s={nil:"00000000-0000-0000-0000-000000000000","ns:DNS":"6ba7b810-9dad-11d1-80b4-00c04fd430c8","ns:URL":"6ba7b811-9dad-11d1-80b4-00c04fd430c8","ns:OID":"6ba7b812-9dad-11d1-80b4-00c04fd430c8","ns:X500":"6ba7b814-9dad-11d1-80b4-00c04fd430c8"};if(void 0!==s[e])e=s[e];else if(!e.match(/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/))throw new Error('UUID: parse: invalid string representation (expected "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")');t(e,0,7,this,0),t(e,9,12,this,4),t(e,14,17,this,6),t(e,19,22,this,8),t(e,24,35,this,10)}return this},I.prototype.export=function(){for(var e=Array(16),t=0;t<16;t++)e[t]=this[t];return e},I.prototype.import=function(e){if(!("object"==typeof e&&e instanceof Array))throw new Error("UUID: import: invalid argument (type Array expected)");if(16!==e.length)throw new Error("UUID: import: invalid argument (Array of length 16 expected)");for(var t=0;t<16;t++){if("number"!=typeof e[t])throw new Error("UUID: import: invalid array element #"+t+" (type Number expected)");if(!isFinite(e[t])||Math.floor(e[t])!==e[t])throw new Error("UUID: import: invalid array element #"+t+" (Number with integer value expected)");if(!(e[t]>=0&&e[t]<=255))throw new Error("UUID: import: invalid array element #"+t+" (Number with integer value in range 0...255 expected)");this[t]=e[t]}return this},I.prototype.compare=function(e){if("object"!=typeof e)throw new Error("UUID: compare: invalid argument (type UUID expected)");if(!(e instanceof I))throw new Error("UUID: compare: invalid argument (type UUID expected)");for(var t=0;t<16;t++){if(this[t]<e[t])return-1;if(this[t]>e[t])return 1}return 0},I.prototype.equal=function(e){return 0===this.compare(e)},I.prototype.fold=function(e){if(void 0===e)throw new Error("UUID: fold: invalid argument (number of fold operations expected)");if(e<1||e>4)throw new Error("UUID: fold: invalid argument (1-4 fold operations expected)");for(var t=16/Math.pow(2,e),n=new Array(t),r=0;r<t;r++){for(var s=0,o=0;r+o<16;o+=t)s^=this[r+o];n[r]=s}return n},I.PCG=E,I}(),e.exports.default=e.exports}({get exports(){return Yi},set exports(e){Yi=e}});const zi=Yi;var Zi={};!function(e,t){!function(n){var r=t,s=e&&e.exports==r&&e,o="object"==typeof D&&D;o.global!==o&&o.window!==o||(n=o);var i=function(e){this.message=e};(i.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new i(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,s,o=e.length%3,i="",u=-1,d=e.length-o;++u<d;)t=e.charCodeAt(u)<<16,n=e.charCodeAt(++u)<<8,r=e.charCodeAt(++u),i+=c.charAt((s=t+n+r)>>18&63)+c.charAt(s>>12&63)+c.charAt(s>>6&63)+c.charAt(63&s);return 2==o?(t=e.charCodeAt(u)<<8,n=e.charCodeAt(++u),i+=c.charAt((s=t+n)>>10)+c.charAt(s>>4&63)+c.charAt(s<<2&63)+"="):1==o&&(s=e.charCodeAt(u),i+=c.charAt(s>>2)+c.charAt(s<<4&63)+"=="),i},decode:function(e){var t=(e=String(e).replace(u,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,s=0,o="",i=-1;++i<t;)r=c.indexOf(e.charAt(i)),n=s%4?64*n+r:r,s++%4&&(o+=String.fromCharCode(255&n>>(-2*s&6)));return o},version:"1.0.0"};if(r&&!r.nodeType)if(s)s.exports=d;else for(var l in d)d.hasOwnProperty(l)&&(r[l]=d[l]);else n.base64=d}(D)}({get exports(){return Zi},set exports(e){Zi=e}},Zi);const Qi=Zi,ea={wordLike:0,punctuation:1,lineSpace:2,eol:3,softLineBreak:4,noBreakSpace:5,bareSlash:6,unknown:7},ta={tokenEnum:ea,tokenEnumLabels:Object.entries(ea).sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),tokenCategory:{wordLike:"wordLike",punctuation:"notWordLike",lineSpace:"notWordLike",eol:"notWordLike",softLineBreak:"notWordLike",noBreakSpace:"notWordLike",bareSlash:"notWordLike",unknown:"notWordLike"}},na={blockTag:0,inline:1,chapter:2,pubChapter:3,altChapter:4,verses:5,verse:6,pubVerse:7,altVerse:8,esbCat:9,span:10,table:11,cell:12,milestone:13,spanWithAtts:14,attribute:15,hangingGraft:16,orphanTokens:17,tTableRow:18,tTableCol:19,tTreeNode:20,tTreeParent:21,tTreeChild:22,tTreeContent:23,kvPrimary:24,kvSecondary:25,kvField:26},ra=Object.entries(na).sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),sa={scopeEnum:na,scopeEnumLabels:ra,labelForScope:(e,t)=>{switch(e){case"blockTag":return`blockTag/${t[0]}`;case"inline":return`inline/${t[0]}`;case"chapter":return`chapter/${t[0]}`;case"verses":return`verses/${t[0]}`;case"verse":return`verse/${t[0]}`;case"span":return`span/${t[0]}`;case"table":return"table";case"cell":return(e=>{const t={th:{type:"colHeading",align:"left"},thr:{type:"colHeading",align:"right"},tc:{type:"body",align:"left"},tcr:{type:"body",align:"right"}},[n,r]=(e=>{const t=$.exec(e,$("([^1-9]+)(.*)"));return[t[1],t[2].length>0?t[2]:"1"]})(e);let s="1";if(r.includes("-")){const[e,t]=r.split("-");s=""+(parseInt(t)-parseInt(e)+1)}return`cell/${t[n].type}/${t[n].align}/${s}`})(t[0]);case"milestone":return`milestone/${t[0]}`;case"spanWithAtts":return`spanWithAtts/${t[0]}`;case"attribute":return`attribute/${t[0]}/${t[1]}/${t[2]}/${t[3]}`;case"orphanTokens":return"orphanTokens";case"hangingGraft":return"hangingGraft";case"pubChapter":return`pubChapter/${t[0]}`;case"pubVerse":return`pubVerse/${t[0]}`;case"altChapter":return`altChapter/${t[0]}`;case"altVerse":return`altVerse/${t[0]}`;case"esbCat":return`esbCat/${t[0]}`;case"tTableRow":return`tTableRow/${t[0]}`;case"tTableCol":return`tTableCol/${t[0]}`;case"tTreeNode":return`tTreeNode/${t[0]}`;case"tTreeParent":return`tTreeParent/${t[0]}`;case"tTreeChild":return`tTreeChild/${t[0]}/${t[1]}`;case"tTreeContent":return`tTreeContent/${t[0]}`;case"kvPrimary":return`kvPrimary/${t[0]}`;case"kvSecondary":return`kvSecondary/${t[0]}/${t[1]}`;case"kvField":return`kvField/${t[0]}`;default:throw new Error(`Unknown scope type '${e}' in labelForScope`)}},nComponentsForScope:e=>{switch(e){case"orphanTokens":case"hangingGraft":case"table":return 1;case"blockTag":case"inline":case"chapter":case"verses":case"verse":case"span":case"milestone":case"spanWithAtts":case"pubChapter":case"altChapter":case"pubVerse":case"altVerse":case"esbCat":case"tTableRow":case"tTableCol":case"tTreeNode":case"tTreeParent":case"tTreeContent":case"kvPrimary":case"kvField":return 2;case"tTreeChild":case"kvSecondary":return 3;case"cell":return 4;case"attribute":return 6;default:throw new Error(`Unknown scope type '${e}' in nComponentsForScope`)}}},oa={token:0,graft:1,startScope:2,endScope:3},ia=Object.entries(oa).sort(((e,t)=>e[1]-t[1])).map((e=>e[0])),aa=e=>({type:e[0],subType:e[1],payload:e[2]}),ca=e=>[e.type,e.subType,e.payload],ua={itemEnum:oa,itemEnumLabels:ia,itemArray2Object:aa,itemObject2Array:ca,itemArrays2Objects:e=>e.map((e=>aa(e))),itemObjects2Arrays:e=>e.map((e=>ca(e)))},da=(e,t)=>{const n=new Uint32Array(t.length);let r=0,s=0;for(;r<t.length;)n[s]=r,r+=t.byte(r)+1,s+=1;return n},la=(e,t)=>{throw new Error(`Undefined or null argument '${t}' in '${e}'`)},pa={enumIndex:da,enumIndexes:e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=da(0,r);return t},headerBytes:(e,t)=>{const n=e.byte(t);return[63&n,n>>6,e.byte(t+1)]},pushSuccinctTokenBytes:(e,t,n)=>{null==t&&la("pushSuccinctTokenBytes","tokenEnumIndex"),null==n&&la("pushSuccinctTokenBytes","charsEnumIndex");const r=e.length;e.pushByte(0),e.pushByte(t),e.pushNByte(n),e.setByte(r,e.length-r|ua.itemEnum.token<<6)},pushSuccinctGraftBytes:(e,t,n)=>{null==t&&la("pushSuccinctGraftBytes","graftTypeEnumIndex"),null==n&&la("pushSuccinctGraftBytes","seqEnumIndex");const r=e.length;e.pushByte(0),e.pushByte(t),e.pushNByte(n),e.setByte(r,e.length-r|ua.itemEnum.graft<<6)},pushSuccinctScopeBytes:(e,t,n,r)=>{null==t&&la("pushSuccinctScopeBytes","itemTypeByte"),null==n&&la("pushSuccinctScopeBytes","scopeTypeByte"),null==r&&la("pushSuccinctScopeBytes","scopeBitBytes");const s=e.length;e.pushByte(0),e.pushByte(n);for(const t of r)e.pushNByte(t);e.setByte(s,e.length-s|t<<6)},succinctTokenChars:(e,t,n,r,s)=>{const o=ta.tokenCategory[ta.tokenEnumLabels[r]],i=t[o][n.nByte(s+2)];return e[o].countedString(i)},succinctScopeLabel:(e,t,n,r,s)=>{const o=sa.scopeEnumLabels[r];let i=sa.nComponentsForScope(o),a=2,c="";for(;i>1;){const r=n.nByte(s+a),o=t.scopeBits[r];c+=`/${e.scopeBits.countedString(o)}`,a+=n.nByteLength(r),i--}return`${o}${c}`},succinctScopeType:e=>sa.scopeEnumLabels[e],succinctGraftName:(e,t,n)=>{const r=t.graftTypes[n];return e.graftTypes.countedString(r)},succinctGraftSeqId:(e,t,n,r)=>{const s=t.ids[n.nByte(r+2)];return e.ids.countedString(s)},unpackEnum:(e,t)=>{t||(t=!1);let n=0,r=0;const s=[];for(;n<e.length;){const o=e.byte(n),i=e.countedString(n);s.push(t?[r,i]:i),n+=o+1,r++}return s}},fa={inspectEnum:e=>{const t=new Ji;t.fromBase64(e);const n=[];n.push(`* Char length ${t.length} *`);for(const[e,r]of pa.unpackEnum(t,!0))n.push(`${e}\t"${r}"`);return n.join("\n")},inspectSuccinct:(e,t)=>{const n=new Ji;n.fromBase64(e);const r={};for(const[e,n]of Object.entries(t))r[e]=new Ji,r[e].fromBase64(n);const s=pa.enumIndexes(r),o=[];o.push(`* Char length ${n.length} *`);let i=0;for(;i<n.length;){const[e,t,a]=pa.headerBytes(n,i);let c=a,u="";switch(ua.itemEnumLabels[t]){case"token":c=ta.tokenEnumLabels[a],u=`"${pa.succinctTokenChars(r,s,n,a,i)}"`;break;case"startScope":case"endScope":c=sa.scopeEnumLabels[a],u=pa.succinctScopeLabel(r,s,n,a,i);break;case"graft":c=pa.succinctGraftName(r,s,a),u=pa.succinctGraftSeqId(r,s,n,i)}o.push(`${ua.itemEnumLabels[t]}\t${c}\t(${e})\t${u}`),i+=e}return o.join("\n")}},ha=e=>{if(!$.exec(e,/^[a-z][A-za-z0-9]*(:.+)?$/))throw new Error(`Tag '${e}' is not valid (should be [a-z][A-za-z0-9]*(:.+)?)`)},ma=["GEN","EXO","LEV","NUM","DEU","JOS","JDG","RUT","1SA","2SA","1KI","2KI","1CH","2CH","EZR","NEH","EST","JOB","PSA","PRO","ECC","SNG","ISA","JER","LAM","EZK","DAN","HOS","JOL","AMO","OBA","JON","MIC","NAM","HAB","ZEP","HAG","ZEC","MAL","MAT","MRK","LUK","JHN","ACT","ROM","1CO","2CO","GAL","EPH","PHP","COL","1TH","2TH","1TI","2TI","TIT","PHM","HEB","JAS","1PE","2PE","1JN","2JN","3JN","JUD","REV","TOB","JDT","ESG","WIS","SIR","BAR","LJE","S3Y","SUS","BEL","1MA","2MA","3MA","4MA","1ES","2ES","MAN","PS2","ODA","PSS","JSA","JDB","TBS","SST","DNT","BLT","EZA","5EZ","6EZ","DAG","PS3","2BA","LBA","JUB","ENO","1MQ","2MQ","3MQ","REP","4BA","LAO"],Sa=()=>{const e={};for(const[t,n]of Object.entries(ma))e[n]=parseInt(t);return e},ya=e=>{const t={};for(let[n,r]of Object.entries(e)){"string"==typeof r&&(r=[r]);const[e,s]=n.split(" "),o=r[0].split(" ")[0],i=o===e?["cv"]:["bcv"];let[a,c]=s.split(":"),u=c;if(c.includes("-")){const e=c.split("-");c=e[0],u=e[1]}i.push([parseInt(c),parseInt(u)]),i.push([]);for(const e of r.map((e=>e.split(" ")[1]))){let[t,n]=e.split(":"),r=n;if(n.includes("-")){const e=n.split("-");n=e[0],r=e[1]}"cv"===i[0]?i[2].push([parseInt(t),parseInt(n),parseInt(r)]):i[2].push([parseInt(t),parseInt(n),parseInt(r),o])}e in t||(t[e]={}),a in t[e]||(t[e][a]=[]),t[e][a].push(i)}return t},ga=(e,t)=>{const n=(e,t)=>t+64*e,r=new Ji(64);for(const[s,[o,i],a]of e){const e=r.length,c="bcv"===s?3:2;if(r.pushNBytes([0,o,i]),3===c){const e=t[a[0][3]];r.pushNByte(e)}r.pushNByte(a.length);for(const[e,t]of a)r.pushNBytes([e,t]);const u=r.length-e;if(u>63)throw new Error(`Mapping in succinctifyVerseMapping ${JSON.stringify(a)} is too long (${u} bytes)`);r.setByte(e,n(c,u))}return r.trim(),r},ba=(e,t)=>{const n=e.byte(t);return[n>>6,n%64]},va={ByteArray:Ji,canons:Wi,enums:Xi,generateId:()=>Qi.encode(new zi(4)).substring(0,12),graftDefs:{graftLocation:{heading:"block",title:"block",endTitle:"block",remark:"block",footnote:"inline",xref:"inline",noteCaller:"inline",esbCat:"inline",table:"block",tree:"block",kv:"block"}},inspect:fa,itemDefs:ua,parserConstants:{usfm:{baseSequenceTypes:{main:"1",introduction:"*",introTitle:"?",introEndTitle:"?",title:"?",endTitle:"?",heading:"*",header:"*",remark:"*",sidebar:"*",table:"*",tree:"*",kv:"*"},inlineSequenceTypes:{footnote:"*",noteCaller:"*",xref:"*",pubNumber:"*",altNumber:"*",esbCat:"*",fig:"*",temp:"?"}}},scopeDefs:sa,succinct:pa,tags:{validateTags:e=>{for(const t of e)ha(t)},validateTag:ha,addTag:(e,t)=>{ha(t),e.add(t)},removeTag:(e,t)=>{ha(t),e.delete(t)}},tokenDefs:ta,versification:{vrs2json:e=>{const t={};for(const n of e.split(/[\n\r]+/).map((e=>e.trim())).map((e=>$.exec(e,$("^([A-Z1-6]{3} [0-9]+:[0-9]+(-[0-9]+)?) = ([A-Z1-6]{3} [0-9]+:[0-9]+[a-z]?(-[0-9]+)?)$")))))n&&(n[1]in t||(t[n[1]]=[]),t[n[1]].push(n[3]));return{mappedVerses:t}},reverseVersification:e=>{const t={};for(const[n,r]of Object.entries(e.mappedVerses))for(const e of r)e in t?t[e].push(n):t[e]=[n];return{reverseMappedVerses:t}},preSuccinctVerseMapping:ya,bookCodes:ma,succinctifyVerseMapping:ga,succinctifyVerseMappings:e=>{const t={},n=Sa();for(const[r,s]of Object.entries(ya(e))){t[r]={};for(const[e,o]of Object.entries(s))t[r][e]=ga(o,n)}return t},unsuccinctifyVerseMapping:(e,t,n)=>{const r=[];let s=0;for(;s<e.length;){let n=s;const o={},[i,a]=ba(e,s);if(n++,o.fromVerseStart=e.nByte(n),n+=e.nByteLength(o.fromVerseStart),o.fromVerseEnd=e.nByte(n),n+=e.nByteLength(o.fromVerseEnd),o.bookCode=t,3===i){const t=e.nByte(n);o.bookCode=ma[t],n+=e.nByteLength(t)}const c=e.nByte(n);n+=e.nByteLength(c);const u=[];for(;u.length<c;){const t={};t.ch=e.nByte(n),n+=e.nByteLength(t.ch),t.verseStart=e.nByte(n),n+=e.nByteLength(t.verseStart),u.push(t)}o.mapping=u,r.push(o),s+=a}return r},bookCodeIndex:Sa,mapVerse:(e,t,n,r)=>{let s=null,o=0;for(;o<e.length;){let n=o;const[i,a]=ba(e,o);n++;const c=e.nByte(n);n+=e.nByteLength(c);const u=e.nByte(n);if(n+=e.nByteLength(u),r<c||r>u){o+=a;continue}let d=t;if(3===i){const t=e.nByte(n);d=ma[t],n+=e.nByteLength(t)}s=[d,[]];const l=e.nByte(n);for(n+=e.nByteLength(l);s[1].length<l;){const t=e.nByte(n);n+=e.nByteLength(t);const o=e.nByte(n);n+=e.nByteLength(o),s[1].push([t,r-c+o])}break}return s||[t,[[n,r]]]}}},Ea=(e,t)=>{if("object"!=typeof t)throw new Error("DocSet constructor expects selectors to be object, found "+typeof e.selectors);const n={};for(const t of e.processor.selectors)n[t.name]=t;for(const[e,r]of Object.entries(t)){if(!(e in n))throw new Error(`Unexpected selector '${e}' (expected one of [${Object.keys(n).join(", ")}])`);if("string"==typeof r&&"string"!==n[e].type||"number"==typeof r&&"integer"!==n[e].type)throw new Error(`Selector '${e}' is of type ${typeof r} (expected ${n[e].type})`);if("number"==typeof r){if(!Number.isInteger(r))throw new Error(`Value '${r}' of integer selector '${e}' is not an integer`);if("min"in n[e]&&r<n[e].min)throw new Error(`Value '${r}' is less than ${n[e].min}`);if("max"in n[e]&&r>n[e].max)throw new Error(`Value '${r}' is greater than ${n[e].max}`)}else if("regex"in n[e]&&!$.exec(r,$(n[e].regex),0))throw new Error(`Value '${r}' does not match regex '${n[e].regex}'`);if("enum"in n[e]&&!n[e].enum.includes(r))throw new Error(`Value '${r}' of selector '${e}' is not in enum`)}for(const e of Object.keys(n))if(!(e in t))throw new Error(`Expected selector '${e}' not found`);return t},Aa=(e,t)=>{const n=new Map;let r=0,s=0;for(;r<t.length;)n.set(t.countedString(r),{enum:s++,frequency:0}),r+=t.byte(r)+1;return n},Ta=va.ByteArray,{pushSuccinctGraftBytes:wa,pushSuccinctScopeBytes:ka,pushSuccinctTokenBytes:Ia}=va.succinct,{itemEnum:Pa}=va.itemDefs,{scopeEnum:Na}=va.scopeDefs,{tokenCategory:Oa,tokenEnum:_a}=va.tokenDefs,xa=(e,t,n,r,s,o)=>{const i=e.processor.documents[t];if(!i)throw new Error(`Document '${t}' not found`);let a;if(n){if(a=i.sequences[n],!a)throw new Error(`Sequence '${n}' not found`)}else a=i.sequences[i.mainId];if(a.blocks.length<=r)throw new Error(`Could not find block ${r} (length=${a.blocks.length})`);const c=a.blocks[r],u=new Ta(o.length);e.maybeBuildPreEnums();let d=0;r<0&&(d=a.blocks[r-1].nt.nByte(0));let l,p,f,h,m,S=null;for(const t of o)switch(t.type){case"token":l=e.enumForCategoryValue(Oa[t.subType],t.payload,!0),Ia(u,_a[t.subType],l),d++;break;case"graft":p=e.enumForCategoryValue("graftTypes",t.subType,!0),f=e.enumForCategoryValue("ids",t.payload,!0),wa(u,p,f);break;case"scope":if(h=t.payload.split("/"),m=Na[h[0]],!m&&0!==m)throw new Error(`"${h[0]}" is not a scope type`);S=h.slice(1).map((t=>e.enumForCategoryValue("scopeBits",t,!0))),ka(u,Pa[`${t.subType}Scope`],m,S)}return u.trim(),c[s]=u,"c"===s&&(c.nt.clear(),c.nt.pushNByte(d)),!0},Ca=(e,t,n,r,s)=>xa(e,t,n,r,"bg",s),$a=va.ByteArray,{addTag:Da,removeTag:Ra,validateTags:Ba}=va.tags,{succinctGraftName:qa,succinctGraftSeqId:ja,succinctScopeLabel:Ma,succinctTokenChars:Ga,headerBytes:La,enumIndex:Ua,enumIndexes:Fa}=va.succinct,{itemEnum:Va}=va.itemDefs,{tokenEnumLabels:Ja}=va.tokenDefs;class Ha{constructor(e,t,n,r){this.processor=e,this.preEnums={},this.enumIndexes={},this.docIds=[],r?this.fromSuccinct(e,r):this.fromScratch(e,t,n),Ba(this.tags)}fromScratch(e,t,n){const r=t||e.selectors;this.selectors=Ea(this,r),this.id=this.selectorString(),this.tags=new Set(n||[]),this.enums={ids:new $a(512),wordLike:new $a(8192),notWordLike:new $a(256),scopeBits:new $a(256),graftTypes:new $a(10)}}fromSuccinct(e,t){const n=e=>{const t=new $a(256);return t.fromBase64(e),t.trim(),t};this.id=t.id,this.selectors=Ea(this,t.metadata.selectors),this.tags=new Set(t.tags),Ba(this.tags),this.preEnums={},this.enums={ids:n(t.enums.ids),wordLike:n(t.enums.wordLike),notWordLike:n(t.enums.notWordLike),scopeBits:n(t.enums.scopeBits),graftTypes:n(t.enums.graftTypes)},this.enumIndexes={},this.docIds=[]}addTag(e){Da(this.tags,e)}removeTag(e){Ra(this.tags,e)}selectorString(){return this.processor.selectorString(this.selectors)}documents(){return this.docIds.map((e=>this.processor.documents[e]))}documentWithBook(e){const t=Object.values(this.documents()).filter((t=>"bookCode"in t.headers&&t.headers.bookCode===e));return 1===t.length?t[0]:null}maybeBuildPreEnums(){0===Object.keys(this.preEnums).length&&this.buildPreEnums()}buildPreEnums(){for(const[e,t]of Object.entries(this.enums))this.preEnums[e]=Aa(0,t)}recordPreEnum(e,t){((e,t,n)=>{if(!(t in e.preEnums))throw new Error(`Unknown category ${t} in recordPreEnum. Maybe call buildPreEnums()?`);n.length>255&&console.log("Value length of",n.length,"in recordPreEnum"),e.preEnums[t].has(n)?e.preEnums[t].get(n).frequency++:e.preEnums[t].set(n,{enum:e.preEnums[t].size,frequency:1})})(this,e,t)}sortPreEnums(){for(const e of Object.keys(this.preEnums)){this.preEnums[e]=new Map([...this.preEnums[e].entries()].sort(((e,t)=>t[1].frequency-e[1].frequency)));let t=0;for(const[n,r]of this.preEnums[e])r.enum=t++}}enumForCategoryValue(e,t,n){return((e,t,n,r)=>{if(r||(r=!1),!(t in e.preEnums))throw new Error(`Unknown category ${t} in preEnums. Maybe call buildPreEnums()?`);if(e.preEnums[t].has(n))return e.preEnums[t].get(n).enum;if(r)return e.preEnums[t].set(n,{enum:e.preEnums[t].size,frequency:1}),e.enums[t].pushCountedString(n),e.buildEnumIndex(t),e.preEnums[t].get(n).enum;throw new Error(`Unknown value '${n}' for category ${t} in enumForCategoryValue. Maybe call buildPreEnums()?`)})(this,e,t,n)}buildEnums(){for(const[e,t]of Object.entries(this.preEnums))this.enums[e].clear(),this.buildEnum(e,t)}buildEnum(e,t){((e,t,n)=>{const r=new Map([...n.entries()]);for(const n of r.keys())n.length>255&&console.log("enum text for",t,"has length",n.length,"in buildEnum - truncating"),e.enums[t].pushCountedString(n.substring(0,255));e.enums[t].trim()})(this,e,t)}maybeBuildEnumIndexes(){0===Object.keys(this.enumIndexes).length&&this.buildEnumIndexes()}buildEnumIndexes(){this.enumIndexes=Fa(this.enums)}buildEnumIndex(e){this.enumIndexes[e]=Ua(e,this.enums[e])}unsuccinctifyBlock(e,t){return((e,t,n)=>{e.maybeBuildEnumIndexes();const r=t.bs,[s,o,i]=va.succinct.headerBytes(r,0),a=e.unsuccinctifyScope(r,o,i,0),c=e.unsuccinctifyGrafts(t.bg),u=e.unsuccinctifyScopes(t.os),d=e.unsuccinctifyScopes(t.is),l=t.nt.nByte(0);return{bs:a,bg:c,c:e.unsuccinctifyItems(t.c,n||{},l),os:u,is:d,nt:l}})(this,e,t)}unsuccinctifyItems(e,t,n,r){return((e,t,n,r,s)=>{if(void 0===r)throw new Error("nextToken (previously includeContext) must now be provided to unsuccinctifyItems");if(null!==r&&"number"!=typeof r)throw new Error(`nextToken (previously includeContext) must be null or an integer, not ${typeof r} '${JSON.stringify(r)}' in unsuccinctifyItems`);const o=[];let i=0,a=r||0;const c=new Set(s||[]),u=[va.itemDefs.itemEnum.startScope,va.itemDefs.itemEnum.endScope];for(;i<t.length;){const[s,d,l]=va.succinct.headerBytes(t,i);if(Object.keys(n).length>0){if(!n.scopes&&u.includes(d)){i+=s;continue}if(!n.tokens&&d===va.itemDefs.itemEnum.token){i+=s;continue}if(!n.grafts&&d===va.itemDefs.itemEnum.graft){i+=s;continue}}if(u.includes(d)){const e=va.succinct.succinctScopeType(l);if(Object.keys(n).length>0&&n.scopes&&n.excludeScopeTypes&&n.excludeScopeTypes.includes(e)){i+=s;continue}}const p=e.unsuccinctifyItem(t,i,{})[0];"token"===p[0]?(0===Object.keys(n).length||n.tokens)&&(null!==r&&(p.push("token"===p[0]&&"wordLike"===p[1]?a++:null),p.push([...c])),o.push(p)):"scope"===p[0]&&"start"===p[1]?(0===Object.keys(n).length||n.scopes)&&(c.add(p[2]),o.push(p)):"scope"===p[0]&&"end"===p[1]?(0===Object.keys(n).length||n.scopes)&&(c.delete(p[2]),o.push(p)):"graft"===p[0]&&(0===Object.keys(n).length||n.grafts)&&o.push(p),i+=s}return o})(this,e,t,n,r)}unsuccinctifyItem(e,t,n){return((e,t,n,r)=>{let s=null;const[o,i,a]=va.succinct.headerBytes(t,n);switch(i){case va.itemDefs.itemEnum.token:(0===Object.keys(r).length||r.tokens)&&(s=e.unsuccinctifyToken(t,a,n));break;case va.itemDefs.itemEnum.startScope:case va.itemDefs.itemEnum.endScope:(0===Object.keys(r).length||r.scopes)&&(s=e.unsuccinctifyScope(t,i,a,n));break;case va.itemDefs.itemEnum.graft:(0===Object.keys(r).length||r.grafts)&&(s=e.unsuccinctifyGraft(t,a,n))}return[s,o]})(this,e,t,n)}unsuccinctifyPrunedItems(e,t){return((e,t,n)=>{const r=new Set(e.unsuccinctifyScopes(t.os).map((e=>e[2]))),s=n.requiredScopes||[],o=n.anyScope?()=>{for(const e of s)if(r.has(e))return!0;return 0===s.length}:()=>{for(const e of s)if(!r.has(e))return!1;return!0},i=e=>!n.withChars||0===n.withChars.length||"token"===e[0]&&n.withChars.includes(e[2]),a=[];for(const s of e.unsuccinctifyItems(t.c,n,t.nt.nByte(0),r))"scope"===s[0]&&"start"===s[1]&&r.add(s[2]),o()&&i(s)&&a.push(s),"scope"===s[0]&&"end"===s[1]&&r.delete(s[2]);return a})(this,e,t)}unsuccinctifyScopes(e){const t=[];let n=0;for(;n<e.length;){const[r,s,o]=La(e,n);t.push(this.unsuccinctifyScope(e,s,o,n)),n+=r}return t}unsuccinctifyGrafts(e){const t=[];let n=0;for(;n<e.length;){const[r,s,o]=La(e,n);t.push(this.unsuccinctifyGraft(e,o,n)),n+=r}return t}unsuccinctifyToken(e,t,n){try{return["token",Ja[t],this.succinctTokenChars(e,t,n)]}catch(e){throw new Error(`Error from unsuccinctifyToken: ${e}`)}}unsuccinctifyScope(e,t,n,r){try{return["scope",t===Va.startScope?"start":"end",this.succinctScopeLabel(e,n,r)]}catch(e){throw new Error(`Error from unsuccinctifyScope: ${e}`)}}unsuccinctifyGraft(e,t,n){try{return["graft",this.succinctGraftName(t),this.succinctGraftSeqId(e,n)]}catch(e){throw new Error(`Error from unsuccinctifyGraft: ${e}`)}}unsuccinctifyBlockScopeLabelsSet(e){const[t,n,r]=La(e.bs,0),s=this.unsuccinctifyScope(e.bs,n,r,0);return new Set(this.unsuccinctifyScopes(e.os).concat(this.unsuccinctifyScopes(e.is)).concat([s]).map((e=>e[2])))}unsuccinctifyItemsWithScriptureCV(e,t,n){return((e,t,n,r)=>{r=r||{};const s=new Set(e.unsuccinctifyScopes(t.os).map((e=>e[2]))),o=(()=>{if($.exec(n,$("^[1-9][0-9]*$")))return()=>s.has(`chapter/${n}`);if($.exec(n,$("^[1-9][0-9]*-[1-9][0-9]*$")))return()=>{const[e,t]=n.split("-").map((e=>parseInt(e)));if(e>t)throw new Error(`Chapter range must be from min to max, not '${n}'`);for(const n of[...Array(t-e+1).keys()].map((t=>`chapter/${t+e}`)))if(s.has(n))return!0;return!1};if($.exec(n,$("^[1-9][0-9]*:[0-9]+$")))return()=>{const[e,t]=n.split(":").map((e=>parseInt(e)));if(0===t)return s.has(`chapter/${e}`)&&0===[...s].filter((e=>e.startsWith("verse"))).length;for(const n of[`chapter/${e}`,`verse/${t}`])if(!s.has(n))return!1;return!0};if($.exec(n,$("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$")))return()=>{const[e,t]=n.split(":"),[r,o]=t.split("-").map((e=>parseInt(e)));if(r>o)throw new Error(`Verse range must be from min to max, not '${t}'`);const i=`chapter/${e}`,a=[...Array(o-r+1).keys()].map((e=>`verse/${e+r}`));if(!s.has(i))return!1;for(const e of a)if(s.has(e))return!0;return 0===r&&0===[...s].filter((e=>e.startsWith("verse"))).length};if($.exec(n,$("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$")))return()=>{const[e,t]=n.split("-"),[r,o]=e.split(":").map((e=>parseInt(e))),[i,a]=t.split(":").map((e=>parseInt(e)));if(r>i)throw new Error(`Chapter range must be from min to max, not '${r}-${a}'`);const c=[...s],u=c.filter((e=>e.startsWith("chapter/")));if(u.length>1)throw new Error(`Expected zero or one chapter for item, found ${u.length}`);const d=parseInt(u[0].split("/")[1]);return!(d<r||d>i)&&(d===r?c.filter((e=>e.startsWith("verse/")&&parseInt(e.split("/")[1])>=o)).length>0||0===o&&0===c.filter((e=>e.startsWith("verse"))).length:d!==i||c.filter((e=>e.startsWith("verse/")&&parseInt(e.split("/")[1])<=a)).length>0||0===a&&0===c.filter((e=>e.startsWith("verse"))).length)};throw new Error(`Bad cv reference '${n}'`)})(),i=e=>{if(r&&0!==Object.keys(r).length){const t=e[0];return"token"===t&&"tokens"in r||"graft"===t&&"grafts"in r||"scope"===t&&"scopes"in r}return!0},a=[];for(const n of e.unsuccinctifyItems(t.c,{},t.nt.nByte(0)))"scope"===n[0]&&"start"===n[1]&&s.add(n[2]),o()&&i(n)&&a.push(n),"scope"===n[0]&&"end"===n[1]&&s.delete(n[2]);return a})(this,e,t,n)}succinctTokenChars(e,t,n){return Ga(this.enums,this.enumIndexes,e,t,n)}succinctScopeLabel(e,t,n){return Ma(this.enums,this.enumIndexes,e,t,n)}succinctGraftName(e){return qa(this.enums,this.enumIndexes,e)}succinctGraftSeqId(e,t){return ja(this.enums,this.enumIndexes,e,t)}countItems(e){return((e,t)=>{let n=0,r=0;for(;r<t.length;)n++,r+=63&t.byte(r);return n})(0,e)}itemsByIndex(e,t,n){return((e,t,n,r)=>{let s=[];if(!n)return s;let o=n.startBlock,i=n.nextToken;for(;o<=n.endBlock;){let a=e.unsuccinctifyItems(t.blocks[o].c,{},i);const c=e.unsuccinctifyScopes(t.blocks[o].bs)[0],u=e.unsuccinctifyGrafts(t.blocks[o].bg);if(o===n.startBlock&&o===n.endBlock?a=a.slice(n.startItem,n.endItem+1):o===n.startBlock?a=a.slice(n.startItem):o===n.endBlock&&(a=a.slice(0,n.endItem+1)),r){let e=[];for(const t of a)e.push(t.concat(["token"===t[0]&&"wordLike"===t[1]?i++:null]));a=e}s.push([...u,["scope","start",c[2]],...a,["scope","end",c[2]]]),o++}return s})(this,e,t,n)}blocksWithScriptureCV(e,t){return((e,t,n)=>{if($.exec(n,$("^[1-9][0-9]*$"))){const r=[`chapter/${n}`];return t.filter((t=>e.allScopesInBlock(t,r)))}if($.exec(n,$("^[1-9][0-9]*-[1-9][0-9]*$"))){const[r,s]=n.split("-").map((e=>parseInt(e)));if(r>s)throw new Error(`Chapter range must be from min to max, not '${n}'`);const o=[...Array(s-r+1).keys()].map((e=>`chapter/${e+r}`));return t.filter((t=>e.anyScopeInBlock(t,o)))}if($.exec(n,$("^[1-9][0-9]*:[0-9]+$"))){const[r,s]=n.split(":").map((e=>parseInt(e)));if(0===s){const n=[`chapter/${r}`];return t.filter((t=>e.allScopesInBlock(t,n))).filter((t=>0===[...e.allBlockScopes(t)].filter((e=>e.startsWith("verse"))).length))}{const n=[`chapter/${r}`,`verse/${s}`];return t.filter((t=>e.allScopesInBlock(t,n)))}}if($.exec(n,$("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*$"))){const[r,s]=n.split(":"),[o,i]=s.split("-").map((e=>parseInt(e)));if(o>i)throw new Error(`Verse range must be from min to max, not '${s}'`);const a=[`chapter/${r}`],c=[...Array(i-o+1).keys()].map((e=>`verse/${e+o}`));return t.filter((t=>e.allScopesInBlock(t,a))).filter((t=>e.anyScopeInBlock(t,c)||0===o&&0===[...e.allBlockScopes(t)].filter((e=>e.startsWith("verse"))).length))}if($.exec(n,$("^[1-9][0-9]*:[0-9]+-[1-9][0-9]*:[0-9]+$"))){const[r,s]=n.split("-"),[o,i]=r.split(":").map((e=>parseInt(e))),[a,c]=s.split(":").map((e=>parseInt(e)));if(o>a)throw new Error(`Chapter range must be from min to max, not '${o}-${c}'`);const u=[...Array(a-o+1).keys()].map((e=>`chapter/${e+o}`));return t.filter((t=>e.anyScopeInBlock(t,u))).filter((t=>((t,n,r)=>[...e.unsuccinctifyScopes(t.os).map((e=>e[2])),...e.unsuccinctifyScopes(t.is).map((e=>e[2]))].filter((e=>e.startsWith("chapter/"))).map((e=>parseInt(e.split("/")[1]))).filter((e=>e>n&&e<r)).length>0)(t,o,a)||((t,n,r)=>[...e.unsuccinctifyScopes(t.os).map((e=>e[2])),...e.unsuccinctifyScopes(t.is).map((e=>e[2]))].includes(`chapter/${n}`)&&e.blockHasMatchingItem(t,((e,t)=>!!t.has(`chapter/${n}`)&&(Array.from(t).filter((e=>e.startsWith("verse/"))).filter((e=>parseInt(e.split("/")[1])>=r)).length>0||0===r&&"token"===e[0]&&e[2]&&0===Array.from(t).filter((e=>e.startsWith("verse"))).length)),{}))(t,o,i)||((t,n,r)=>[...e.unsuccinctifyScopes(t.os).map((e=>e[2])),...e.unsuccinctifyScopes(t.is).map((e=>e[2]))].includes(`chapter/${n}`)&&e.blockHasMatchingItem(t,((e,t)=>!!t.has(`chapter/${n}`)&&(Array.from(t).filter((e=>e.startsWith("verse/"))).filter((e=>parseInt(e.split("/")[1])<=r)).length>0||0===r&&"token"===e[0]&&e[2]&&0===Array.from(t).filter((e=>e.startsWith("verse"))).length)),{}))(t,a,c)))}throw new Error(`Bad cv reference '${n}'`)})(this,e,t)}allBlockScopes(e){return((e,t)=>{const[n,r,s]=va.succinct.headerBytes(t.bs,0),o=e.unsuccinctifyScope(t.bs,r,s,0);return new Set([...e.unsuccinctifyScopes(t.os).map((e=>e[2])),...e.unsuccinctifyScopes(t.is).map((e=>e[2])),o[2]])})(this,e)}allScopesInBlock(e,t){return((e,t,n)=>{const r=this.allBlockScopes(t);for(const e of n)if(!r.has(e))return!1;return!0})(0,e,t)}anyScopeInBlock(e,t){return((e,t,n)=>{const r=this.allBlockScopes(t);for(const e of n)if(r.has(e))return!0;return!1})(0,e,t)}blockHasBlockScope(e,t){return((e,t,n)=>{const[r,s,o]=va.succinct.headerBytes(t.bs,0);return e.unsuccinctifyScope(t.bs,s,o,0)[2]===n})(this,e,t)}blockHasChars(e,t){return((e,t,n)=>{let r=!1,s=0;const o=t.c;if(n.includes(-1))return!1;for(;!r&&s<o.length;){const[e,t]=va.succinct.headerBytes(o,s);t===va.itemDefs.itemEnum.token&&n.includes(o.nByte(s+2))&&(r=!0),s+=e}return r})(0,e,t)}blockHasMatchingItem(e,t,n){return((e,t,n,r)=>{const s=new Set(e.unsuccinctifyScopes(t.os).map((e=>e[2])));for(const o of e.unsuccinctifyItems(t.c,r,0)){if("scope"===o[0]&&"start"===o[1]&&s.add(o[2]),n(o,s))return!0;"scope"===o[0]&&"end"===o[1]&&s.delete(o[2])}return!1})(this,e,t,n)}sequenceItemsByScopes(e,t){return((e,t,n)=>{let r=[];const s=()=>{for(const e of n)if(!o(e))return!1;return!0},o=e=>{for(const t of r)if(t.startsWith(e))return t;return null};e.maybeBuildEnumIndexes();const i=[];let a=new Set([]),c=!0;for(const[n,o]of t.entries()){const[u,d,l]=va.succinct.headerBytes(o.bs,0),p=e.unsuccinctifyScope(o.bs,d,l,0)[2],f=["scope","start",p],h=["scope","end",p],m=e.unsuccinctifyGrafts(o.bg);r=new Set(e.unsuccinctifyScopes(o.os).map((e=>e[2])).concat([p]));for(const u of m.concat([f,...e.unsuccinctifyItems(o.c,{},o.nt.nByte(0),r),h]).concat(n!==t.length-1?[["token","lineSpace"," "]]:[])){if("scope"===u[0]&&"start"===u[1]&&a.add(u[2]),"token"===u[0]&&a.size>0){for(const e of Array.from(a))r.add(e);a.clear()}s()?(c&&i.push([[...r],[]]),i[i.length-1][1].push(u),c=!1):c=!0,"scope"===u[0]&&"end"===u[1]&&(r.delete(u[2]),a.delete(u[2]))}}return i})(this,e,t)}sequenceItemsByMilestones(e,t){return((e,t,n)=>{let r=new Set([]);const s=e=>"scope"===e[0]&&"start"===e[1]&&n.includes(e[2]);e.maybeBuildEnumIndexes();const o=[[[],[]]];for(const i of t){const[t,a,c]=va.succinct.headerBytes(i.bs,0),u=e.unsuccinctifyScope(i.bs,a,c,0)[2],d=e.unsuccinctifyGrafts(i.bg);r.add(u),e.unsuccinctifyScopes(i.os).forEach((e=>r.add(e[2])));const l=d.concat([u].concat(e.unsuccinctifyItems(i.c,{},i.nt.nByte(0))));for(const e of l){if("scope"===e[0]&&"start"===e[1]&&r.add(e[2]),s(e)){o[o.length-1][0]=[...r].sort(),o.push([[],[]]);for(const e of[...r].filter((e=>["blockTag","verse","verses","chapter"].includes(e.split("/")[0])||n.includes(e))))r.delete(e);r.add(u)}o[o.length-1][1].push(e)}o[o.length-1][1].push(["scope","end",u]),o[o.length-1][1].push(["token","punctuation","\n"])}return o[o.length-1][0]=[...r].sort(),o})(this,e,t)}rehash(){return(e=>{e.preEnums={};for(const t of Object.keys(e.enums))e.preEnums[t]=new Map;e.maybeBuildEnumIndexes();for(const t of e.documents())for(const n of Object.values(t.sequences))t.rerecordPreEnums(e,n);e.sortPreEnums();const t=e.makeRehashEnumMap();for(const n of e.documents())for(const e of Object.values(n.sequences))n.rewriteSequenceBlocks(e.id,t);return e.buildEnums(),e.buildEnumIndexes(),!0})(this)}makeRehashEnumMap(){return(e=>{const t={};for(const[n,r]of Object.entries(e.enums)){t[n]=[];let s=0;for(;s<r.length;){const o=r.byte(s),i=r.countedString(s);e.preEnums[n].has(i)?t[n].push(e.preEnums[n].get(i).enum):t[n].push(null),s+=o+1}}return t})(this)}updateItems(e,t,n,r){return((e,t,n,r,s)=>xa(this,t,n,r,"c",s))(0,e,t,n,r)}updateBlockGrafts(e,t,n,r){return Ca(this,e,t,n,r)}updateBlockScope(e,t,n,r){return((e,t,n,r,s)=>xa(this,t,n,r,"bs",[s]))(0,e,t,n,r)}updateOpenScopes(e,t,n,r){return((e,t,n,r,s)=>xa(this,t,n,r,"os",s))(0,e,t,n,r)}updateIncludedScopes(e,t,n,r){return((e,t,n,r,s)=>xa(this,t,n,r,"is",s))(0,e,t,n,r)}updateBlockIndexesAfterEdit(e,t){((e,t,n)=>{const r=(e,t,n)=>{const r=n.split("/"),s=Na[r[0]];if(!s&&0!==s)throw new Error(`"${r[0]}" is not a scope type`);const o=r.slice(1).map((t=>e.enumForCategoryValue("scopeBits",t,!0)));ka(t,Pa.startScope,s,o)},s=t.blocks[n],o=new Set,i=new Set;for(const t of e.unsuccinctifyScopes(s.os))i.add(t[2]);for(const t of e.unsuccinctifyItems(s.c,{scopes:!0},null))"start"===t[1]?(o.add(t[2]),i.add(t[2])):i.delete(t[2]);const a=Array.from(o),c=new Ta(a.length);for(const t of a)r(e,c,t);if(c.trim(),s.is=c,n<t.blocks.length-1){const s=t.blocks[n+1],o=s.os,a=new Set(e.unsuccinctifyScopes(o).map((e=>e[2])));if(!((e,t)=>{for(const n of Array.from(e))if(!t.has(n))return!1;for(const n of Array.from(t))if(!e.has(n))return!1;return!0})(i,a)){const o=new Ta(a.length);for(const t of Array.from(i))r(e,o,t);o.trim(),s.os=o,e.updateBlockIndexesAfterEdit(t,n+1)}}})(this,e,t)}updateBlockIndexesAfterFilter(e){((e,t)=>{const n=(e,t,n)=>{const r=n.split("/"),s=Na[r[0]];if(!s&&0!==s)throw new Error(`"${r[0]}" is not a scope type`);const o=r.slice(1).map((t=>e.enumForCategoryValue("scopeBits",t,!0)));ka(t,Pa.startScope,s,o)},r=new Set;for(const s of t.blocks){const t=Array.from(r),o=new Ta(t.length);for(const r of t)n(e,o,r);o.trim(),s.os=o;const i=new Set;for(const t of e.unsuccinctifyItems(s.c,{scopes:!0},null))"start"===t[1]?(i.add(t[2]),r.add(t[2])):r.delete(t[2]);const a=Array.from(i),c=new Ta(a.length);for(const t of a)n(e,c,t);c.trim(),s.is=c}})(this,e)}serializeSuccinct(){return(e=>{const t={id:e.id,metadata:{selectors:e.selectors},enums:{},docs:{},tags:Array.from(e.tags)};for(const[n,r]of Object.entries(e.enums))r.trim(),t.enums[n]=r.base64();t.docs={};for(const n of e.docIds)t.docs[n]=e.processor.documents[n].serializeSuccinct();return t})(this)}checksum(){const e=[...this.docIds].sort().join(" ");return xi.calculate(e)}}var Ka={},Wa={get exports(){return Ka},set exports(e){Ka=e}},Xa={},Ya={},za={},Za={},Qa={},ec={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce(((e,t)=>(t instanceof n&&(e[t.str]=(e[t.str]||0)+1),e)),{})}}function s(e,...t){const n=[e[0]];let s=0;for(;s<t.length;)a(n,t[s]),n.push(e[++s]);return new r(n)}e._Code=r,e.nil=new r(""),e._=s;const o=new r("+");function i(e,...t){const n=[u(e[0])];let s=0;for(;s<t.length;)n.push(o),a(n,t[s]),n.push(o,u(e[++s]));return function(e){let t=1;for(;t<e.length-1;){if(e[t]===o){const n=c(e[t-1],e[t+1]);if(void 0!==n){e.splice(t-1,3,n);continue}e[t++]="+"}t++}}(n),new r(n)}function a(e,t){var s;t instanceof r?e.push(...t._items):t instanceof n?e.push(t):e.push("number"==typeof(s=t)||"boolean"==typeof s||null===s?s:u(Array.isArray(s)?s.join(","):s))}function c(e,t){if('""'===t)return e;if('""'===e)return t;if("string"==typeof e){if(t instanceof n||'"'!==e[e.length-1])return;return"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0}return"string"!=typeof t||'"'!==t[0]||e instanceof n?void 0:`"${e}${t.slice(1)}`}function u(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.str=i,e.addCodeArg=a,e.strConcat=function(e,t){return t.emptyStr()?e:e.emptyStr()?t:i`${e}${t}`},e.stringify=function(e){return new r(u(e))},e.safeStringify=u,e.getProperty=function(t){return"string"==typeof t&&e.IDENTIFIER.test(t)?new r(`.${t}`):s`[${t}]`},e.getEsmExportName=function(t){if("string"==typeof t&&e.IDENTIFIER.test(t))return new r(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)},e.regexpCode=function(e){return new r(e.toString())}}(ec);var tc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ec;class n extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}var r,s;(s=r=e.UsedValueState||(e.UsedValueState={}))[s.Started=0]="Started",s[s.Completed=1]="Completed",e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof t.Name?e:this.name(e)}name(e){return new t.Name(this._newName(e))}_newName(e){return`${e}${(this._names[e]||this._nameGroup(e)).index++}`}_nameGroup(e){var t,n;if((null===(n=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===n?void 0:n.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}e.Scope=o;class i extends t.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:n,itemIndex:r}){this.value=e,this.scopePath=t._`.${new t.Name(n)}[${r}]`}}e.ValueScopeName=i;const a=t._`\n`;e.ValueScope=class extends o{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?a:t.nil}}get(){return this._scope}name(e){return new i(e,this._newName(e))}value(e,t){var n;if(void 0===t.ref)throw new Error("CodeGen: ref must be passed in value");const r=this.toName(e),{prefix:s}=r,o=null!==(n=t.key)&&void 0!==n?n:t.ref;let i=this._values[s];if(i){const e=i.get(o);if(e)return e}else i=this._values[s]=new Map;i.set(o,r);const a=this._scope[s]||(this._scope[s]=[]),c=a.length;return a[c]=t.ref,r.setValue(t,{property:s,itemIndex:c}),r}getValue(e,t){const n=this._values[e];if(n)return n.get(t)}scopeRefs(e,n=this._values){return this._reduceValues(n,(n=>{if(void 0===n.scopePath)throw new Error(`CodeGen: name "${n}" has no value`);return t._`${e}${n.scopePath}`}))}scopeCode(e=this._values,t,n){return this._reduceValues(e,(e=>{if(void 0===e.value)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,n)}_reduceValues(s,o,i={},a){let c=t.nil;for(const u in s){const d=s[u];if(!d)continue;const l=i[u]=i[u]||new Map;d.forEach((s=>{if(l.has(s))return;l.set(s,r.Started);let i=o(s);if(i){const n=this.opts.es5?e.varKinds.var:e.varKinds.const;c=t._`${c}${n} ${s} = ${i};${this.opts._n}`}else{if(!(i=null==a?void 0:a(s)))throw new n(s);c=t._`${c}${i}${this.opts._n}`}l.set(s,r.Completed)}))}return c}}}(tc),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ec,n=tc;var r=ec;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var s=tc;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(e,t){return this}}class i extends o{constructor(e,t,n){super(),this.varKind=e,this.name=t,this.rhs=n}render({es5:e,_n:t}){const r=e?n.varKinds.var:this.varKind,s=void 0===this.rhs?"":` = ${this.rhs}`;return`${r} ${this.name}${s};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=O(this.rhs,e,t)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class a extends o{constructor(e,t,n){super(),this.lhs=e,this.rhs=t,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,n){if(!(this.lhs instanceof t.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=O(this.rhs,e,n),this}get names(){return N(this.lhs instanceof t.Name?{}:{...this.lhs.names},this.rhs)}}class c extends a{constructor(e,t,n,r){super(e,n,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class u extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class d extends o{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}}class l extends o{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class p extends o{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=O(this.code,e,t),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class f extends o{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce(((t,n)=>t+n.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;for(;t--;){const n=e[t].optimizeNodes();Array.isArray(n)?e.splice(t,1,...n):n?e[t]=n:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){const{nodes:n}=this;let r=n.length;for(;r--;){const s=n[r];s.optimizeNames(e,t)||(_(e,s.names),n.splice(r,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce(((e,t)=>P(e,t.names)),{})}}class h extends f{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class m extends f{}class S extends h{}S.kind="else";class y extends h{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new S(e):e}return t?!1===e?t instanceof y?t:t.nodes:this.nodes.length?this:new y(x(e),t instanceof y?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var n;if(this.else=null===(n=this.else)||void 0===n?void 0:n.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=O(this.condition,e,t),this}get names(){const e=super.names;return N(e,this.condition),this.else&&P(e,this.else.names),e}}y.kind="if";class g extends h{}g.kind="for";class b extends g{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=O(this.iteration,e,t),this}get names(){return P(super.names,this.iteration.names)}}class v extends g{constructor(e,t,n,r){super(),this.varKind=e,this.name=t,this.from=n,this.to=r}render(e){const t=e.es5?n.varKinds.var:this.varKind,{name:r,from:s,to:o}=this;return`for(${t} ${r}=${s}; ${r}<${o}; ${r}++)`+super.render(e)}get names(){const e=N(super.names,this.from);return N(e,this.to)}}class E extends g{constructor(e,t,n,r){super(),this.loop=e,this.varKind=t,this.name=n,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=O(this.iterable,e,t),this}get names(){return P(super.names,this.iterable.names)}}class A extends h{constructor(e,t,n){super(),this.name=e,this.args=t,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}}A.kind="func";class T extends f{render(e){return"return "+super.render(e)}}T.kind="return";class w extends h{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var n,r;return super.optimizeNames(e,t),null===(n=this.catch)||void 0===n||n.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){const e=super.names;return this.catch&&P(e,this.catch.names),this.finally&&P(e,this.finally.names),e}}class k extends h{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}k.kind="catch";class I extends h{render(e){return"finally"+super.render(e)}}function P(e,t){for(const n in t)e[n]=(e[n]||0)+(t[n]||0);return e}function N(e,n){return n instanceof t._CodeOrName?P(e,n.names):e}function O(e,n,r){return e instanceof t.Name?o(e):(s=e)instanceof t._Code&&s._items.some((e=>e instanceof t.Name&&1===n[e.str]&&void 0!==r[e.str]))?new t._Code(e._items.reduce(((e,n)=>(n instanceof t.Name&&(n=o(n)),n instanceof t._Code?e.push(...n._items):e.push(n),e)),[])):e;var s;function o(e){const t=r[e.str];return void 0===t||1!==n[e.str]?e:(delete n[e.str],t)}}function _(e,t){for(const n in t)e[n]=(e[n]||0)-(t[n]||0)}function x(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:t._`!${R(e)}`}I.kind="finally",e.CodeGen=class{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new n.Scope({parent:e}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const n=this._extScope.value(e,t);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,n,r){const s=this._scope.toName(t);return void 0!==n&&r&&(this._constants[s.str]=n),this._leafNode(new i(e,s,n)),s}const(e,t,r){return this._def(n.varKinds.const,e,t,r)}let(e,t,r){return this._def(n.varKinds.let,e,t,r)}var(e,t,r){return this._def(n.varKinds.var,e,t,r)}assign(e,t,n){return this._leafNode(new a(e,t,n))}add(t,n){return this._leafNode(new c(t,e.operators.ADD,n))}code(e){return"function"==typeof e?e():e!==t.nil&&this._leafNode(new p(e)),this}object(...e){const n=["{"];for(const[r,s]of e)n.length>1&&n.push(","),n.push(r),(r!==s||this.opts.es5)&&(n.push(":"),(0,t.addCodeArg)(n,s));return n.push("}"),new t._Code(n)}if(e,t,n){if(this._blockNode(new y(e)),t&&n)this.code(t).else().code(n).endIf();else if(t)this.code(t).endIf();else if(n)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new y(e))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(y,S)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new b(e),t)}forRange(e,t,r,s,o=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const i=this._scope.toName(e);return this._for(new v(o,i,t,r),(()=>s(i)))}forOf(e,r,s,o=n.varKinds.const){const i=this._scope.toName(e);if(this.opts.es5){const e=r instanceof t.Name?r:this.var("_arr",r);return this.forRange("_i",0,t._`${e}.length`,(n=>{this.var(i,t._`${e}[${n}]`),s(i)}))}return this._for(new E("of",o,i,r),(()=>s(i)))}forIn(e,r,s,o=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties)return this.forOf(e,t._`Object.keys(${r})`,s);const i=this._scope.toName(e);return this._for(new E("in",o,i,r),(()=>s(i)))}endFor(){return this._endBlockNode(g)}label(e){return this._leafNode(new u(e))}break(e){return this._leafNode(new d(e))}return(e){const t=new T;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(e,t,n){if(!t&&!n)throw new Error('CodeGen: "try" without "catch" and "finally"');const r=new w;if(this._blockNode(r),this.code(e),t){const e=this.name("e");this._currNode=r.catch=new k(e),t(e)}return n&&(this._currNode=r.finally=new I,this.code(n)),this._endBlockNode(k,I)}throw(e){return this._leafNode(new l(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){const t=this._blockStarts.pop();if(void 0===t)throw new Error("CodeGen: not in self-balancing block");const n=this._nodes.length-t;if(n<0||void 0!==e&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=t,this}func(e,n=t.nil,r,s){return this._blockNode(new A(e,n,r)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){const n=this._currNode;if(n instanceof e||t&&n instanceof t)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}},e.not=x;const C=D(e.operators.AND);e.and=function(...e){return e.reduce(C)};const $=D(e.operators.OR);function D(e){return(n,r)=>n===t.nil?r:r===t.nil?n:t._`${R(n)} ${e} ${R(r)}`}function R(e){return e instanceof t.Name?e:t._`(${e})`}e.or=function(...e){return e.reduce($)}}(Qa);var nc={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=Qa,n=ec;function r(e,t=e.schema){const{opts:n,self:r}=e;if(!n.strictSchema)return;if("boolean"==typeof t)return;const s=r.RULES.keywords;for(const n in t)s[n]||f(e,`unknown keyword: "${n}"`)}function s(e,t){if("boolean"==typeof e)return!e;for(const n in e)if(t[n])return!0;return!1}function o(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function a({mergeNames:e,mergeToName:n,mergeValues:r,resultToName:s}){return(o,i,a,c)=>{const u=void 0===a?i:a instanceof t.Name?(i instanceof t.Name?e(o,i,a):n(o,i,a),a):i instanceof t.Name?(n(o,a,i),i):r(i,a);return c!==t.Name||u instanceof t.Name?u:s(o,u)}}function c(e,n){if(!0===n)return e.var("props",!0);const r=e.var("props",t._`{}`);return void 0!==n&&u(e,r,n),r}function u(e,n,r){Object.keys(r).forEach((r=>e.assign(t._`${n}${(0,t.getProperty)(r)}`,!0)))}e.toHash=function(e){const t={};for(const n of e)t[n]=!0;return t},e.alwaysValidSchema=function(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(r(e,t),!s(t,e.self.RULES.all))},e.checkUnknownRules=r,e.schemaHasRules=s,e.schemaHasRulesButRef=function(e,t){if("boolean"==typeof e)return!e;for(const n in e)if("$ref"!==n&&t.all[n])return!0;return!1},e.schemaRefOrVal=function({topSchemaRef:e,schemaPath:n},r,s,o){if(!o){if("number"==typeof r||"boolean"==typeof r)return r;if("string"==typeof r)return t._`${r}`}return t._`${e}${n}${(0,t.getProperty)(s)}`},e.unescapeFragment=function(e){return i(decodeURIComponent(e))},e.escapeFragment=function(e){return encodeURIComponent(o(e))},e.escapeJsonPointer=o,e.unescapeJsonPointer=i,e.eachItem=function(e,t){if(Array.isArray(e))for(const n of e)t(n);else t(e)},e.mergeEvaluated={props:a({mergeNames:(e,n,r)=>e.if(t._`${r} !== true && ${n} !== undefined`,(()=>{e.if(t._`${n} === true`,(()=>e.assign(r,!0)),(()=>e.assign(r,t._`${r} || {}`).code(t._`Object.assign(${r}, ${n})`)))})),mergeToName:(e,n,r)=>e.if(t._`${r} !== true`,(()=>{!0===n?e.assign(r,!0):(e.assign(r,t._`${r} || {}`),u(e,r,n))})),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:c}),items:a({mergeNames:(e,n,r)=>e.if(t._`${r} !== true && ${n} !== undefined`,(()=>e.assign(r,t._`${n} === true ? true : ${r} > ${n} ? ${r} : ${n}`))),mergeToName:(e,n,r)=>e.if(t._`${r} !== true`,(()=>e.assign(r,!0===n||t._`${r} > ${n} ? ${r} : ${n}`))),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},e.evaluatedPropsToName=c,e.setEvaluated=u;const d={};var l,p;function f(e,t,n=e.opts.strictSchema){if(n){if(t=`strict mode: ${t}`,!0===n)throw new Error(t);e.self.logger.warn(t)}}e.useFunc=function(e,t){return e.scopeValue("func",{ref:t,code:d[t.code]||(d[t.code]=new n._Code(t.code))})},(p=l=e.Type||(e.Type={}))[p.Num=0]="Num",p[p.Str=1]="Str",e.getErrorPath=function(e,n,r){if(e instanceof t.Name){const s=n===l.Num;return r?s?t._`"[" + ${e} + "]"`:t._`"['" + ${e} + "']"`:s?t._`"/" + ${e}`:t._`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,t.getProperty)(e).toString():"/"+o(e)},e.checkStrictMode=f}(nc);var rc={};Object.defineProperty(rc,"__esModule",{value:!0});const sc=Qa,oc={data:new sc.Name("data"),valCxt:new sc.Name("valCxt"),instancePath:new sc.Name("instancePath"),parentData:new sc.Name("parentData"),parentDataProperty:new sc.Name("parentDataProperty"),rootData:new sc.Name("rootData"),dynamicAnchors:new sc.Name("dynamicAnchors"),vErrors:new sc.Name("vErrors"),errors:new sc.Name("errors"),this:new sc.Name("this"),self:new sc.Name("self"),scope:new sc.Name("scope"),json:new sc.Name("json"),jsonPos:new sc.Name("jsonPos"),jsonLen:new sc.Name("jsonLen"),jsonPart:new sc.Name("jsonPart")};rc.default=oc,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Qa,n=nc,r=rc;function s(e,n){const s=e.const("err",n);e.if(t._`${r.default.vErrors} === null`,(()=>e.assign(r.default.vErrors,t._`[${s}]`)),t._`${r.default.vErrors}.push(${s})`),e.code(t._`${r.default.errors}++`)}function o(e,n){const{gen:r,validateName:s,schemaEnv:o}=e;o.$async?r.throw(t._`new ${e.ValidationError}(${n})`):(r.assign(t._`${s}.errors`,n),r.return(!1))}e.keywordError={message:({keyword:e})=>t.str`must pass "${e}" keyword validation`},e.keyword$DataError={message:({keyword:e,schemaType:n})=>n?t.str`"${e}" keyword must be ${n} ($data)`:t.str`"${e}" keyword is invalid ($data)`},e.reportError=function(n,r=e.keywordError,i,c){const{it:u}=n,{gen:d,compositeRule:l,allErrors:p}=u,f=a(n,r,i);(null!=c?c:l||p)?s(d,f):o(u,t._`[${f}]`)},e.reportExtraError=function(t,n=e.keywordError,i){const{it:c}=t,{gen:u,compositeRule:d,allErrors:l}=c;s(u,a(t,n,i)),d||l||o(c,r.default.vErrors)},e.resetErrorsCount=function(e,n){e.assign(r.default.errors,n),e.if(t._`${r.default.vErrors} !== null`,(()=>e.if(n,(()=>e.assign(t._`${r.default.vErrors}.length`,n)),(()=>e.assign(r.default.vErrors,null)))))},e.extendErrors=function({gen:e,keyword:n,schemaValue:s,data:o,errsCount:i,it:a}){if(void 0===i)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",i,r.default.errors,(i=>{e.const(c,t._`${r.default.vErrors}[${i}]`),e.if(t._`${c}.instancePath === undefined`,(()=>e.assign(t._`${c}.instancePath`,(0,t.strConcat)(r.default.instancePath,a.errorPath)))),e.assign(t._`${c}.schemaPath`,t.str`${a.errSchemaPath}/${n}`),a.opts.verbose&&(e.assign(t._`${c}.schema`,s),e.assign(t._`${c}.data`,o))}))};const i={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function a(e,n,s){const{createErrors:o}=e.it;return!1===o?t._`{}`:function(e,n,s={}){const{gen:o,it:a}=e,d=[c(a,s),u(e,s)];return function(e,{params:n,message:s},o){const{keyword:a,data:c,schemaValue:u,it:d}=e,{opts:l,propertyName:p,topSchemaRef:f,schemaPath:h}=d;o.push([i.keyword,a],[i.params,"function"==typeof n?n(e):n||t._`{}`]),l.messages&&o.push([i.message,"function"==typeof s?s(e):s]),l.verbose&&o.push([i.schema,u],[i.parentSchema,t._`${f}${h}`],[r.default.data,c]),p&&o.push([i.propertyName,p])}(e,n,d),o.object(...d)}(e,n,s)}function c({errorPath:e},{instancePath:s}){const o=s?t.str`${e}${(0,n.getErrorPath)(s,n.Type.Str)}`:e;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,o)]}function u({keyword:e,it:{errSchemaPath:r}},{schemaPath:s,parentSchema:o}){let a=o?r:t.str`${r}/${e}`;return s&&(a=t.str`${a}${(0,n.getErrorPath)(s,n.Type.Str)}`),[i.schemaPath,a]}}(Za),Object.defineProperty(za,"__esModule",{value:!0}),za.boolOrEmptySchema=za.topBoolOrEmptySchema=void 0;const ic=Za,ac=Qa,cc=rc,uc={message:"boolean schema is false"};function dc(e,t){const{gen:n,data:r}=e;(0,ic.reportError)({gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e},uc,void 0,t)}za.topBoolOrEmptySchema=function(e){const{gen:t,schema:n,validateName:r}=e;!1===n?dc(e,!1):"object"==typeof n&&!0===n.$async?t.return(cc.default.data):(t.assign(ac._`${r}.errors`,null),t.return(!0))},za.boolOrEmptySchema=function(e,t){const{gen:n,schema:r}=e;!1===r?(n.var(t,!1),dc(e)):n.var(t,!0)};var lc={},pc={};Object.defineProperty(pc,"__esModule",{value:!0}),pc.getRules=pc.isJSONType=void 0;const fc=new Set(["string","number","integer","boolean","null","object","array"]);pc.isJSONType=function(e){return"string"==typeof e&&fc.has(e)},pc.getRules=function(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}};var hc={};function mc(e,t){return t.rules.some((t=>Sc(e,t)))}function Sc(e,t){var n;return void 0!==e[t.keyword]||(null===(n=t.definition.implements)||void 0===n?void 0:n.some((t=>void 0!==e[t])))}Object.defineProperty(hc,"__esModule",{value:!0}),hc.shouldUseRule=hc.shouldUseGroup=hc.schemaHasRulesForType=void 0,hc.schemaHasRulesForType=function({schema:e,self:t},n){const r=t.RULES.types[n];return r&&!0!==r&&mc(e,r)},hc.shouldUseGroup=mc,hc.shouldUseRule=Sc,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=pc,n=hc,r=Za,s=Qa,o=nc;var i,a;function c(e){const n=Array.isArray(e)?e:e?[e]:[];if(n.every(t.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}(a=i=e.DataType||(e.DataType={}))[a.Correct=0]="Correct",a[a.Wrong=1]="Wrong",e.getSchemaTypes=function(e){const t=c(e.type);if(t.includes("null")){if(!1===e.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw new Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t},e.getJSONTypes=c,e.coerceAndCheckDataType=function(e,t){const{gen:r,data:o,opts:a}=e,c=function(e,t){return t?e.filter((e=>u.has(e)||"array"===t&&"array"===e)):[]}(t,a.coerceTypes),d=t.length>0&&!(0===c.length&&1===t.length&&(0,n.schemaHasRulesForType)(e,t[0]));if(d){const n=l(t,o,a.strictNumbers,i.Wrong);r.if(n,(()=>{c.length?function(e,t,n){const{gen:r,data:o,opts:i}=e,a=r.let("dataType",s._`typeof ${o}`),c=r.let("coerced",s._`undefined`);"array"===i.coerceTypes&&r.if(s._`${a} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,(()=>r.assign(o,s._`${o}[0]`).assign(a,s._`typeof ${o}`).if(l(t,o,i.strictNumbers),(()=>r.assign(c,o))))),r.if(s._`${c} !== undefined`);for(const e of n)(u.has(e)||"array"===e&&"array"===i.coerceTypes)&&d(e);function d(e){switch(e){case"string":return void r.elseIf(s._`${a} == "number" || ${a} == "boolean"`).assign(c,s._`"" + ${o}`).elseIf(s._`${o} === null`).assign(c,s._`""`);case"number":return void r.elseIf(s._`${a} == "boolean" || ${o} === null
              || (${a} == "string" && ${o} && ${o} == +${o})`).assign(c,s._`+${o}`);case"integer":return void r.elseIf(s._`${a} === "boolean" || ${o} === null
              || (${a} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(c,s._`+${o}`);case"boolean":return void r.elseIf(s._`${o} === "false" || ${o} === 0 || ${o} === null`).assign(c,!1).elseIf(s._`${o} === "true" || ${o} === 1`).assign(c,!0);case"null":return r.elseIf(s._`${o} === "" || ${o} === 0 || ${o} === false`),void r.assign(c,null);case"array":r.elseIf(s._`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${o} === null`).assign(c,s._`[${o}]`)}}r.else(),f(e),r.endIf(),r.if(s._`${c} !== undefined`,(()=>{r.assign(o,c),function({gen:e,parentData:t,parentDataProperty:n},r){e.if(s._`${t} !== undefined`,(()=>e.assign(s._`${t}[${n}]`,r)))}(e,c)}))}(e,t,c):f(e)}))}return d};const u=new Set(["string","number","integer","boolean","null"]);function d(e,t,n,r=i.Correct){const o=r===i.Correct?s.operators.EQ:s.operators.NEQ;let a;switch(e){case"null":return s._`${t} ${o} null`;case"array":a=s._`Array.isArray(${t})`;break;case"object":a=s._`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":a=c(s._`!(${t} % 1) && !isNaN(${t})`);break;case"number":a=c();break;default:return s._`typeof ${t} ${o} ${e}`}return r===i.Correct?a:(0,s.not)(a);function c(e=s.nil){return(0,s.and)(s._`typeof ${t} == "number"`,e,n?s._`isFinite(${t})`:s.nil)}}function l(e,t,n,r){if(1===e.length)return d(e[0],t,n,r);let i;const a=(0,o.toHash)(e);if(a.array&&a.object){const e=s._`typeof ${t} != "object"`;i=a.null?e:s._`!${t} || ${e}`,delete a.null,delete a.array,delete a.object}else i=s.nil;a.number&&delete a.integer;for(const e in a)i=(0,s.and)(i,d(e,t,n,r));return i}e.checkDataType=d,e.checkDataTypes=l;const p={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?s._`{type: ${e}}`:s._`{type: ${t}}`};function f(e){const t=function(e){const{gen:t,data:n,schema:r}=e,s=(0,o.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:n,schema:r.type,schemaCode:s,schemaValue:s,parentSchema:r,params:{},it:e}}(e);(0,r.reportError)(t,p)}e.reportTypeError=f}(lc);var yc={};Object.defineProperty(yc,"__esModule",{value:!0}),yc.assignDefaults=void 0;const gc=Qa,bc=nc;function vc(e,t,n){const{gen:r,compositeRule:s,data:o,opts:i}=e;if(void 0===n)return;const a=gc._`${o}${(0,gc.getProperty)(t)}`;if(s)return void(0,bc.checkStrictMode)(e,`default is ignored for: ${a}`);let c=gc._`${a} === undefined`;"empty"===i.useDefaults&&(c=gc._`${c} || ${a} === null || ${a} === ""`),r.if(c,gc._`${a} = ${(0,gc.stringify)(n)}`)}yc.assignDefaults=function(e,t){const{properties:n,items:r}=e.schema;if("object"===t&&n)for(const t in n)vc(e,t,n[t].default);else"array"===t&&Array.isArray(r)&&r.forEach(((t,n)=>vc(e,n,t.default)))};var Ec={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0}),Ac.validateUnion=Ac.validateArray=Ac.usePattern=Ac.callValidateCode=Ac.schemaProperties=Ac.allSchemaProperties=Ac.noPropertyInData=Ac.propertyInData=Ac.isOwnProperty=Ac.hasPropFunc=Ac.reportMissingProp=Ac.checkMissingProp=Ac.checkReportMissingProp=void 0;const Tc=Qa,wc=nc,kc=rc,Ic=nc;function Pc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:Tc._`Object.prototype.hasOwnProperty`})}function Nc(e,t,n){return Tc._`${Pc(e)}.call(${t}, ${n})`}function Oc(e,t,n,r){const s=Tc._`${t}${(0,Tc.getProperty)(n)} === undefined`;return r?(0,Tc.or)(s,(0,Tc.not)(Nc(e,t,n))):s}function _c(e){return e?Object.keys(e).filter((e=>"__proto__"!==e)):[]}Ac.checkReportMissingProp=function(e,t){const{gen:n,data:r,it:s}=e;n.if(Oc(n,r,t,s.opts.ownProperties),(()=>{e.setParams({missingProperty:Tc._`${t}`},!0),e.error()}))},Ac.checkMissingProp=function({gen:e,data:t,it:{opts:n}},r,s){return(0,Tc.or)(...r.map((r=>(0,Tc.and)(Oc(e,t,r,n.ownProperties),Tc._`${s} = ${r}`))))},Ac.reportMissingProp=function(e,t){e.setParams({missingProperty:t},!0),e.error()},Ac.hasPropFunc=Pc,Ac.isOwnProperty=Nc,Ac.propertyInData=function(e,t,n,r){const s=Tc._`${t}${(0,Tc.getProperty)(n)} !== undefined`;return r?Tc._`${s} && ${Nc(e,t,n)}`:s},Ac.noPropertyInData=Oc,Ac.allSchemaProperties=_c,Ac.schemaProperties=function(e,t){return _c(t).filter((n=>!(0,wc.alwaysValidSchema)(e,t[n])))},Ac.callValidateCode=function({schemaCode:e,data:t,it:{gen:n,topSchemaRef:r,schemaPath:s,errorPath:o},it:i},a,c,u){const d=u?Tc._`${e}, ${t}, ${r}${s}`:t,l=[[kc.default.instancePath,(0,Tc.strConcat)(kc.default.instancePath,o)],[kc.default.parentData,i.parentData],[kc.default.parentDataProperty,i.parentDataProperty],[kc.default.rootData,kc.default.rootData]];i.opts.dynamicRef&&l.push([kc.default.dynamicAnchors,kc.default.dynamicAnchors]);const p=Tc._`${d}, ${n.object(...l)}`;return c!==Tc.nil?Tc._`${a}.call(${c}, ${p})`:Tc._`${a}(${p})`};const xc=Tc._`new RegExp`;Ac.usePattern=function({gen:e,it:{opts:t}},n){const r=t.unicodeRegExp?"u":"",{regExp:s}=t.code,o=s(n,r);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:Tc._`${"new RegExp"===s.code?xc:(0,Ic.useFunc)(e,s)}(${n}, ${r})`})},Ac.validateArray=function(e){const{gen:t,data:n,keyword:r,it:s}=e,o=t.name("valid");if(s.allErrors){const e=t.let("valid",!0);return i((()=>t.assign(e,!1))),e}return t.var(o,!0),i((()=>t.break())),o;function i(s){const i=t.const("len",Tc._`${n}.length`);t.forRange("i",0,i,(n=>{e.subschema({keyword:r,dataProp:n,dataPropType:wc.Type.Num},o),t.if((0,Tc.not)(o),s)}))}},Ac.validateUnion=function(e){const{gen:t,schema:n,keyword:r,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some((e=>(0,wc.alwaysValidSchema)(s,e)))&&!s.opts.unevaluated)return;const o=t.let("valid",!1),i=t.name("_valid");t.block((()=>n.forEach(((n,s)=>{const a=e.subschema({keyword:r,schemaProp:s,compositeRule:!0},i);t.assign(o,Tc._`${o} || ${i}`),e.mergeValidEvaluated(a,i)||t.if((0,Tc.not)(o))})))),e.result(o,(()=>e.reset()),(()=>e.error(!0)))},Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.validateKeywordUsage=Ec.validSchemaType=Ec.funcKeywordCode=Ec.macroKeywordCode=void 0;const Cc=Qa,$c=rc,Dc=Ac,Rc=Za;function Bc(e){const{gen:t,data:n,it:r}=e;t.if(r.parentData,(()=>t.assign(n,Cc._`${r.parentData}[${r.parentDataProperty}]`)))}function qc(e,t,n){if(void 0===n)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof n?{ref:n}:{ref:n,code:(0,Cc.stringify)(n)})}Ec.macroKeywordCode=function(e,t){const{gen:n,keyword:r,schema:s,parentSchema:o,it:i}=e,a=t.macro.call(i.self,s,o,i),c=qc(n,r,a);!1!==i.opts.validateSchema&&i.self.validateSchema(a,!0);const u=n.name("valid");e.subschema({schema:a,schemaPath:Cc.nil,errSchemaPath:`${i.errSchemaPath}/${r}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,(()=>e.error(!0)))},Ec.funcKeywordCode=function(e,t){var n;const{gen:r,keyword:s,schema:o,parentSchema:i,$data:a,it:c}=e;!function({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}(c,t);const u=!a&&t.compile?t.compile.call(c.self,o,i,c):t.validate,d=qc(r,s,u),l=r.let("valid");function p(n=(t.async?Cc._`await `:Cc.nil)){const s=c.opts.passContext?$c.default.this:$c.default.self,o=!("compile"in t&&!a||!1===t.schema);r.assign(l,Cc._`${n}${(0,Dc.callValidateCode)(e,d,s,o)}`,t.modifying)}function f(e){var n;r.if((0,Cc.not)(null!==(n=t.valid)&&void 0!==n?n:l),e)}e.block$data(l,(function(){if(!1===t.errors)p(),t.modifying&&Bc(e),f((()=>e.error()));else{const n=t.async?function(){const e=r.let("ruleErrs",null);return r.try((()=>p(Cc._`await `)),(t=>r.assign(l,!1).if(Cc._`${t} instanceof ${c.ValidationError}`,(()=>r.assign(e,Cc._`${t}.errors`)),(()=>r.throw(t))))),e}():function(){const e=Cc._`${d}.errors`;return r.assign(e,null),p(Cc.nil),e}();t.modifying&&Bc(e),f((()=>function(e,t){const{gen:n}=e;n.if(Cc._`Array.isArray(${t})`,(()=>{n.assign($c.default.vErrors,Cc._`${$c.default.vErrors} === null ? ${t} : ${$c.default.vErrors}.concat(${t})`).assign($c.default.errors,Cc._`${$c.default.vErrors}.length`),(0,Rc.extendErrors)(e)}),(()=>e.error()))}(e,n)))}})),e.ok(null!==(n=t.valid)&&void 0!==n?n:l)},Ec.validSchemaType=function(e,t,n=!1){return!t.length||t.some((t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||n&&void 0===e))},Ec.validateKeywordUsage=function({schema:e,opts:t,self:n,errSchemaPath:r},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const i=s.dependencies;if(null==i?void 0:i.some((t=>!Object.prototype.hasOwnProperty.call(e,t))))throw new Error(`parent schema must have dependencies of ${o}: ${i.join(",")}`);if(s.validateSchema&&!s.validateSchema(e[o])){const e=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(s.validateSchema.errors);if("log"!==t.validateSchema)throw new Error(e);n.logger.error(e)}};var jc={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.extendSubschemaMode=jc.extendSubschemaData=jc.getSubschema=void 0;const Mc=Qa,Gc=nc;jc.getSubschema=function(e,{keyword:t,schemaProp:n,schema:r,schemaPath:s,errSchemaPath:o,topSchemaRef:i}){if(void 0!==t&&void 0!==r)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){const r=e.schema[t];return void 0===n?{schema:r,schemaPath:Mc._`${e.schemaPath}${(0,Mc.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:r[n],schemaPath:Mc._`${e.schemaPath}${(0,Mc.getProperty)(t)}${(0,Mc.getProperty)(n)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Gc.escapeFragment)(n)}`}}if(void 0!==r){if(void 0===s||void 0===o||void 0===i)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:s,topSchemaRef:i,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')},jc.extendSubschemaData=function(e,t,{dataProp:n,dataPropType:r,data:s,dataTypes:o,propertyName:i}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:a}=t;if(void 0!==n){const{errorPath:s,dataPathArr:o,opts:i}=t;c(a.let("data",Mc._`${t.data}${(0,Mc.getProperty)(n)}`,!0)),e.errorPath=Mc.str`${s}${(0,Gc.getErrorPath)(n,r,i.jsPropertySyntax)}`,e.parentDataProperty=Mc._`${n}`,e.dataPathArr=[...o,e.parentDataProperty]}function c(n){e.data=n,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,n]}void 0!==s&&(c(s instanceof Mc.Name?s:a.let("data",s,!0)),void 0!==i&&(e.propertyName=i)),o&&(e.dataTypes=o)},jc.extendSubschemaMode=function(e,{jtdDiscriminator:t,jtdMetadata:n,compositeRule:r,createErrors:s,allErrors:o}){void 0!==r&&(e.compositeRule=r),void 0!==s&&(e.createErrors=s),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=n};var Lc={},Uc=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(s=r;0!=s--;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(s=r;0!=s--;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;0!=s--;){var i=o[s];if(!e(t[i],n[i]))return!1}return!0}return t!=t&&n!=n},Fc={},Vc={get exports(){return Fc},set exports(e){Fc=e}}.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),Jc(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};function Jc(e,t,n,r,s,o,i,a,c,u){if(r&&"object"==typeof r&&!Array.isArray(r)){for(var d in t(r,s,o,i,a,c,u),r){var l=r[d];if(Array.isArray(l)){if(d in Vc.arrayKeywords)for(var p=0;p<l.length;p++)Jc(e,t,n,l[p],s+"/"+d+"/"+p,o,s,d,r,p)}else if(d in Vc.propsKeywords){if(l&&"object"==typeof l)for(var f in l)Jc(e,t,n,l[f],s+"/"+d+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),o,s,d,r,f)}else(d in Vc.keywords||e.allKeys&&!(d in Vc.skipKeywords))&&Jc(e,t,n,l,s+"/"+d,o,s,d,r)}n(r,s,o,i,a,c,u)}}Vc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},Vc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Vc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Vc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.getSchemaRefs=Lc.resolveUrl=Lc.normalizeId=Lc._getFullPath=Lc.getFullPath=Lc.inlineRef=void 0;const Hc=nc,Kc=Uc,Wc=Fc,Xc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);Lc.inlineRef=function(e,t=!0){return"boolean"==typeof e||(!0===t?!zc(e):!!t&&Zc(e)<=t)};const Yc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function zc(e){for(const t in e){if(Yc.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(zc))return!0;if("object"==typeof n&&zc(n))return!0}return!1}function Zc(e){let t=0;for(const n in e){if("$ref"===n)return 1/0;if(t++,!Xc.has(n)&&("object"==typeof e[n]&&(0,Hc.eachItem)(e[n],(e=>t+=Zc(e))),t===1/0))return 1/0}return t}function Qc(e,t="",n){!1!==n&&(t=nu(t));const r=e.parse(t);return eu(e,r)}function eu(e,t){return e.serialize(t).split("#")[0]+"#"}Lc.getFullPath=Qc,Lc._getFullPath=eu;const tu=/#\/?$/;function nu(e){return e?e.replace(tu,""):""}Lc.normalizeId=nu,Lc.resolveUrl=function(e,t,n){return n=nu(n),e.resolve(t,n)};const ru=/^[a-z_][-a-z0-9._]*$/i;Lc.getSchemaRefs=function(e,t){if("boolean"==typeof e)return{};const{schemaId:n,uriResolver:r}=this.opts,s=nu(e[n]||t),o={"":s},i=Qc(r,s,!1),a={},c=new Set;return Wc(e,{allKeys:!0},((e,t,r,s)=>{if(void 0===s)return;const l=i+t;let p=o[s];function f(t){const n=this.opts.uriResolver.resolve;if(t=nu(p?n(p,t):t),c.has(t))throw d(t);c.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?u(e,r.schema,t):t!==nu(l)&&("#"===t[0]?(u(e,a[t],t),a[t]=e):this.refs[t]=l),t}function h(e){if("string"==typeof e){if(!ru.test(e))throw new Error(`invalid anchor "${e}"`);f.call(this,`#${e}`)}}"string"==typeof e[n]&&(p=f.call(this,e[n])),h.call(this,e.$anchor),h.call(this,e.$dynamicAnchor),o[t]=p})),a;function u(e,t,n){if(void 0!==t&&!Kc(e,t))throw d(n)}function d(e){return new Error(`reference "${e}" resolves to more than one schema`)}},Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.getData=Ya.KeywordCxt=Ya.validateFunctionCode=void 0;const su=za,ou=lc,iu=hc,au=lc,cu=yc,uu=Ec,du=jc,lu=Qa,pu=rc,fu=Lc,hu=nc,mu=Za;function Su({gen:e,validateName:t,schema:n,schemaEnv:r,opts:s},o){s.code.es5?e.func(t,lu._`${pu.default.data}, ${pu.default.valCxt}`,r.$async,(()=>{e.code(lu._`"use strict"; ${yu(n,s)}`),function(e,t){e.if(pu.default.valCxt,(()=>{e.var(pu.default.instancePath,lu._`${pu.default.valCxt}.${pu.default.instancePath}`),e.var(pu.default.parentData,lu._`${pu.default.valCxt}.${pu.default.parentData}`),e.var(pu.default.parentDataProperty,lu._`${pu.default.valCxt}.${pu.default.parentDataProperty}`),e.var(pu.default.rootData,lu._`${pu.default.valCxt}.${pu.default.rootData}`),t.dynamicRef&&e.var(pu.default.dynamicAnchors,lu._`${pu.default.valCxt}.${pu.default.dynamicAnchors}`)}),(()=>{e.var(pu.default.instancePath,lu._`""`),e.var(pu.default.parentData,lu._`undefined`),e.var(pu.default.parentDataProperty,lu._`undefined`),e.var(pu.default.rootData,pu.default.data),t.dynamicRef&&e.var(pu.default.dynamicAnchors,lu._`{}`)}))}(e,s),e.code(o)})):e.func(t,lu._`${pu.default.data}, ${function(e){return lu._`{${pu.default.instancePath}="", ${pu.default.parentData}, ${pu.default.parentDataProperty}, ${pu.default.rootData}=${pu.default.data}${e.dynamicRef?lu._`, ${pu.default.dynamicAnchors}={}`:lu.nil}}={}`}(s)}`,r.$async,(()=>e.code(yu(n,s)).code(o)))}function yu(e,t){const n="object"==typeof e&&e[t.schemaId];return n&&(t.code.source||t.code.process)?lu._`/*# sourceURL=${n} */`:lu.nil}function gu({schema:e,self:t}){if("boolean"==typeof e)return!e;for(const n in e)if(t.RULES.all[n])return!0;return!1}function bu(e){return"boolean"!=typeof e.schema}function vu(e){(0,hu.checkUnknownRules)(e),function(e){const{schema:t,errSchemaPath:n,opts:r,self:s}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,hu.schemaHasRulesButRef)(t,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}(e)}function Eu(e,t){if(e.opts.jtd)return Tu(e,[],!1,t);const n=(0,ou.getSchemaTypes)(e.schema);Tu(e,n,!(0,ou.coerceAndCheckDataType)(e,n),t)}function Au({gen:e,schemaEnv:t,schema:n,errSchemaPath:r,opts:s}){const o=n.$comment;if(!0===s.$comment)e.code(lu._`${pu.default.self}.logger.log(${o})`);else if("function"==typeof s.$comment){const n=lu.str`${r}/$comment`,s=e.scopeValue("root",{ref:t.root});e.code(lu._`${pu.default.self}.opts.$comment(${o}, ${n}, ${s}.schema)`)}}function Tu(e,t,n,r){const{gen:s,schema:o,data:i,allErrors:a,opts:c,self:u}=e,{RULES:d}=u;function l(u){(0,iu.shouldUseGroup)(o,u)&&(u.type?(s.if((0,au.checkDataType)(u.type,i,c.strictNumbers)),wu(e,u),1===t.length&&t[0]===u.type&&n&&(s.else(),(0,au.reportTypeError)(e)),s.endIf()):wu(e,u),a||s.if(lu._`${pu.default.errors} === ${r||0}`))}!o.$ref||!c.ignoreKeywordsWithRef&&(0,hu.schemaHasRulesButRef)(o,d)?(c.jtd||function(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(function(e,t){t.length&&(e.dataTypes.length?(t.forEach((t=>{ku(e.dataTypes,t)||Iu(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)})),function(e,t){const n=[];for(const r of e.dataTypes)ku(t,r)?n.push(r):t.includes("integer")&&"number"===r&&n.push("integer");e.dataTypes=n}(e,t)):e.dataTypes=t)}(e,t),e.opts.allowUnionTypes||function(e,t){t.length>1&&(2!==t.length||!t.includes("null"))&&Iu(e,"use allowUnionTypes to allow union type keyword")}(e,t),function(e,t){const n=e.self.RULES.all;for(const r in n){const s=n[r];if("object"==typeof s&&(0,iu.shouldUseRule)(e.schema,s)){const{type:n}=s.definition;n.length&&!n.some((e=>{return r=e,(n=t).includes(r)||"number"===r&&n.includes("integer");var n,r}))&&Iu(e,`missing type "${n.join(",")}" for keyword "${r}"`)}}}(e,e.dataTypes))}(e,t),s.block((()=>{for(const e of d.rules)l(e);l(d.post)}))):s.block((()=>Nu(e,"$ref",d.all.$ref.definition)))}function wu(e,t){const{gen:n,schema:r,opts:{useDefaults:s}}=e;s&&(0,cu.assignDefaults)(e,t.type),n.block((()=>{for(const n of t.rules)(0,iu.shouldUseRule)(r,n)&&Nu(e,n.keyword,n.definition,t.type)}))}function ku(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function Iu(e,t){t+=` at "${e.schemaEnv.baseId+e.errSchemaPath}" (strictTypes)`,(0,hu.checkStrictMode)(e,t,e.opts.strictTypes)}Ya.validateFunctionCode=function(e){bu(e)&&(vu(e),gu(e))?function(e){const{schema:t,opts:n,gen:r}=e;Su(e,(()=>{n.$comment&&t.$comment&&Au(e),function(e){const{schema:t,opts:n}=e;void 0!==t.default&&n.useDefaults&&n.strictSchema&&(0,hu.checkStrictMode)(e,"default is ignored in the schema root")}(e),r.let(pu.default.vErrors,null),r.let(pu.default.errors,0),n.unevaluated&&function(e){const{gen:t,validateName:n}=e;e.evaluated=t.const("evaluated",lu._`${n}.evaluated`),t.if(lu._`${e.evaluated}.dynamicProps`,(()=>t.assign(lu._`${e.evaluated}.props`,lu._`undefined`))),t.if(lu._`${e.evaluated}.dynamicItems`,(()=>t.assign(lu._`${e.evaluated}.items`,lu._`undefined`)))}(e),Eu(e),function(e){const{gen:t,schemaEnv:n,validateName:r,ValidationError:s,opts:o}=e;n.$async?t.if(lu._`${pu.default.errors} === 0`,(()=>t.return(pu.default.data)),(()=>t.throw(lu._`new ${s}(${pu.default.vErrors})`))):(t.assign(lu._`${r}.errors`,pu.default.vErrors),o.unevaluated&&function({gen:e,evaluated:t,props:n,items:r}){n instanceof lu.Name&&e.assign(lu._`${t}.props`,n),r instanceof lu.Name&&e.assign(lu._`${t}.items`,r)}(e),t.return(lu._`${pu.default.errors} === 0`))}(e)}))}(e):Su(e,(()=>(0,su.topBoolOrEmptySchema)(e)))};class Pu{constructor(e,t,n){if((0,uu.validateKeywordUsage)(e,t,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,hu.schemaRefOrVal)(e,this.schema,n,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",xu(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,uu.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",pu.default.errors))}result(e,t,n){this.failResult((0,lu.not)(e),t,n)}failResult(e,t,n){this.gen.if(e),n?n():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,lu.not)(e),void 0,t)}fail(e){if(void 0===e)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail(lu._`${t} !== undefined && (${(0,lu.or)(this.invalid$data(),e)})`)}error(e,t,n){if(t)return this.setParams(t),this._error(e,n),void this.setParams({});this._error(e,n)}_error(e,t){(e?mu.reportExtraError:mu.reportError)(this,this.def.error,t)}$dataError(){(0,mu.reportError)(this,this.def.$dataError||mu.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,mu.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,n=lu.nil){this.gen.block((()=>{this.check$data(e,n),t()}))}check$data(e=lu.nil,t=lu.nil){if(!this.$data)return;const{gen:n,schemaCode:r,schemaType:s,def:o}=this;n.if((0,lu.or)(lu._`${r} === undefined`,t)),e!==lu.nil&&n.assign(e,!0),(s.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==lu.nil&&n.assign(e,!1)),n.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:n,def:r,it:s}=this;return(0,lu.or)(function(){if(n.length){if(!(t instanceof lu.Name))throw new Error("ajv implementation error");const e=Array.isArray(n)?n:[n];return lu._`${(0,au.checkDataTypes)(e,t,s.opts.strictNumbers,au.DataType.Wrong)}`}return lu.nil}(),function(){if(r.validateSchema){const n=e.scopeValue("validate$data",{ref:r.validateSchema});return lu._`!${n}(${t})`}return lu.nil}())}subschema(e,t){const n=(0,du.getSubschema)(this.it,e);(0,du.extendSubschemaData)(n,this.it,e),(0,du.extendSubschemaMode)(n,e);const r={...this.it,...n,items:void 0,props:void 0};return function(e,t){bu(e)&&(vu(e),gu(e))?function(e,t){const{schema:n,gen:r,opts:s}=e;s.$comment&&n.$comment&&Au(e),function(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,fu.resolveUrl)(e.opts.uriResolver,e.baseId,t))}(e),function(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}(e);const o=r.const("_errs",pu.default.errors);Eu(e,o),r.var(t,lu._`${o} === ${pu.default.errors}`)}(e,t):(0,su.boolOrEmptySchema)(e,t)}(r,t),r}mergeEvaluated(e,t){const{it:n,gen:r}=this;n.opts.unevaluated&&(!0!==n.props&&void 0!==e.props&&(n.props=hu.mergeEvaluated.props(r,e.props,n.props,t)),!0!==n.items&&void 0!==e.items&&(n.items=hu.mergeEvaluated.items(r,e.items,n.items,t)))}mergeValidEvaluated(e,t){const{it:n,gen:r}=this;if(n.opts.unevaluated&&(!0!==n.props||!0!==n.items))return r.if(t,(()=>this.mergeEvaluated(e,lu.Name))),!0}}function Nu(e,t,n,r){const s=new Pu(e,n,t);"code"in n?n.code(s,r):s.$data&&n.validate?(0,uu.funcKeywordCode)(s,n):"macro"in n?(0,uu.macroKeywordCode)(s,n):(n.compile||n.validate)&&(0,uu.funcKeywordCode)(s,n)}Ya.KeywordCxt=Pu;const Ou=/^\/(?:[^~]|~0|~1)*$/,_u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function xu(e,{dataLevel:t,dataNames:n,dataPathArr:r}){let s,o;if(""===e)return pu.default.rootData;if("/"===e[0]){if(!Ou.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);s=e,o=pu.default.rootData}else{const i=_u.exec(e);if(!i)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+i[1];if(s=i[2],"#"===s){if(a>=t)throw new Error(c("property/index",a));return r[t-a]}if(a>t)throw new Error(c("data",a));if(o=n[t-a],!s)return o}let i=o;const a=s.split("/");for(const e of a)e&&(o=lu._`${o}${(0,lu.getProperty)((0,hu.unescapeJsonPointer)(e))}`,i=lu._`${i} && ${o}`);return i;function c(e,n){return`Cannot access ${e} ${n} levels up, current level is ${t}`}}Ya.getData=xu;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});class $u extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Cu.default=$u;var Du={};Object.defineProperty(Du,"__esModule",{value:!0});const Ru=Lc;class Bu extends Error{constructor(e,t,n,r){super(r||`can't resolve reference ${n} from id ${t}`),this.missingRef=(0,Ru.resolveUrl)(e,t,n),this.missingSchema=(0,Ru.normalizeId)((0,Ru.getFullPath)(e,this.missingRef))}}Du.default=Bu;var qu={};Object.defineProperty(qu,"__esModule",{value:!0}),qu.resolveSchema=qu.getCompilingSchema=qu.resolveRef=qu.compileSchema=qu.SchemaEnv=void 0;const ju=Qa,Mu=Cu,Gu=rc,Lu=Lc,Uu=nc,Fu=Ya;class Vu{constructor(e){var t;let n;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,Lu.normalizeId)(null==n?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==n?void 0:n.$async,this.refs={}}}function Ju(e){const t=Ku.call(this,e);if(t)return t;const n=(0,Lu.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:r,lines:s}=this.opts.code,{ownProperties:o}=this.opts,i=new ju.CodeGen(this.scope,{es5:r,lines:s,ownProperties:o});let a;e.$async&&(a=i.scopeValue("Error",{ref:Mu.default,code:ju._`require("ajv/dist/runtime/validation_error").default`}));const c=i.scopeName("validate");e.validateName=c;const u={gen:i,allErrors:this.opts.allErrors,data:Gu.default.data,parentData:Gu.default.parentData,parentDataProperty:Gu.default.parentDataProperty,dataNames:[Gu.default.data],dataPathArr:[ju.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,ju.stringify)(e.schema)}:{ref:e.schema}),validateName:c,ValidationError:a,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:ju.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:ju._`""`,opts:this.opts,self:this};let d;try{this._compilations.add(e),(0,Fu.validateFunctionCode)(u),i.optimize(this.opts.code.optimize);const t=i.toString();d=`${i.scopeRefs(Gu.default.scope)}return ${t}`,this.opts.code.process&&(d=this.opts.code.process(d,e));const n=new Function(`${Gu.default.self}`,`${Gu.default.scope}`,d)(this,this.scope.get());if(this.scope.value(c,{ref:n}),n.errors=null,n.schema=e.schema,n.schemaEnv=e,e.$async&&(n.$async=!0),!0===this.opts.code.source&&(n.source={validateName:c,validateCode:t,scopeValues:i._values}),this.opts.unevaluated){const{props:e,items:t}=u;n.evaluated={props:e instanceof ju.Name?void 0:e,items:t instanceof ju.Name?void 0:t,dynamicProps:e instanceof ju.Name,dynamicItems:t instanceof ju.Name},n.source&&(n.source.evaluated=(0,ju.stringify)(n.evaluated))}return e.validate=n,e}catch(t){throw delete e.validate,delete e.validateName,d&&this.logger.error("Error compiling schema, function code:",d),t}finally{this._compilations.delete(e)}}function Hu(e){return(0,Lu.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ju.call(this,e)}function Ku(e){for(const r of this._compilations)if(n=e,(t=r).schema===n.schema&&t.root===n.root&&t.baseId===n.baseId)return r;var t,n}function Wu(e,t){let n;for(;"string"==typeof(n=this.refs[t]);)t=n;return n||this.schemas[t]||Xu.call(this,e,t)}function Xu(e,t){const n=this.opts.uriResolver.parse(t),r=(0,Lu._getFullPath)(this.opts.uriResolver,n);let s=(0,Lu.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===s)return zu.call(this,n,e);const o=(0,Lu.normalizeId)(r),i=this.refs[o]||this.schemas[o];if("string"==typeof i){const t=Xu.call(this,e,i);if("object"!=typeof(null==t?void 0:t.schema))return;return zu.call(this,n,t)}if("object"==typeof(null==i?void 0:i.schema)){if(i.validate||Ju.call(this,i),o===(0,Lu.normalizeId)(t)){const{schema:t}=i,{schemaId:n}=this.opts,r=t[n];return r&&(s=(0,Lu.resolveUrl)(this.opts.uriResolver,s,r)),new Vu({schema:t,schemaId:n,root:e,baseId:s})}return zu.call(this,n,i)}}qu.SchemaEnv=Vu,qu.compileSchema=Ju,qu.resolveRef=function(e,t,n){var r;n=(0,Lu.resolveUrl)(this.opts.uriResolver,t,n);const s=e.refs[n];if(s)return s;let o=Wu.call(this,e,n);if(void 0===o){const s=null===(r=e.localRefs)||void 0===r?void 0:r[n],{schemaId:i}=this.opts;s&&(o=new Vu({schema:s,schemaId:i,root:e,baseId:t}))}return void 0!==o?e.refs[n]=Hu.call(this,o):void 0},qu.getCompilingSchema=Ku,qu.resolveSchema=Xu;const Yu=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function zu(e,{baseId:t,schema:n,root:r}){var s;if("/"!==(null===(s=e.fragment)||void 0===s?void 0:s[0]))return;for(const r of e.fragment.slice(1).split("/")){if("boolean"==typeof n)return;const e=n[(0,Uu.unescapeFragment)(r)];if(void 0===e)return;const s="object"==typeof(n=e)&&n[this.opts.schemaId];!Yu.has(r)&&s&&(t=(0,Lu.resolveUrl)(this.opts.uriResolver,t,s))}let o;if("boolean"!=typeof n&&n.$ref&&!(0,Uu.schemaHasRulesButRef)(n,this.RULES)){const e=(0,Lu.resolveUrl)(this.opts.uriResolver,t,n.$ref);o=Xu.call(this,r,e)}const{schemaId:i}=this.opts;return o=o||new Vu({schema:n,schemaId:i,root:r,baseId:t}),o.schema!==o.root.schema?o:void 0}const Zu={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var Qu={},ed={};(function(e){function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,s=1;s<r;++s)t[s]=t[s].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function s(e){return e.toUpperCase()}function o(e){var r="[A-Za-z]",s="[0-9]",o=t(s,"[A-Fa-f]"),i=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",c=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",d=t(r,s,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");n(r+t(r,s,"[\\+\\-\\.]")+"*"),n(n(i+"|"+t(d,a,"[\\:]"))+"*");var l=n(n("25[0-5]")+"|"+n("2[0-4]"+s)+"|"+n("1"+s+s)+"|"+n("0?[1-9]"+s)+"|0?0?"+s),p=n(l+"\\."+l+"\\."+l+"\\."+l),f=n(o+"{1,4}"),h=n(n(f+"\\:"+f)+"|"+p),m=n(n(f+"\\:")+"{6}"+h),S=n("\\:\\:"+n(f+"\\:")+"{5}"+h),y=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+h),g=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+h),b=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+h),v=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+h),E=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+h),A=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),T=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),w=n([m,S,y,g,b,v,E,A,T].join("|")),k=n(n(d+"|"+i)+"+");n("[vV]"+o+"+\\."+t(d,a,"[\\:]")+"+"),n(n(i+"|"+t(d,a))+"*");var I=n(i+"|"+t(d,a,"[\\:\\@]"));return n(n(i+"|"+t(d,a,"[\\@]"))+"+"),n(n(I+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",r,s,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",d,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",d,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",d,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",d,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",d,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",d,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",d,a),"g"),UNRESERVED:new RegExp(d,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",d,c),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+p+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+k+")")+"?\\]?$")}}var i=o(!1),a=o(!0),c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(s)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,d=36,l=/^xn--/,p=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},m=Math.floor,S=String.fromCharCode;function y(e){throw new RangeError(h[e])}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}((e=e.replace(f,".")).split("."),t).join(".")}function b(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&s)<<10)+(1023&o)+65536):(t.push(s),n--)}else t.push(s)}return t}var v=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},E=function(e,t,n){var r=0;for(e=n?m(e/700):e>>1,e+=m(e/t);e>455;r+=d)e=m(e/35);return m(r+36*e/(e+38))},A=function(e){var t,n=[],r=e.length,s=0,o=128,i=72,a=e.lastIndexOf("-");a<0&&(a=0);for(var c=0;c<a;++c)e.charCodeAt(c)>=128&&y("not-basic"),n.push(e.charCodeAt(c));for(var l=a>0?a+1:0;l<r;){for(var p=s,f=1,h=d;;h+=d){l>=r&&y("invalid-input");var S=(t=e.charCodeAt(l++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:d;(S>=d||S>m((u-s)/f))&&y("overflow"),s+=S*f;var g=h<=i?1:h>=i+26?26:h-i;if(S<g)break;var b=d-g;f>m(u/b)&&y("overflow"),f*=b}var v=n.length+1;i=E(s-p,v,0==p),m(s/v)>u-o&&y("overflow"),o+=m(s/v),s%=v,n.splice(s++,0,o)}return String.fromCodePoint.apply(String,n)},T=function(e){var t=[],n=(e=b(e)).length,r=128,s=0,o=72,i=!0,a=!1,c=void 0;try{for(var l,p=e[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var f=l.value;f<128&&t.push(S(f))}}catch(e){a=!0,c=e}finally{try{!i&&p.return&&p.return()}finally{if(a)throw c}}var h=t.length,g=h;for(h&&t.push("-");g<n;){var A=u,T=!0,w=!1,k=void 0;try{for(var I,P=e[Symbol.iterator]();!(T=(I=P.next()).done);T=!0){var N=I.value;N>=r&&N<A&&(A=N)}}catch(e){w=!0,k=e}finally{try{!T&&P.return&&P.return()}finally{if(w)throw k}}var O=g+1;A-r>m((u-s)/O)&&y("overflow"),s+=(A-r)*O,r=A;var _=!0,x=!1,C=void 0;try{for(var $,D=e[Symbol.iterator]();!(_=($=D.next()).done);_=!0){var R=$.value;if(R<r&&++s>u&&y("overflow"),R==r){for(var B=s,q=d;;q+=d){var j=q<=o?1:q>=o+26?26:q-o;if(B<j)break;var M=B-j,G=d-j;t.push(S(v(j+M%G,0))),B=m(M/G)}t.push(S(v(B,0))),o=E(s,O,g==h),s=0,++g}}}catch(e){x=!0,C=e}finally{try{!_&&D.return&&D.return()}finally{if(x)throw C}}++s,++r}return t.join("")},w={version:"2.1.0",ucs2:{decode:b,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:A,encode:T,toASCII:function(e){return g(e,(function(e){return p.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return g(e,(function(e){return l.test(e)?A(e.slice(4).toLowerCase()):e}))}},k={};function I(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function P(e){for(var t="",n=0,r=e.length;n<r;){var s=parseInt(e.substr(n+1,2),16);if(s<128)t+=String.fromCharCode(s),n+=3;else if(s>=194&&s<224){if(r-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&s)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(s>=224){if(r-n>=9){var i=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function N(e,t){function n(e){var n=P(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,I).replace(t.PCT_ENCODED,s)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,I).replace(t.PCT_ENCODED,s)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,I).replace(t.PCT_ENCODED,s)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,I).replace(t.PCT_ENCODED,s)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,I).replace(t.PCT_ENCODED,s)),e}function O(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=c(n,2)[1];return r?r.split(".").map(O).join("."):e}function x(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=c(n,3),s=r[1],o=r[2];if(s){for(var i=s.toLowerCase().split("::").reverse(),a=c(i,2),u=a[0],d=a[1],l=d?d.split(":").map(O):[],p=u.split(":").map(O),f=t.IPV4ADDRESS.test(p[p.length-1]),h=f?7:8,m=p.length-h,S=Array(h),y=0;y<h;++y)S[y]=l[y]||p[m+y]||"";f&&(S[h-1]=_(S[h-1],t));var g=S.reduce((function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var v=S.slice(0,g.index),E=S.slice(g.index+g.length);b=v.join(":")+"::"+E.join(":")}else b=S.join(":");return o&&(b+="%"+o),b}return e}var C=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,$=void 0==="".match(/(){0}/)[1];function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?a:i;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var s=e.match(C);if(s){$?(n.scheme=s[1],n.userinfo=s[3],n.host=s[4],n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=s[7],n.fragment=s[8],isNaN(n.port)&&(n.port=s[5])):(n.scheme=s[1]||void 0,n.userinfo=-1!==e.indexOf("@")?s[3]:void 0,n.host=-1!==e.indexOf("//")?s[4]:void 0,n.port=parseInt(s[5],10),n.path=s[6]||"",n.query=-1!==e.indexOf("?")?s[7]:void 0,n.fragment=-1!==e.indexOf("#")?s[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?s[4]:void 0)),n.host&&(n.host=x(_(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=k[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)N(n,r);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=w.toASCII(n.host.replace(r.PCT_ENCODED,P).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}N(n,i)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}var R=/^\.\.?\//,B=/^\/\.(\/|$)/,q=/^\/\.\.(\/|$)/,j=/^\/?(?:.|\n)*?(?=\/|$)/;function M(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(B))e=e.replace(B,"/");else if(e.match(q))e=e.replace(q,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(j);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:i,r=[],s=k[(t.scheme||e.scheme||"").toLowerCase()];if(s&&s.serialize&&s.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||s&&s.domainHost)try{e.host=t.iri?w.toUnicode(e.host):w.toASCII(e.host.replace(n.PCT_ENCODED,P).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}N(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var o=function(e,t){var n=!1!==t.iri?a:i,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(x(_(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(r.push(":"),r.push(String(e.port))),r.length?r.join(""):void 0}(e,t);if(void 0!==o&&("suffix"!==t.reference&&r.push("//"),r.push(o),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var c=e.path;t.absolutePath||s&&s.absolutePath||(c=M(c)),void 0===o&&(c=c.replace(/^\/\//,"/%2F")),r.push(c)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function L(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};return arguments[3]||(e=D(G(e,n),n),t=D(G(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=M(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=M(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=M(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=M(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function U(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:i.PCT_ENCODED,P)}var F={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},V={scheme:"https",domainHost:F.domainHost,parse:F.parse,serialize:F.serialize};function J(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var H={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=J(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(J(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),r=c(n,2),s=r[0],o=r[1];e.path=s&&"/"!==s?s:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},W={},X="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Y="[0-9A-Fa-f]",z=n(n("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+n("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+n("%"+Y+Y)),Z=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(X,"g"),ee=new RegExp(z,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Z),"g"),ne=new RegExp(t("[^]",X,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),re=ne;function se(e){var t=P(e);return t.match(Q)?t:e}var oe={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var s=!1,o={},i=n.query.split("&"),a=0,c=i.length;a<c;++a){var u=i[a].split("=");switch(u[0]){case"to":for(var d=u[1].split(","),l=0,p=d.length;l<p;++l)r.push(d[l]);break;case"subject":n.subject=U(u[1],t);break;case"body":n.body=U(u[1],t);break;default:s=!0,o[U(u[0],t)]=U(u[1],t)}}s&&(n.headers=o)}n.query=void 0;for(var f=0,h=r.length;f<h;++f){var m=r[f].split("@");if(m[0]=U(m[0]),t.unicodeSupport)m[1]=U(m[1],t).toLowerCase();else try{m[1]=w.toASCII(U(m[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[f]=m.join("@")}return n},serialize:function(e,t){var n=e,r=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(r){for(var o=0,i=r.length;o<i;++o){var a=String(r[o]),c=a.lastIndexOf("@"),u=a.slice(0,c).replace(ee,se).replace(ee,s).replace(te,I),d=a.slice(c+1);try{d=t.iri?w.toUnicode(d):w.toASCII(U(d,t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}r[o]=u+"@"+d}n.path=r.join(",")}var l=e.headers=e.headers||{};e.subject&&(l.subject=e.subject),e.body&&(l.body=e.body);var p=[];for(var f in l)l[f]!==W[f]&&p.push(f.replace(ee,se).replace(ee,s).replace(ne,I)+"="+l[f].replace(ee,se).replace(ee,s).replace(re,I));return p.length&&(n.query=p.join("&")),n}},ie=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ie),r=e;if(n){var s=t.scheme||r.scheme||"urn",o=n[1].toLowerCase(),i=n[2],a=s+":"+(t.nid||o),c=k[a];r.nid=o,r.nss=i,r.path=void 0,c&&(r=c.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,s=n+":"+(t.nid||r),o=k[s];o&&(e=o.serialize(e,t));var i=e,a=e.nss;return i.path=(r||t.nid)+":"+a,i}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ue={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ce)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};k[F.scheme]=F,k[V.scheme]=V,k[H.scheme]=H,k[K.scheme]=K,k[oe.scheme]=oe,k[ae.scheme]=ae,k[ue.scheme]=ue,e.SCHEMES=k,e.pctEncChar=I,e.pctDecChars=P,e.parse=D,e.removeDotSegments=M,e.serialize=G,e.resolveComponents=L,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return G(L(D(e,r),D(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=G(D(e,t),t):"object"===r(e)&&(e=D(G(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=G(D(e,n),n):"object"===r(e)&&(e=G(e,n)),"string"==typeof t?t=G(D(t,n),n):"object"===r(t)&&(t=G(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:i.ESCAPE,I)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0})})(ed),Object.defineProperty(Qu,"__esModule",{value:!0});const td=ed;td.code='require("ajv/dist/runtime/uri").default',Qu.default=td,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ya;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Qa;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=Cu,s=Du,o=pc,i=qu,a=Qa,c=Lc,u=lc,d=nc,l=Zu,p=Qu,f=(e,t)=>new RegExp(e,t);f.code="new RegExp";const h=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function g(e){var t,n,r,s,o,i,a,c,u,d,l,h,m,S,y,g,b,v,E,A,T,w,k,I,P;const N=e.strict,O=null===(t=e.code)||void 0===t?void 0:t.optimize,_=!0===O||void 0===O?1:O||0,x=null!==(r=null===(n=e.code)||void 0===n?void 0:n.regExp)&&void 0!==r?r:f,C=null!==(s=e.uriResolver)&&void 0!==s?s:p.default;return{strictSchema:null===(i=null!==(o=e.strictSchema)&&void 0!==o?o:N)||void 0===i||i,strictNumbers:null===(c=null!==(a=e.strictNumbers)&&void 0!==a?a:N)||void 0===c||c,strictTypes:null!==(d=null!==(u=e.strictTypes)&&void 0!==u?u:N)&&void 0!==d?d:"log",strictTuples:null!==(h=null!==(l=e.strictTuples)&&void 0!==l?l:N)&&void 0!==h?h:"log",strictRequired:null!==(S=null!==(m=e.strictRequired)&&void 0!==m?m:N)&&void 0!==S&&S,code:e.code?{...e.code,optimize:_,regExp:x}:{optimize:_,regExp:x},loopRequired:null!==(y=e.loopRequired)&&void 0!==y?y:200,loopEnum:null!==(g=e.loopEnum)&&void 0!==g?g:200,meta:null===(b=e.meta)||void 0===b||b,messages:null===(v=e.messages)||void 0===v||v,inlineRefs:null===(E=e.inlineRefs)||void 0===E||E,schemaId:null!==(A=e.schemaId)&&void 0!==A?A:"$id",addUsedSchema:null===(T=e.addUsedSchema)||void 0===T||T,validateSchema:null===(w=e.validateSchema)||void 0===w||w,validateFormats:null===(k=e.validateFormats)||void 0===k||k,unicodeRegExp:null===(I=e.unicodeRegExp)||void 0===I||I,int32range:null===(P=e.int32range)||void 0===P||P,uriResolver:C}}class b{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...g(e)};const{es5:t,lines:n}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:m,es5:t,lines:n}),this.logger=function(e){if(!1===e)return I;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}(e.logger);const r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,o.getRules)(),v.call(this,S,e,"NOT SUPPORTED"),v.call(this,y,e,"DEPRECATED","warn"),this._metaOpts=k.call(this),e.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&w.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),A.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:n}=this.opts;let r=l;"id"===n&&(r={...l},r.id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[n],!1)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let n;if("string"==typeof e){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);const r=n(t);return"$async"in n||(this.errors=n.errors),r}compile(e,t){const n=this._addSchema(e,t);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:n}=this.opts;return r.call(this,e,t);async function r(e,t){await o.call(this,e.$schema);const n=this._addSchema(e,t);return n.validate||i.call(this,n)}async function o(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function i(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof s.default))throw t;return a.call(this,t),await c.call(this,t.missingSchema),i.call(this,e)}}function a({missingSchema:e,missingRef:t}){if(this.refs[e])throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function c(e){const n=await u.call(this,e);this.refs[e]||await o.call(this,n.$schema),this.refs[e]||this.addSchema(n,e,t)}async function u(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=n(e))}finally{delete this._loading[e]}}}addSchema(e,t,n,r=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,void 0,n,r);return this}let s;if("object"==typeof e){const{schemaId:t}=this.opts;if(s=e[t],void 0!==s&&"string"!=typeof s)throw new Error(`schema ${t} must be string`)}return t=(0,c.normalizeId)(t||s),this._checkUnique(t),this.schemas[t]=this._addSchema(e,n,t,r,!0),this}addMetaSchema(e,t,n=this.opts.validateSchema){return this.addSchema(e,t,!0,n),this}validateSchema(e,t){if("boolean"==typeof e)return!0;let n;if(n=e.$schema,void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(n,e);if(!r&&t){const e="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(e);this.logger.error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=E.call(this,e));)e=t;if(void 0===t){const{schemaId:n}=this.opts,r=new i.SchemaEnv({schema:{},schemaId:n});if(t=i.resolveSchema.call(this,r,e),!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const t=E.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{const t=e;this._cache.delete(t);let n=e[this.opts.schemaId];return n&&(n=(0,c.normalizeId)(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let n;if("string"==typeof e)n=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=n);else{if("object"!=typeof e||void 0!==t)throw new Error("invalid addKeywords parameters");if(n=(t=e).keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(N.call(this,n,t),!t)return(0,d.eachItem)(n,(e=>O.call(this,e))),this;x.call(this,t);const r={...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)};return(0,d.eachItem)(n,0===r.type.length?e=>O.call(this,e,r):e=>r.type.forEach((t=>O.call(this,e,r,t)))),this}getKeyword(e){const t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e],delete t.all[e];for(const n of t.rules){const t=n.rules.findIndex((t=>t.keyword===e));t>=0&&n.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:n="data"}={}){return e&&0!==e.length?e.map((e=>`${n}${e.instancePath} ${e.message}`)).reduce(((e,n)=>e+t+n)):"No errors"}$dataMetaSchema(e,t){const n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const r of t){const t=r.split("/").slice(1);let s=e;for(const e of t)s=s[e];for(const e in n){const t=n[e];if("object"!=typeof t)continue;const{$data:r}=t.definition,o=s[e];r&&o&&(s[e]=$(o))}}return e}_removeAllSchemas(e,t){for(const n in e){const r=e[n];t&&!t.test(n)||("string"==typeof r?delete e[n]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[n]))}}_addSchema(e,t,n,r=this.opts.validateSchema,s=this.opts.addUsedSchema){let o;const{schemaId:a}=this.opts;if("object"==typeof e)o=e[a];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof e)throw new Error("schema must be object or boolean")}let u=this._cache.get(e);if(void 0!==u)return u;n=(0,c.normalizeId)(o||n);const d=c.getSchemaRefs.call(this,e,n);return u=new i.SchemaEnv({schema:e,schemaId:a,meta:t,baseId:n,localRefs:d}),this._cache.set(u.schema,u),s&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=u),r&&this.validateSchema(e,!0),u}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):i.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,e)}finally{this.opts=t}}}function v(e,t,n,r="error"){for(const s in e){const o=s;o in t&&this.logger[r](`${n}: option ${s}. ${e[o]}`)}}function E(e){return e=(0,c.normalizeId)(e),this.schemas[e]||this.refs[e]}function A(){const e=this.opts.schemas;if(e)if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function T(){for(const e in this.opts.formats){const t=this.opts.formats[e];t&&this.addFormat(e,t)}}function w(e){if(Array.isArray(e))this.addVocabulary(e);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const n=e[t];n.keyword||(n.keyword=t),this.addKeyword(n)}}}function k(){const e={...this.opts};for(const t of h)delete e[t];return e}e.default=b,b.ValidationError=r.default,b.MissingRefError=s.default;const I={log(){},warn(){},error(){}},P=/^[a-z_$][a-z0-9_$:-]*$/i;function N(e,t){const{RULES:n}=this;if((0,d.eachItem)(e,(e=>{if(n.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!P.test(e))throw new Error(`Keyword ${e} has invalid name`)})),t&&t.$data&&!("code"in t)&&!("validate"in t))throw new Error('$data keyword must have "code" or "validate" function')}function O(e,t,n){var r;const s=null==t?void 0:t.post;if(n&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:o}=this;let i=s?o.post:o.rules.find((({type:e})=>e===n));if(i||(i={type:n,rules:[]},o.rules.push(i)),o.keywords[e]=!0,!t)return;const a={keyword:e,definition:{...t,type:(0,u.getJSONTypes)(t.type),schemaType:(0,u.getJSONTypes)(t.schemaType)}};t.before?_.call(this,i,a,t.before):i.rules.push(a),o.all[e]=a,null===(r=t.implements)||void 0===r||r.forEach((e=>this.addKeyword(e)))}function _(e,t,n){const r=e.rules.findIndex((e=>e.keyword===n));r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${n} is not defined`))}function x(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=$(t)),e.validateSchema=this.compile(t,!0))}const C={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function $(e){return{anyOf:[e,C]}}}(Xa);var nd={},rd={},sd={};Object.defineProperty(sd,"__esModule",{value:!0});const od={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};sd.default=od;var id={};Object.defineProperty(id,"__esModule",{value:!0}),id.callRef=id.getValidate=void 0;const ad=Du,cd=Ac,ud=Qa,dd=rc,ld=qu,pd=nc,fd={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:r}=e,{baseId:s,schemaEnv:o,validateName:i,opts:a,self:c}=r,{root:u}=o;if(("#"===n||"#/"===n)&&s===u.baseId)return function(){if(o===u)return md(e,i,o,o.$async);const n=t.scopeValue("root",{ref:u});return md(e,ud._`${n}.validate`,u,u.$async)}();const d=ld.resolveRef.call(c,u,s,n);if(void 0===d)throw new ad.default(r.opts.uriResolver,s,n);return d instanceof ld.SchemaEnv?function(t){const n=hd(e,t);md(e,n,t,t.$async)}(d):function(r){const s=t.scopeValue("schema",!0===a.code.source?{ref:r,code:(0,ud.stringify)(r)}:{ref:r}),o=t.name("valid"),i=e.subschema({schema:r,dataTypes:[],schemaPath:ud.nil,topSchemaRef:s,errSchemaPath:n},o);e.mergeEvaluated(i),e.ok(o)}(d)}};function hd(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):ud._`${n.scopeValue("wrapper",{ref:t})}.validate`}function md(e,t,n,r){const{gen:s,it:o}=e,{allErrors:i,schemaEnv:a,opts:c}=o,u=c.passContext?dd.default.this:ud.nil;function d(e){const t=ud._`${e}.errors`;s.assign(dd.default.vErrors,ud._`${dd.default.vErrors} === null ? ${t} : ${dd.default.vErrors}.concat(${t})`),s.assign(dd.default.errors,ud._`${dd.default.vErrors}.length`)}function l(e){var t;if(!o.opts.unevaluated)return;const r=null===(t=null==n?void 0:n.validate)||void 0===t?void 0:t.evaluated;if(!0!==o.props)if(r&&!r.dynamicProps)void 0!==r.props&&(o.props=pd.mergeEvaluated.props(s,r.props,o.props));else{const t=s.var("props",ud._`${e}.evaluated.props`);o.props=pd.mergeEvaluated.props(s,t,o.props,ud.Name)}if(!0!==o.items)if(r&&!r.dynamicItems)void 0!==r.items&&(o.items=pd.mergeEvaluated.items(s,r.items,o.items));else{const t=s.var("items",ud._`${e}.evaluated.items`);o.items=pd.mergeEvaluated.items(s,t,o.items,ud.Name)}}r?function(){if(!a.$async)throw new Error("async schema referenced by sync schema");const n=s.let("valid");s.try((()=>{s.code(ud._`await ${(0,cd.callValidateCode)(e,t,u)}`),l(t),i||s.assign(n,!0)}),(e=>{s.if(ud._`!(${e} instanceof ${o.ValidationError})`,(()=>s.throw(e))),d(e),i||s.assign(n,!1)})),e.ok(n)}():e.result((0,cd.callValidateCode)(e,t,u),(()=>l(t)),(()=>d(t)))}id.getValidate=hd,id.callRef=md,id.default=fd,Object.defineProperty(rd,"__esModule",{value:!0});const Sd=id,yd=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sd.default,Sd.default];rd.default=yd;var gd={},bd={};Object.defineProperty(bd,"__esModule",{value:!0});const vd=Qa,Ed=vd.operators,Ad={maximum:{okStr:"<=",ok:Ed.LTE,fail:Ed.GT},minimum:{okStr:">=",ok:Ed.GTE,fail:Ed.LT},exclusiveMaximum:{okStr:"<",ok:Ed.LT,fail:Ed.GTE},exclusiveMinimum:{okStr:">",ok:Ed.GT,fail:Ed.LTE}},Td={message:({keyword:e,schemaCode:t})=>vd.str`must be ${Ad[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>vd._`{comparison: ${Ad[e].okStr}, limit: ${t}}`},wd={keyword:Object.keys(Ad),type:"number",schemaType:"number",$data:!0,error:Td,code(e){const{keyword:t,data:n,schemaCode:r}=e;e.fail$data(vd._`${n} ${Ad[t].fail} ${r} || isNaN(${n})`)}};bd.default=wd;var kd={};Object.defineProperty(kd,"__esModule",{value:!0});const Id=Qa,Pd={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>Id.str`must be multiple of ${e}`,params:({schemaCode:e})=>Id._`{multipleOf: ${e}}`},code(e){const{gen:t,data:n,schemaCode:r,it:s}=e,o=s.opts.multipleOfPrecision,i=t.let("res"),a=o?Id._`Math.abs(Math.round(${i}) - ${i}) > 1e-${o}`:Id._`${i} !== parseInt(${i})`;e.fail$data(Id._`(${r} === 0 || (${i} = ${n}/${r}, ${a}))`)}};kd.default=Pd;var Nd={},Od={};function _d(e){const t=e.length;let n,r=0,s=0;for(;s<t;)r++,n=e.charCodeAt(s++),n>=55296&&n<=56319&&s<t&&(n=e.charCodeAt(s),56320==(64512&n)&&s++);return r}Object.defineProperty(Od,"__esModule",{value:!0}),Od.default=_d,_d.code='require("ajv/dist/runtime/ucs2length").default',Object.defineProperty(Nd,"__esModule",{value:!0});const xd=Qa,Cd=nc,$d=Od,Dd={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>xd.str`must NOT have ${"maxLength"===e?"more":"fewer"} than ${t} characters`,params:({schemaCode:e})=>xd._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r,it:s}=e,o="maxLength"===t?xd.operators.GT:xd.operators.LT,i=!1===s.opts.unicode?xd._`${n}.length`:xd._`${(0,Cd.useFunc)(e.gen,$d.default)}(${n})`;e.fail$data(xd._`${i} ${o} ${r}`)}};Nd.default=Dd;var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});const Bd=Ac,qd=Qa,jd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>qd.str`must match pattern "${e}"`,params:({schemaCode:e})=>qd._`{pattern: ${e}}`},code(e){const{data:t,$data:n,schema:r,schemaCode:s,it:o}=e,i=o.opts.unicodeRegExp?"u":"",a=n?qd._`(new RegExp(${s}, ${i}))`:(0,Bd.usePattern)(e,r);e.fail$data(qd._`!${a}.test(${t})`)}};Rd.default=jd;var Md={};Object.defineProperty(Md,"__esModule",{value:!0});const Gd=Qa,Ld={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>Gd.str`must NOT have ${"maxProperties"===e?"more":"fewer"} than ${t} properties`,params:({schemaCode:e})=>Gd._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,s="maxProperties"===t?Gd.operators.GT:Gd.operators.LT;e.fail$data(Gd._`Object.keys(${n}).length ${s} ${r}`)}};Md.default=Ld;var Ud={};Object.defineProperty(Ud,"__esModule",{value:!0});const Fd=Ac,Vd=Qa,Jd=nc,Hd={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>Vd.str`must have required property '${e}'`,params:({params:{missingProperty:e}})=>Vd._`{missingProperty: ${e}}`},code(e){const{gen:t,schema:n,schemaCode:r,data:s,$data:o,it:i}=e,{opts:a}=i;if(!o&&0===n.length)return;const c=n.length>=a.loopRequired;if(i.allErrors?function(){if(c||o)e.block$data(Vd.nil,u);else for(const t of n)(0,Fd.checkReportMissingProp)(e,t)}():function(){const i=t.let("missing");if(c||o){const n=t.let("valid",!0);e.block$data(n,(()=>function(n,o){e.setParams({missingProperty:n}),t.forOf(n,r,(()=>{t.assign(o,(0,Fd.propertyInData)(t,s,n,a.ownProperties)),t.if((0,Vd.not)(o),(()=>{e.error(),t.break()}))}),Vd.nil)}(i,n))),e.ok(n)}else t.if((0,Fd.checkMissingProp)(e,n,i)),(0,Fd.reportMissingProp)(e,i),t.else()}(),a.strictRequired){const t=e.parentSchema.properties,{definedProperties:r}=e.it;for(const e of n)if(void 0===(null==t?void 0:t[e])&&!r.has(e)){const t=i.schemaEnv.baseId+i.errSchemaPath;(0,Jd.checkStrictMode)(i,`required property "${e}" is not defined at "${t}" (strictRequired)`,i.opts.strictRequired)}}function u(){t.forOf("prop",r,(n=>{e.setParams({missingProperty:n}),t.if((0,Fd.noPropertyInData)(t,s,n,a.ownProperties),(()=>e.error()))}))}}};Ud.default=Hd;var Kd={};Object.defineProperty(Kd,"__esModule",{value:!0});const Wd=Qa,Xd={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:e,schemaCode:t})=>Wd.str`must NOT have ${"maxItems"===e?"more":"fewer"} than ${t} items`,params:({schemaCode:e})=>Wd._`{limit: ${e}}`},code(e){const{keyword:t,data:n,schemaCode:r}=e,s="maxItems"===t?Wd.operators.GT:Wd.operators.LT;e.fail$data(Wd._`${n}.length ${s} ${r}`)}};Kd.default=Xd;var Yd={},zd={};Object.defineProperty(zd,"__esModule",{value:!0});const Zd=Uc;Zd.code='require("ajv/dist/runtime/equal").default',zd.default=Zd,Object.defineProperty(Yd,"__esModule",{value:!0});const Qd=lc,el=Qa,tl=nc,nl=zd,rl={message:({params:{i:e,j:t}})=>el.str`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>el._`{i: ${e}, j: ${t}}`},sl={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:rl,code(e){const{gen:t,data:n,$data:r,schema:s,parentSchema:o,schemaCode:i,it:a}=e;if(!r&&!s)return;const c=t.let("valid"),u=o.items?(0,Qd.getSchemaTypes)(o.items):[];function d(r,s){const o=t.name("item"),i=(0,Qd.checkDataTypes)(u,o,a.opts.strictNumbers,Qd.DataType.Wrong),d=t.const("indices",el._`{}`);t.for(el._`;${r}--;`,(()=>{t.let(o,el._`${n}[${r}]`),t.if(i,el._`continue`),u.length>1&&t.if(el._`typeof ${o} == "string"`,el._`${o} += "_"`),t.if(el._`typeof ${d}[${o}] == "number"`,(()=>{t.assign(s,el._`${d}[${o}]`),e.error(),t.assign(c,!1).break()})).code(el._`${d}[${o}] = ${r}`)}))}function l(r,s){const o=(0,tl.useFunc)(t,nl.default),i=t.name("outer");t.label(i).for(el._`;${r}--;`,(()=>t.for(el._`${s} = ${r}; ${s}--;`,(()=>t.if(el._`${o}(${n}[${r}], ${n}[${s}])`,(()=>{e.error(),t.assign(c,!1).break(i)}))))))}e.block$data(c,(function(){const r=t.let("i",el._`${n}.length`),s=t.let("j");e.setParams({i:r,j:s}),t.assign(c,!0),t.if(el._`${r} > 1`,(()=>(u.length>0&&!u.some((e=>"object"===e||"array"===e))?d:l)(r,s)))}),el._`${i} === false`),e.ok(c)}};Yd.default=sl;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});const il=Qa,al=nc,cl=zd,ul={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>il._`{allowedValue: ${e}}`},code(e){const{gen:t,data:n,$data:r,schemaCode:s,schema:o}=e;r||o&&"object"==typeof o?e.fail$data(il._`!${(0,al.useFunc)(t,cl.default)}(${n}, ${s})`):e.fail(il._`${o} !== ${n}`)}};ol.default=ul;var dl={};Object.defineProperty(dl,"__esModule",{value:!0});const ll=Qa,pl=nc,fl=zd,hl={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>ll._`{allowedValues: ${e}}`},code(e){const{gen:t,data:n,$data:r,schema:s,schemaCode:o,it:i}=e;if(!r&&0===s.length)throw new Error("enum must have non-empty array");const a=s.length>=i.opts.loopEnum;let c;const u=()=>null!=c?c:c=(0,pl.useFunc)(t,fl.default);let d;if(a||r)d=t.let("valid"),e.block$data(d,(function(){t.assign(d,!1),t.forOf("v",o,(e=>t.if(ll._`${u()}(${n}, ${e})`,(()=>t.assign(d,!0).break()))))}));else{if(!Array.isArray(s))throw new Error("ajv implementation error");const e=t.const("vSchema",o);d=(0,ll.or)(...s.map(((t,r)=>function(e,t){const r=s[t];return"object"==typeof r&&null!==r?ll._`${u()}(${n}, ${e}[${t}])`:ll._`${n} === ${r}`}(e,r))))}e.pass(d)}};dl.default=hl,Object.defineProperty(gd,"__esModule",{value:!0});const ml=kd,Sl=Nd,yl=Rd,gl=Md,bl=Ud,vl=Kd,El=Yd,Al=ol,Tl=dl,wl=[bd.default,ml.default,Sl.default,yl.default,gl.default,bl.default,vl.default,El.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Al.default,Tl.default];gd.default=wl;var kl={},Il={};Object.defineProperty(Il,"__esModule",{value:!0}),Il.validateAdditionalItems=void 0;const Pl=Qa,Nl=nc,Ol={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>Pl.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>Pl._`{limit: ${e}}`},code(e){const{parentSchema:t,it:n}=e,{items:r}=t;Array.isArray(r)?_l(e,r):(0,Nl.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function _l(e,t){const{gen:n,schema:r,data:s,keyword:o,it:i}=e;i.items=!0;const a=n.const("len",Pl._`${s}.length`);if(!1===r)e.setParams({len:t.length}),e.pass(Pl._`${a} <= ${t.length}`);else if("object"==typeof r&&!(0,Nl.alwaysValidSchema)(i,r)){const r=n.var("valid",Pl._`${a} <= ${t.length}`);n.if((0,Pl.not)(r),(()=>function(r){n.forRange("i",t.length,a,(t=>{e.subschema({keyword:o,dataProp:t,dataPropType:Nl.Type.Num},r),i.allErrors||n.if((0,Pl.not)(r),(()=>n.break()))}))}(r))),e.ok(r)}}Il.validateAdditionalItems=_l,Il.default=Ol;var xl={},Cl={};Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.validateTuple=void 0;const $l=Qa,Dl=nc,Rl=Ac,Bl={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return ql(e,"additionalItems",t);n.items=!0,(0,Dl.alwaysValidSchema)(n,t)||e.ok((0,Rl.validateArray)(e))}};function ql(e,t,n=e.schema){const{gen:r,parentSchema:s,data:o,keyword:i,it:a}=e;!function(e){const{opts:r,errSchemaPath:s}=a,o=n.length,c=o===e.minItems&&(o===e.maxItems||!1===e[t]);if(r.strictTuples&&!c){const e=`"${i}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${s}"`;(0,Dl.checkStrictMode)(a,e,r.strictTuples)}}(s),a.opts.unevaluated&&n.length&&!0!==a.items&&(a.items=Dl.mergeEvaluated.items(r,n.length,a.items));const c=r.name("valid"),u=r.const("len",$l._`${o}.length`);n.forEach(((t,n)=>{(0,Dl.alwaysValidSchema)(a,t)||(r.if($l._`${u} > ${n}`,(()=>e.subschema({keyword:i,schemaProp:n,dataProp:n},c))),e.ok(c))}))}Cl.validateTuple=ql,Cl.default=Bl,Object.defineProperty(xl,"__esModule",{value:!0});const jl=Cl,Ml={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,jl.validateTuple)(e,"items")};xl.default=Ml;var Gl={};Object.defineProperty(Gl,"__esModule",{value:!0});const Ll=Qa,Ul=nc,Fl=Ac,Vl=Il,Jl={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>Ll.str`must NOT have more than ${e} items`,params:({params:{len:e}})=>Ll._`{limit: ${e}}`},code(e){const{schema:t,parentSchema:n,it:r}=e,{prefixItems:s}=n;r.items=!0,(0,Ul.alwaysValidSchema)(r,t)||(s?(0,Vl.validateAdditionalItems)(e,s):e.ok((0,Fl.validateArray)(e)))}};Gl.default=Jl;var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});const Kl=Qa,Wl=nc,Xl={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?Kl.str`must contain at least ${e} valid item(s)`:Kl.str`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?Kl._`{minContains: ${e}}`:Kl._`{minContains: ${e}, maxContains: ${t}}`},code(e){const{gen:t,schema:n,parentSchema:r,data:s,it:o}=e;let i,a;const{minContains:c,maxContains:u}=r;o.opts.next?(i=void 0===c?1:c,a=u):i=1;const d=t.const("len",Kl._`${s}.length`);if(e.setParams({min:i,max:a}),void 0===a&&0===i)return void(0,Wl.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==a&&i>a)return(0,Wl.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),void e.fail();if((0,Wl.alwaysValidSchema)(o,n)){let t=Kl._`${d} >= ${i}`;return void 0!==a&&(t=Kl._`${t} && ${d} <= ${a}`),void e.pass(t)}o.items=!0;const l=t.name("valid");function p(){const e=t.name("_valid"),n=t.let("count",0);f(e,(()=>t.if(e,(()=>function(e){t.code(Kl._`${e}++`),void 0===a?t.if(Kl._`${e} >= ${i}`,(()=>t.assign(l,!0).break())):(t.if(Kl._`${e} > ${a}`,(()=>t.assign(l,!1).break())),1===i?t.assign(l,!0):t.if(Kl._`${e} >= ${i}`,(()=>t.assign(l,!0))))}(n)))))}function f(n,r){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:Wl.Type.Num,compositeRule:!0},n),r()}))}void 0===a&&1===i?f(l,(()=>t.if(l,(()=>t.break())))):0===i?(t.let(l,!0),void 0!==a&&t.if(Kl._`${s}.length > 0`,p)):(t.let(l,!1),p()),e.result(l,(()=>e.reset()))}};Hl.default=Xl;var Yl={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Qa,n=nc,r=Ac;e.error={message:({params:{property:e,depsCount:n,deps:r}})=>t.str`must have ${1===n?"property":"properties"} ${r} when property ${e} is present`,params:({params:{property:e,depsCount:n,deps:r,missingProperty:s}})=>t._`{property: ${e},
    missingProperty: ${s},
    depsCount: ${n},
    deps: ${r}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(e){const[t,n]=function({schema:e}){const t={},n={};for(const r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:n)[r]=e[r]);return[t,n]}(e);o(e,t),i(e,n)}};function o(e,n=e.schema){const{gen:s,data:o,it:i}=e;if(0===Object.keys(n).length)return;const a=s.let("missing");for(const c in n){const u=n[c];if(0===u.length)continue;const d=(0,r.propertyInData)(s,o,c,i.opts.ownProperties);e.setParams({property:c,depsCount:u.length,deps:u.join(", ")}),i.allErrors?s.if(d,(()=>{for(const t of u)(0,r.checkReportMissingProp)(e,t)})):(s.if(t._`${d} && (${(0,r.checkMissingProp)(e,u,a)})`),(0,r.reportMissingProp)(e,a),s.else())}}function i(e,t=e.schema){const{gen:s,data:o,keyword:i,it:a}=e,c=s.name("valid");for(const u in t)(0,n.alwaysValidSchema)(a,t[u])||(s.if((0,r.propertyInData)(s,o,u,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:i,schemaProp:u},c);e.mergeValidEvaluated(t,c)}),(()=>s.var(c,!0))),e.ok(c))}e.validatePropertyDeps=o,e.validateSchemaDeps=i,e.default=s}(Yl);var zl={};Object.defineProperty(zl,"__esModule",{value:!0});const Zl=Qa,Ql=nc,ep={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>Zl._`{propertyName: ${e.propertyName}}`},code(e){const{gen:t,schema:n,data:r,it:s}=e;if((0,Ql.alwaysValidSchema)(s,n))return;const o=t.name("valid");t.forIn("key",r,(n=>{e.setParams({propertyName:n}),e.subschema({keyword:"propertyNames",data:n,dataTypes:["string"],propertyName:n,compositeRule:!0},o),t.if((0,Zl.not)(o),(()=>{e.error(!0),s.allErrors||t.break()}))})),e.ok(o)}};zl.default=ep;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});const np=Ac,rp=Qa,sp=rc,op=nc,ip={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>rp._`{additionalProperty: ${e.additionalProperty}}`},code(e){const{gen:t,schema:n,parentSchema:r,data:s,errsCount:o,it:i}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:a,opts:c}=i;if(i.props=!0,"all"!==c.removeAdditional&&(0,op.alwaysValidSchema)(i,n))return;const u=(0,np.allSchemaProperties)(r.properties),d=(0,np.allSchemaProperties)(r.patternProperties);function l(e){t.code(rp._`delete ${s}[${e}]`)}function p(r){if("all"===c.removeAdditional||c.removeAdditional&&!1===n)l(r);else{if(!1===n)return e.setParams({additionalProperty:r}),e.error(),void(a||t.break());if("object"==typeof n&&!(0,op.alwaysValidSchema)(i,n)){const n=t.name("valid");"failing"===c.removeAdditional?(f(r,n,!1),t.if((0,rp.not)(n),(()=>{e.reset(),l(r)}))):(f(r,n),a||t.if((0,rp.not)(n),(()=>t.break())))}}}function f(t,n,r){const s={keyword:"additionalProperties",dataProp:t,dataPropType:op.Type.Str};!1===r&&Object.assign(s,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(s,n)}t.forIn("key",s,(n=>{u.length||d.length?t.if(function(n){let s;if(u.length>8){const e=(0,op.schemaRefOrVal)(i,r.properties,"properties");s=(0,np.isOwnProperty)(t,e,n)}else s=u.length?(0,rp.or)(...u.map((e=>rp._`${n} === ${e}`))):rp.nil;return d.length&&(s=(0,rp.or)(s,...d.map((t=>rp._`${(0,np.usePattern)(e,t)}.test(${n})`)))),(0,rp.not)(s)}(n),(()=>p(n))):p(n)})),e.ok(rp._`${o} === ${sp.default.errors}`)}};tp.default=ip;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});const cp=Ya,up=Ac,dp=nc,lp=tp,pp={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:r,data:s,it:o}=e;"all"===o.opts.removeAdditional&&void 0===r.additionalProperties&&lp.default.code(new cp.KeywordCxt(o,lp.default,"additionalProperties"));const i=(0,up.allSchemaProperties)(n);for(const e of i)o.definedProperties.add(e);o.opts.unevaluated&&i.length&&!0!==o.props&&(o.props=dp.mergeEvaluated.props(t,(0,dp.toHash)(i),o.props));const a=i.filter((e=>!(0,dp.alwaysValidSchema)(o,n[e])));if(0===a.length)return;const c=t.name("valid");for(const n of a)u(n)?d(n):(t.if((0,up.propertyInData)(t,s,n,o.opts.ownProperties)),d(n),o.allErrors||t.else().var(c,!0),t.endIf()),e.it.definedProperties.add(n),e.ok(c);function u(e){return o.opts.useDefaults&&!o.compositeRule&&void 0!==n[e].default}function d(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},c)}}};ap.default=pp;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});const hp=Ac,mp=Qa,Sp=nc,yp=nc,gp={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:r,parentSchema:s,it:o}=e,{opts:i}=o,a=(0,hp.allSchemaProperties)(n),c=a.filter((e=>(0,Sp.alwaysValidSchema)(o,n[e])));if(0===a.length||c.length===a.length&&(!o.opts.unevaluated||!0===o.props))return;const u=i.strictSchema&&!i.allowMatchingProperties&&s.properties,d=t.name("valid");!0===o.props||o.props instanceof mp.Name||(o.props=(0,yp.evaluatedPropsToName)(t,o.props));const{props:l}=o;function p(e){for(const t in u)new RegExp(e).test(t)&&(0,Sp.checkStrictMode)(o,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function f(n){t.forIn("key",r,(r=>{t.if(mp._`${(0,hp.usePattern)(e,n)}.test(${r})`,(()=>{const s=c.includes(n);s||e.subschema({keyword:"patternProperties",schemaProp:n,dataProp:r,dataPropType:yp.Type.Str},d),o.opts.unevaluated&&!0!==l?t.assign(mp._`${l}[${r}]`,!0):s||o.allErrors||t.if((0,mp.not)(d),(()=>t.break()))}))}))}!function(){for(const e of a)u&&p(e),o.allErrors?f(e):(t.var(d,!0),f(e),t.if(d))}()}};fp.default=gp;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});const vp=nc,Ep={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:r}=e;if((0,vp.alwaysValidSchema)(r,n))return void e.fail();const s=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),e.failResult(s,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};bp.default=Ep;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});const Tp={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ac.validateUnion,error:{message:"must match a schema in anyOf"}};Ap.default=Tp;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});const kp=Qa,Ip=nc,Pp={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>kp._`{passingSchemas: ${e.passing}}`},code(e){const{gen:t,schema:n,parentSchema:r,it:s}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(s.opts.discriminator&&r.discriminator)return;const o=n,i=t.let("valid",!1),a=t.let("passing",null),c=t.name("_valid");e.setParams({passing:a}),t.block((function(){o.forEach(((n,r)=>{let o;(0,Ip.alwaysValidSchema)(s,n)?t.var(c,!0):o=e.subschema({keyword:"oneOf",schemaProp:r,compositeRule:!0},c),r>0&&t.if(kp._`${c} && ${i}`).assign(i,!1).assign(a,kp._`[${a}, ${r}]`).else(),t.if(c,(()=>{t.assign(i,!0),t.assign(a,r),o&&e.mergeEvaluated(o,kp.Name)}))}))})),e.result(i,(()=>e.reset()),(()=>e.error(!0)))}};wp.default=Pp;var Np={};Object.defineProperty(Np,"__esModule",{value:!0});const Op=nc,_p={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:r}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const s=t.name("valid");n.forEach(((t,n)=>{if((0,Op.alwaysValidSchema)(r,t))return;const o=e.subschema({keyword:"allOf",schemaProp:n},s);e.ok(s),e.mergeEvaluated(o)}))}};Np.default=_p;var xp={};Object.defineProperty(xp,"__esModule",{value:!0});const Cp=Qa,$p=nc,Dp={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>Cp.str`must match "${e.ifClause}" schema`,params:({params:e})=>Cp._`{failingKeyword: ${e.ifClause}}`},code(e){const{gen:t,parentSchema:n,it:r}=e;void 0===n.then&&void 0===n.else&&(0,$p.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const s=Rp(r,"then"),o=Rp(r,"else");if(!s&&!o)return;const i=t.let("valid",!0),a=t.name("_valid");if(function(){const t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},a);e.mergeEvaluated(t)}(),e.reset(),s&&o){const n=t.let("ifClause");e.setParams({ifClause:n}),t.if(a,c("then",n),c("else",n))}else s?t.if(a,c("then")):t.if((0,Cp.not)(a),c("else"));function c(n,r){return()=>{const s=e.subschema({keyword:n},a);t.assign(i,a),e.mergeValidEvaluated(s,i),r?t.assign(r,Cp._`${n}`):e.setParams({ifClause:n})}}e.pass(i,(()=>e.error(!0)))}};function Rp(e,t){const n=e.schema[t];return void 0!==n&&!(0,$p.alwaysValidSchema)(e,n)}xp.default=Dp;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});const qp=nc,jp={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){void 0===t.if&&(0,qp.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};Bp.default=jp,Object.defineProperty(kl,"__esModule",{value:!0});const Mp=Il,Gp=xl,Lp=Cl,Up=Gl,Fp=Hl,Vp=Yl,Jp=zl,Hp=tp,Kp=ap,Wp=fp,Xp=bp,Yp=Ap,zp=wp,Zp=Np,Qp=xp,ef=Bp;kl.default=function(e=!1){const t=[Xp.default,Yp.default,zp.default,Zp.default,Qp.default,ef.default,Jp.default,Hp.default,Vp.default,Kp.default,Wp.default];return e?t.push(Gp.default,Up.default):t.push(Mp.default,Lp.default),t.push(Fp.default),t};var tf={},nf={};Object.defineProperty(nf,"__esModule",{value:!0});const rf=Qa,sf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>rf.str`must match format "${e}"`,params:({schemaCode:e})=>rf._`{format: ${e}}`},code(e,t){const{gen:n,data:r,$data:s,schema:o,schemaCode:i,it:a}=e,{opts:c,errSchemaPath:u,schemaEnv:d,self:l}=a;c.validateFormats&&(s?function(){const s=n.scopeValue("formats",{ref:l.formats,code:c.code.formats}),o=n.const("fDef",rf._`${s}[${i}]`),a=n.let("fType"),u=n.let("format");n.if(rf._`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>n.assign(a,rf._`${o}.type || "string"`).assign(u,rf._`${o}.validate`)),(()=>n.assign(a,rf._`"string"`).assign(u,o))),e.fail$data((0,rf.or)(!1===c.strictSchema?rf.nil:rf._`${i} && !${u}`,function(){const e=d.$async?rf._`(${o}.async ? await ${u}(${r}) : ${u}(${r}))`:rf._`${u}(${r})`,n=rf._`(typeof ${u} == "function" ? ${e} : ${u}.test(${r}))`;return rf._`${u} && ${u} !== true && ${a} === ${t} && !${n}`}()))}():function(){const s=l.formats[o];if(!s)return void function(){if(!1!==c.strictSchema)throw new Error(e());function e(){return`unknown format "${o}" ignored in schema at path "${u}"`}l.logger.warn(e())}();if(!0===s)return;const[i,a,p]=function(e){const t=e instanceof RegExp?(0,rf.regexpCode)(e):c.code.formats?rf._`${c.code.formats}${(0,rf.getProperty)(o)}`:void 0,r=n.scopeValue("formats",{key:o,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,r]:[e.type||"string",e.validate,rf._`${r}.validate`]}(s);i===t&&e.pass(function(){if("object"==typeof s&&!(s instanceof RegExp)&&s.async){if(!d.$async)throw new Error("async format in sync schema");return rf._`await ${p}(${r})`}return"function"==typeof a?rf._`${p}(${r})`:rf._`${p}.test(${r})`}())}())}};nf.default=sf,Object.defineProperty(tf,"__esModule",{value:!0});const of=[nf.default];tf.default=of;var af={};Object.defineProperty(af,"__esModule",{value:!0}),af.contentVocabulary=af.metadataVocabulary=void 0,af.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],af.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(nd,"__esModule",{value:!0});const cf=gd,uf=kl,df=tf,lf=af,pf=[rd.default,cf.default,(0,uf.default)(),df.default,lf.metadataVocabulary,lf.contentVocabulary];nd.default=pf;var ff={},hf={};!function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,(t=e.DiscrError||(e.DiscrError={})).Tag="tag",t.Mapping="mapping"}(hf),Object.defineProperty(ff,"__esModule",{value:!0});const mf=Qa,Sf=hf,yf=qu,gf=nc,bf={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===Sf.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>mf._`{error: ${e}, tag: ${n}, tagValue: ${t}}`},code(e){const{gen:t,data:n,schema:r,parentSchema:s,it:o}=e,{oneOf:i}=s;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const a=r.propertyName;if("string"!=typeof a)throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const c=t.let("valid",!1),u=t.const("tag",mf._`${n}${(0,mf.getProperty)(a)}`);function d(n){const r=t.name("valid"),s=e.subschema({keyword:"oneOf",schemaProp:n},r);return e.mergeEvaluated(s,mf.Name),r}t.if(mf._`typeof ${u} == "string"`,(()=>function(){const n=function(){var e;const t={},n=c(s);let r=!0;for(let t=0;t<i.length;t++){let s=i[t];(null==s?void 0:s.$ref)&&!(0,gf.schemaHasRulesButRef)(s,o.self.RULES)&&(s=yf.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,null==s?void 0:s.$ref),s instanceof yf.SchemaEnv&&(s=s.schema));const d=null===(e=null==s?void 0:s.properties)||void 0===e?void 0:e[a];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${a}"`);r=r&&(n||c(s)),u(d,t)}if(!r)throw new Error(`discriminator: "${a}" must be required`);return t;function c({required:e}){return Array.isArray(e)&&e.includes(a)}function u(e,t){if(e.const)d(e.const,t);else{if(!e.enum)throw new Error(`discriminator: "properties/${a}" must have "const" or "enum"`);for(const n of e.enum)d(n,t)}}function d(e,n){if("string"!=typeof e||e in t)throw new Error(`discriminator: "${a}" values must be unique strings`);t[e]=n}}();t.if(!1);for(const e in n)t.elseIf(mf._`${u} === ${e}`),t.assign(c,d(n[e]));t.else(),e.error(!1,{discrError:Sf.DiscrError.Mapping,tag:u,tagName:a}),t.endIf()}()),(()=>e.error(!1,{discrError:Sf.DiscrError.Tag,tag:u,tagName:a}))),e.ok(c)}};ff.default=bf;const vf={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Xa,r=nd,s=ff,o=vf,i=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach((e=>this.addVocabulary(e))),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,i):o;this.addMetaSchema(e,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.exports=t=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=Ya;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var d=Qa;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var l=Cu;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return l.default}});var p=Du;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return p.default}})}(Wa,Ka);var Ef=Ka,Af={title:"Root",type:"object",description:"Root Element",definitions:{base64String:{type:"string",pattern:"^[A-Za-z0-9/+=]*$"},tagString:{type:"string",pattern:"^[a-z][a-z0-9]*(:.+)?$"}},properties:{id:{type:"string"},metadata:{type:"object",properties:{selectors:{type:"object",additionalProperties:{type:"string"}}},required:["selectors"],additionalProperties:!1},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},enums:{type:"object",properties:{ids:{$ref:"#/definitions/base64String"},wordLike:{$ref:"#/definitions/base64String"},notWordLike:{$ref:"#/definitions/base64String"},scopeBits:{$ref:"#/definitions/base64String"},graftTypes:{$ref:"#/definitions/base64String"}},required:["ids","wordLike","notWordLike","scopeBits","graftTypes"],additionalProperties:!1},docs:{type:"object",propertyNames:{type:"string"},additionalProperties:{type:"object",properties:{sequences:{type:"object",additionalProperties:{type:"object",properties:{type:{type:"string"},blocks:{type:"array",items:{type:"object",properties:{bs:{type:"string"},bg:{type:"string"},c:{type:"string"},is:{type:"string"},os:{type:"string"},nt:{type:"string"}},required:["bs","bg","c","is","os","nt"],additionalProperties:!1}},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}},chapters:{type:"object",additionalProperties:{type:"string"}},chapterVerses:{type:"object",additionalProperties:{type:"string"}},tokensPresent:{type:"string"}},required:["blocks","tags"],additionalProperties:!1}},headers:{type:"object",additionalProperties:{type:"string"}},mainId:{type:"string"},tags:{type:"array",items:{type:"string",$ref:"#/definitions/tagString"}}},required:["sequences","headers","mainId","tags"],additionalProperties:!1}},additionalProperties:!1},required:["id","enums","docs","tags"],additionalProperties:!1},Tf={$comment:"version 0.1.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/document_structure.json",title:"Document (Structure)",description:"A document, typically corresponding to a single USFM or USX book",type:"object",properties:{schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},required:["schema","metadata"],additionalProperties:!1,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:{required:["sequences","main_sequence_id"],not:{required:["sequence"]}},else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},wf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/sequence_structure.json",title:"Sequence (Structure)",description:"A sequence contains a 'flow' of one or more blocks",type:"object",properties:{type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}}},required:["type"],additionalProperties:!1},kf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/block_structure.json",title:"Block (Structure)",description:"A block, which represents either a paragraph of text or a graft",type:"object",properties:{type:{type:"string",description:"The type of block",enum:["paragraph","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},required:["type"],additionalProperties:!1,if:{properties:{type:{enum:["paragraph"]}}},then:{required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},If={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_2_1/contentElement_structure.json",title:"Content Element (Structure)",description:"A content element, ie some form of (possibly nested) markup",type:"object",properties:{type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}}},required:["type"],additionalProperties:!1},Pf={$comment:"version 0.2.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_document_constraint.json",type:"object",properties:{sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}}},Nf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_sequence_constraint.json",type:"object",properties:{type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}}},Of={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_block_constraint.json",type:"object",properties:{type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},_f={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/perf_contentElement_constraint.json",type:"object",allOf:[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}]},xf={$comment:"version 0.2.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_document_constraint.json",type:"object",properties:{sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sofria_sequence_constraint.json"}}}},Cf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_sequence_constraint.json",type:"object",properties:{type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}}},$f={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_block_constraint.json",type:"object",properties:{type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Df={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_2_1/sofria_contentElement_constraint.json",type:"object",allOf:[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["block"]},{required:["preview_text"]}]}},else:{required:["block"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}]},Rf={$comment:"version 0.1.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/document_structure.json",title:"Document (Structure)",description:"A document, typically corresponding to a single USFM or USX book",type:"object",properties:{schema:{type:"object",properties:{structure:{description:"The basic 'shape' of the content",type:"string",enum:["flat","nested"]},structure_version:{description:"the semantic version of the structure schema",type:"string"},constraints:{type:"array",items:{type:"object",properties:{name:{type:"string",enum:["perf","sofria"]},version:{description:"the semantic version of the constraint schema",type:"string"}},additionalProperties:!1,required:["name","version"]}}},required:["structure","structure_version","constraints"],additionalProperties:!1},metadata:{description:"Metadata describing the document and the translation it belongs to",type:"object",properties:{translation:{type:"object",description:"Metadata concerning the translation to which the document belongs",properties:{tags:{description:"Tags attached to the translation",type:"array",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the translation",additionalProperties:{type:"string"}},selectors:{type:"object",description:"Proskomma selectors for the translation that, together, provide a primary key in the translation store",additionalProperties:{type:"string"}}},additionalProperties:{type:"string"},required:["id"]},document:{type:"object",description:"Metadata concerning the document itself",properties:{tags:{type:"array",description:"Tags attached to the document",items:{type:"string"}},properties:{type:"object",description:"Key/value properties attached to the document",additionalProperties:{type:"string"}},chapters:{type:"string",pattern:"^[1-9][0-9]*(-[1-9][0-9]*)?$"}},additionalProperties:{type:"string"}}},additionalProperties:!1},hooks:{type:"array",$ref:"./hook_structure.json"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./sequence_structure.json"}},sequence:{$ref:"./sequence_structure.json"},main_sequence_id:{type:"string"}},required:["schema","metadata"],additionalProperties:!1,if:{properties:{schema:{type:"object",properties:{structure:{enum:["flat"]}}}}},then:{required:["sequences","main_sequence_id"],not:{required:["sequence"]}},else:{required:["sequence"],allOf:[{not:{required:["sequences"]}},{not:{required:["main_sequence_id"]}}]}},Bf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/sequence_structure.json",title:"Sequence (Structure)",description:"A sequence contains a 'flow' of one or more blocks",type:"object",properties:{type:{description:"The type of sequence",type:"string"},preview_text:{description:"An optional field to provide some kind of printable label",type:"string"},blocks:{type:"array",description:"The blocks that, together, represent the 'flow' of the sequence",items:{$ref:"./block_structure.json"}},hooks:{type:"array",$ref:"./hook_structure.json"}},required:["type"],additionalProperties:!1},qf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/block_structure.json",title:"Block (Structure)",description:"A block, which represents either a paragraph of text or a graft",type:"object",properties:{type:{type:"string",description:"The type of block",enum:["paragraph","row","node","lookup","graft"]},subtype:{description:"A type-specific subtype",type:"string"},target:{description:"The id of the sequence containing graft content",type:"string"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{description:"If present and true, is interpreted as a request for the server to create a new graft",type:"boolean"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},content:{type:"array",description:"The content of the block",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},required:["type"],additionalProperties:!1,if:{properties:{type:{enum:["paragraph","row","node","lookup"]}}},then:{required:["content"],allOf:[{not:{required:["new"]}},{not:{required:["preview_text"]}},{not:{required:["target"]}}]},else:{if:{required:["new"],properties:{new:{enum:[!0]}}},then:{allOf:[{oneOf:[{required:["subtype"]},{required:["sequence"]}]},{not:{required:["target"]}},{not:{required:["preview_text"]}},{not:{required:["content"]}}]},else:{oneOf:[{required:["target"]},{required:["sequence"]}]}}},jf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/contentElement_structure.json",title:"Content Element (Structure)",description:"A content element, ie some form of (possibly nested) markup",type:"object",properties:{type:{type:"string",description:"The type of element",enum:["mark","wrapper","start_milestone","end_milestone","graft"]},subtype:{description:"The subtype of the element, which is context-dependent",type:"string"},atts:{type:"object",description:"An object containing USFM attributes or subtype-specific additional information (such as the number of a verse or chapter). The value may be a boolean, a string or an array of strings",additionalProperties:{oneOf:[{type:"array",items:{type:"string"}},{type:"string"},{type:"boolean"}]}},target:{type:"string",description:"The id of the sequence containing graft content"},sequence:{description:"The sequence containing graft content",$ref:"./sequence_structure.json"},preview_text:{description:"An optional field to provide some kind of printable label for a graft",type:"string"},new:{type:"boolean",description:"If present and true, is interpreted as a request for the server to create a new graft"},content:{type:"array",description:"Nested content within the content element",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},meta_content:{type:"array",description:"Non-Scripture content related to the content element, such as checking data or related resources",items:{oneOf:[{type:"string"},{$ref:"./contentElement_structure.json"}]}},hooks:{type:"array",$ref:"./hook_structure.json"}},required:["type"],additionalProperties:!1},Mf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/structure/0_3_0/hook_structure.json",title:"Hook (Structure)",description:"Hooks, ie typed labels that may be used to link documents",type:"array",items:{type:"array",items:[{type:"string",oneOf:[{enum:["bcv_ref","book_ref"]},{pattern:"^x-(app|publisher)-[a-z][a-z0-9]+-\\S{2,256}$"},{pattern:"^x-local-\\S{2,256}$"}]},{type:"string",oneOf:[{enum:["label"]},{pattern:"^\\w{1,255}$"}]}],minItems:2,maxItems:2}},Gf={$comment:"version 0.3.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_document_constraint.json",type:"object",properties:{hooks:{type:"array"},sequences:{type:"object",propertyNames:{pattern:"^\\S+$"},additionalProperties:{$ref:"./perf_sequence_constraint.json"}}}},Lf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_sequence_constraint.json",type:"object",properties:{type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./perf_block_constraint.json"}}}},Uf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_block_constraint.json",type:"object",properties:{type:{type:"string",enum:["paragraph","graft","row","node","lookup"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}},if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},else:{if:{properties:{type:{enum:["row"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["row:heading","row:body"]}]}}},else:{if:{properties:{type:{enum:["node"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["node"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{id:{type:"string"},parent:{type:"string"},children:{type:"array",items:{type:"string"}}},required:["id"],additionalProperties:!1}}},else:{if:{properties:{type:{enum:["lookup"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["lookup"]},{pattern:"^x-\\S{1,256}$"}]},atts:{type:"object",properties:{primary:{type:"string"},secondary:{type:"array",items:{type:"string"}}},required:["primary"],additionalProperties:!1}}},else:{properties:{subtype:{type:"string",oneOf:[{pattern:"^usfm:"},{pattern:"^x-\\S{1,256}$"}]}}}}}}},Ff={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/perf_contentElement_constraint.json",type:"object",allOf:[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./perf_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["target"]},{required:["preview_text"]}]}},else:{required:["target"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter","verses","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}]},Vf={$comment:"version 0.3.0",$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_document_constraint.json",type:"object",properties:{sequence:{$ref:"./sofria_sequence_constraint.json"}}},Jf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_sequence_constraint.json",type:"object",properties:{type:{type:"string",enum:["main","introduction","intro_title","intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv","footnote","note_caller","xref","pub_number","alt_number","esb_cat","fig","temp"]},blocks:{type:"array",items:{$ref:"./sofria_block_constraint.json"}}}},Hf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_block_constraint.json",type:"object",properties:{type:{type:"string",enum:["paragraph","graft"]},content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}},if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["introduction","intro_title","Intro_end_title","title","end_title","heading","remark","sidebar","table","tree","kv"]}}},else:{properties:{subtype:{type:"string",pattern:"^usfm:"}}}},Kf={$id:"https://github.com/Proskomma/proskomma-json-tools/tree/main/src/schema/constraint/0_3_0/sofria_contentElement_constraint.json",type:"object",allOf:[{properties:{content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}},meta_content:{type:"array",items:{oneOf:[{type:"string"},{$ref:"./sofria_contentElement_constraint.json"}]}}}},{if:{properties:{type:{enum:["graft"]}}},then:{properties:{subtype:{enum:["footnote","xref","note_caller"]}},allOf:[{not:{required:["content"]}},{not:{required:["meta_content"]}}],if:{required:["new"],properties:{new:{enum:[!0]}}},then:{not:{anyOf:[{required:["blocks"]},{required:["preview_text"]}]}},else:{required:["sequence"]}}},{if:{properties:{type:{enum:["mark"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["chapter_label","verses_label","alt_chapter","alt_verse","pub_chapter","pub_verse"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["chapter","verses"]}}},then:{type:"object",required:["atts"],properties:{atts:{type:"object",required:["number"],maxProperties:1}}}}},{if:{properties:{type:{enum:["wrapper"]}}},then:{properties:{subtype:{type:"string",oneOf:[{enum:["meta_content","chapter","verses"]},{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},if:{properties:{subtype:{enum:["meta_content"]}}},then:{not:{required:["atts"]}}}},{if:{properties:{type:{enum:["start_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}}}},{if:{properties:{type:{enum:["end_milestone"]}}},then:{properties:{subtype:{type:"string",oneOf:[{pattern:"^[A-Za-z][A-Za-z0-9]*:\\S+$"},{pattern:"^x-\\S+$"}]}},not:{required:["atts"]}}}]};const Wf=B(G);var Xf,Yf=(Xf=Wf)&&Xf.__esModule?Xf:{default:Xf},zf={verseWordsActions:{startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;t.verseContent=[],t.chapter=null,t.verses=null,n.cv={}}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r}=e,{element:s}=t.sequences[0];"chapter"===s.subType?(n.chapter=s.atts.number,n.verses=0,r.cv[n.chapter]={},r.cv[n.chapter][n.verses]={}):"verses"===s.subType&&(n.verses=s.atts.number,r.cv[n.chapter][n.verses]={})}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r}=e,{chapter:s,verses:o}=n,{text:i}=t.sequences[0].element,a=(0,Yf.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),c=Yf.default.match(i,a,"all");for(var u of c){var d,l;null!==(l=(d=r.cv[s][o])[u])&&void 0!==l||(d[u]=0),r.cv[s][o][u]+=1}}}]}},Zf=function(e){return e&&e.__esModule?e:{default:e}}(Wf);function Qf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qf(Object(n),!0).forEach((function(t){th(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function th(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nh={stripMarkupActions:{startDocument:[{description:"Set up",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;return t.chapter=null,t.verses=null,t.lastWord="",t.waitingMarkup=[],t.currentOccurrences={},t.PendingStartMilestones=[],n.stripped={},n.unalignedWords={},!0}}],startMilestone:[{description:"Ignore zaln startMilestone events",test:e=>{var{context:t}=e;return"usfm:zaln"===t.sequences[0].element.subType},action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;r.subtype=r.subType,delete r.subType,n.waitingMarkup.push(r),n.PendingStartMilestones.push(r)}}],endMilestone:[{description:"Ignore zaln endMilestone events",test:e=>{var{context:t}=e;return"usfm:zaln"===t.sequences[0].element.subType},action:e=>{var{context:t,workspace:n,output:r,config:s}=e,{chapter:o,verses:i,lastWord:a}=n,{verseWords:c}=s,u=["after",a,n.currentOccurrences[a],c[o][i][a]].join("--"),d=eh({},t.sequences[0].element);d.subtype=d.subType,delete d.subType;var l={chapter:o,verses:i,occurrence:n.currentOccurrences[a],occurrences:c[o][i][a],position:"after",word:a,payload:d,startMilestone:n.PendingStartMilestones.shift()};return r.stripped[n.chapter][n.verses][u]?r.stripped[n.chapter][n.verses][u].push(l):r.stripped[n.chapter][n.verses][u]=[l],!1}}],startWrapper:[{description:"Ignore w startWrapper events",test:e=>{var{context:t}=e;return"usfm:w"===t.sequences[0].element.subType},action:e=>{var{context:t,workspace:n}=e,r=eh({},t.sequences[0].element);r.subtype=r.subType,delete r.subType,n.waitingMarkup.push(r)}}],endWrapper:[{description:"Ignore w endWrapper events",test:e=>{var{context:t}=e;return"usfm:w"===t.sequences[0].element.subType},action:e=>{}}],text:[{description:"Log occurrences",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r,config:s}=e;try{var o=t.sequences[0];if("main"!==o.type)return!0;var i=o.element.text,a=(0,Zf.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})"),c=Zf.default.match(i,a,"all"),{chapter:u,verses:d}=n,{verseWords:l}=s;for(var p of c){var f,h,m,S,y,g;for(null!==(h=(f=n.currentOccurrences)[p])&&void 0!==h||(f[p]=0),n.currentOccurrences[p]++,!n.PendingStartMilestones.length&&n.waitingMarkup.length&&(null!==(S=(m=r.unalignedWords)[u])&&void 0!==S||(m[u]={}),null!==(g=(y=r.unalignedWords[u])[d])&&void 0!==g||(y[d]=[]),r.unalignedWords[u][d].push({word:p,occurrence:n.currentOccurrences[p],totalOccurrences:l[u][d][p]}));n.waitingMarkup.length;){var b=n.waitingMarkup.shift(),v=["before",p,n.currentOccurrences[p],l[u][d][p]].join("--"),E={chapter:u,verses:d,occurrence:n.currentOccurrences[p],occurrences:l[u][d][p],position:"before",word:p,payload:eh(eh({},b),"usfm:w"===b.subtype&&{content:[p]})};r.stripped[n.chapter][n.verses][v]?r.stripped[n.chapter][n.verses][v].push(E):r.stripped[n.chapter][n.verses][v]=[E]}n.lastWord=p}}catch(e){throw console.error(e),e}return!0}}],mark:[{description:"Update CV state",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r}=e;try{var s=t.sequences[0].element;"chapter"===s.subType?(n.chapter=s.atts.number,n.verses=0,n.lastWord="",n.currentOccurrences={},r.stripped[n.chapter]={},r.stripped[n.chapter][n.verses]={}):"verses"===s.subType&&(n.verses=s.atts.number,n.lastWord="",n.currentOccurrences={},r.stripped[n.chapter][n.verses]={})}catch(e){throw console.error(e),e}return!0}}]}},rh=function(e){return e&&e.__esModule?e:{default:e}}(Wf),sh=[["printable","wordLike",(0,rh.default)("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",(0,rh.default)("([\\p{Separator}\t]{1,127})")],["printable","punctuation",(0,rh.default)("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",(0,rh.default)("(.)")]],oh=rh.default.union(sh.map((e=>e[2]))),ih={type:"end_milestone",subtype:"usfm:zaln"},ah={mergeAlignmentActions:{startDocument:[{description:"setup",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;return t.chapter=null,t.verses=null,t.currentOccurrences={},n.unalignedWords={},!0}}],text:[{description:"add-to-text",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;try{let e=function(){for(;p.length;)r.outputContentStack[0].push(p.shift())};if("main"!==n.sequences[0].type)return!0;var o=n.sequences[0].element.text,i=rh.default.match(o,oh,"all"),{chapter:a,verses:c}=r;if(!c)return!0;var{totalOccurrences:u,strippedAlignment:d}=t,l={opened:null},p=[],f=function(t){var n,o,i;if(!(null===(n=rh.default.match(t,sh[0][2],"all"))||void 0===n?void 0:n.length))return p.push(t),"continue";null!==(i=(o=r.currentOccurrences)[t])&&void 0!==i||(o[t]=0),r.currentOccurrences[t]++;var f=e=>[e,t,r.currentOccurrences[t],u[a][c][t]].join("--"),h=d[a][c],m=!1,S=h[f("after")],y=h[f("before")];if(null!=y&&y.length&&e(),null!=S&&S.length&&!l.opened&&(S.map((e=>{var{startMilestone:t}=e;return r.outputContentStack[0].push(t)})),m=!0),null==y||y.forEach((e=>{var{payload:t}=e;"start_milestone"!==t.type&&r.outputContentStack[0].push(t),"start_milestone"!==t.type||m||(r.outputContentStack[0].push(t),l.opened=!0)})),null==S||S.forEach((e=>{var{payload:t}=e;l.opened=!1,r.outputContentStack[0].push(t)})),null==y||!y.length){var g,b,v,E;l.opened&&(r.outputContentStack[0].push(ih),l.opened=!1),e(),null!==(b=(g=s.unalignedWords)[a])&&void 0!==b||(g[a]={}),null!==(E=(v=s.unalignedWords[a])[c])&&void 0!==E||(v[c]=[]),s.unalignedWords[r.chapter][r.verses].push({word:t,occurrence:r.currentOccurrences[t],totalOccurrences:u[a][c][t]});var A=(e=>{var{subtype:t,content:n=[],atts:r={}}=e;return Object.keys(r).length>0?{type:"wrapper",subtype:t,content:n,atts:r}:{type:"wrapper",subtype:t,content:n}})({subtype:"usfm:w",content:[t]});r.outputContentStack[0].push(A)}};for(var h of i)f(h);return e(),!1}catch(e){throw console.error(e),e}}}],mark:[{description:"mark-chapters",test:e=>{var{context:t}=e;return"chapter"===t.sequences[0].element.subType},action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element;return r.chapter=o.atts.number,r.verses=0,!0}},{description:"mark-verses",test:e=>{var{context:t}=e;return"verses"===t.sequences[0].element.subType},action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element;return r.verses=o.atts.number,r.currentOccurrences={},!0}}]}},{verseWordsActions:ch}=zf,{stripMarkupActions:uh}=nh,{mergeAlignmentActions:dh}=ah,lh={verseWordsActions:ch,stripMarkupActions:uh,mergeAlignmentActions:dh},ph=class{constructor(e){if(!e)throw new Error("Must provide a constructor object to constructor");this.description=e.description||function(e){throw new Error("Must provide a description in constructor object")}(),this.test=e.test||(()=>!0),this.action=e.action||(()=>null)}},fh=class e{constructor(t){if(this.constructor===e)throw new Error("Abstract class ProskommaRender cannot be instantiated - make as subclass!");var n=t.actions||{};for(var r of(this.debugLevel=t.debugLevel||0,this.actions={},["startDocument","endDocument","startSequence","endSequence","unresolvedBlockGraft","blockGraft","startParagraph","endParagraph","metaContent","mark","unresolvedInlineGraft","inlineGraft","startWrapper","endWrapper","startMilestone","endMilestone","text"]))n[r]?this.actions[r]=n[r].map((e=>new ph(e))):this.actions[r]=[]}addRenderActionObject(e,t){if(!this.actions[e])throw new Error("Unknown event '".concat(e));this.actions[e].push(t)}addRenderAction(e,t){this.addRenderActionObject(e,new ph(t))}describeRenderActions(e){if(!this.actions[e])throw new Error("Unknown event '".concat(e));var t=["**Actions for ".concat(e,"**\n")];for(var n of this.actions[e])t.push("IF ".concat(n.test.toString(),":")),t.push("    DO ".concat(n.description));return t.join("\n")}renderDocument(e){var{docId:t,config:n,output:r}=e;return this.renderDocument1({docId:t,config:n,context:{},workspace:{},output:r}),r}renderDocument1(e){throw new Error("Define renderDocument1() in subclass")}renderEvent(e,t){var n=t.context;if(this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"EVENT ").concat(e)),!this.actions[e])throw new Error("Unknown event '".concat(e));var r=!1;for(var s of this.actions[e]){var o=!1;try{o=s.test(t)}catch(t){var i="Exception from test of action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(t);throw new Error(i)}if(o){r=!0,this.debugLevel>0&&console.log("".concat("    ".repeat(n.sequences.length),"    ").concat(e," action: ").concat(s.description));var a=!1;try{a=s.action(t)}catch(t){throw new Error("Exception from action '".concat(s.description,"' for event ").concat(e," in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: ").concat(t))}if(!a)break}}if(["unresolvedBlockGraft","unresolvedInlineGraft"].includes(e)&&0===this.actions[e].length)throw new Error("No action for ".concat(e," graft event in ").concat(n.sequences.length>0?n.sequences[0].type:"no"," sequence: add an action or fix your data!"));!r&&this.debugLevel>1&&console.log("".concat("    ".repeat(n.sequences.length),"    No matching action"))}},hh=fh,mh=class extends hh{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson}renderDocument1(e){var{docId:t,config:n,context:r,workspace:s,output:o}=e,i={config:n,context:r,workspace:s,output:o};r.renderer=this,r.document={id:t,schema:this.srcJson.schema,metadata:this.srcJson.metadata,mainSequenceId:this.srcJson.main_sequence_id,nSequences:Object.keys(this.srcJson.sequences).length},r.sequences=[],this.renderEvent("startDocument",i),this.renderSequenceId(i,this.srcJson.main_sequence_id),this.renderEvent("endDocument",i)}sequenceContext(e,t){return{id:t,type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequenceId(e,t){var n=e.context,r=this.srcJson.sequences[t];if(!r)throw new Error("Sequence '".concat(t,"' not found in renderSequenceId()"));for(var[s,o]of(n.sequences.unshift(this.sequenceContext(r,t)),this.renderEvent("startSequence",e),r.blocks.entries()))n.sequences[0].block={type:o.type,subType:o.subtype,blockN:s,wrappers:[]},"graft"===o.type?o.target&&!this.srcJson.sequences[o.target]?(n.sequences[0].block.target=o.target,this.renderEvent("unresolvedBlockGraft",e)):(n.sequences[0].block.target=o.target,n.sequences[0].block.isNew=o.new||!1,this.renderEvent("blockGraft",e)):(this.renderEvent("startParagraph",e),this.renderContent(o.content,e),this.renderEvent("endParagraph",e)),delete n.sequences[0].block;this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,t){for(var n of e)this.renderElement(n,t)}renderElement(e,t){var n=n=>{e.meta_content&&(n.metaContent=e.meta_content,this.renderEvent("metaContent",t))},r=t.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:"end_milestone"!==s.type&&"meta_content"!==s.type&&(s.atts={}),e.target&&(s.target=e.target),"graft"===e.type&&(s.isNew=e.new||!1),"text"===s.type&&(s.text=e),r.sequences[0].element=s,"text"===s.type)this.renderEvent("text",t),n(s);else if("mark"===s.type)this.renderEvent("mark",t),n(s);else if("start_milestone"===s.type)this.renderEvent("startMilestone",t),n(s);else if("end_milestone"===s.type)this.renderEvent("endMilestone",t),n(s);else if("graft"===s.type){if(e.target&&e.target&&!this.srcJson.sequences[e.target])return void this.renderEvent("unresolvedInlineGraft",t);this.renderEvent("inlineGraft",t),n(s)}else{if("wrapper"!==s.type)throw new Error("Unexpected element type '".concat(s.type));r.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",t),this.renderContent(e.content,t),r.sequences[0].element=s,n(s),this.renderEvent("endWrapper",t),r.sequences[0].block.wrappers.shift()}delete r.sequences[0].element}},Sh=function(e){return e&&e.__esModule?e:{default:e}}(mh),{verseWordsActions:yh}=zf,gh={verseWords:{name:"verseWords",type:"Transform",description:"PERF=>JSON: Counts words occurrences",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"verseWords",type:"json"}],code:function(e){var{perf:t}=e,n={};return new Sh.default({srcJson:t,actions:yh}).renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}}}},bh=e=>{var t={};for(var n of e)for(var r of Object.keys(n))t[r]?t[r].push(...n[r]):t[r]=n[r];return t},vh={identityActions:{startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;s.perf={},s.perf.schema=n.document.schema,s.perf.metadata=n.document.metadata,s.perf.sequences={}}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;s.perf.sequences[n.sequences[0].id]={type:n.sequences[0].type,blocks:[]},r.outputSequence=s.perf.sequences[n.sequences[0].id],"main"===n.sequences[0].type&&(s.perf.main_sequence_id=n.sequences[0].id)}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;n.sequences.length>1&&(r.outputSequence=s.perf.sequences[n.sequences[1].id])}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,n={type:t.type,subtype:t.subType};t.target&&(n.target=t.target,e.context.renderer.renderSequenceId(e,n.target)),t.isNew&&(n.new=t.isNew),e.workspace.outputSequence.blocks.push(n)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].block,i={type:o.type,subtype:o.subType,content:[]};r.outputSequence.blocks.push(i),r.currentContent=i.content,r.outputBlock=r.outputSequence.blocks[r.outputSequence.blocks.length-1],r.outputContentStack=[r.outputBlock.content]}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element;r.currentContent=o.metaContent;var i=r.outputContentStack[1][r.outputContentStack[1].length-1];i.meta_content=[],r.outputContentStack.unshift(i.meta_content),n.renderer.renderContent(r.currentContent,e),r.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element,i={type:o.type,subtype:o.subType};o.atts&&"object"==typeof o.atts&&0!==Object.keys(o.atts).length&&(i.atts=o.atts),r.outputContentStack[0].push(i)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,n={type:t.type,subtype:t.subType};if(t.target){n.target=t.target;var r=e.workspace.outputContentStack[0];e.context.renderer.renderSequenceId(e,t.target),e.workspace.outputContentStack[0]=r}t.isNew&&(n.new=t.isNew),e.workspace.outputContentStack[0].push(n)}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element,i={type:o.type,subtype:o.subType,content:[]};"atts"in o&&"object"==typeof o.atts&&0!==Object.keys(o.atts).length&&(i.atts=o.atts),r.outputContentStack[0].push(i),r.outputContentStack.unshift(i.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;r.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element,i={type:o.type,subtype:o.subType};o.atts&&"object"==typeof o.atts&&0!==Object.keys(o.atts).length&&(i.atts=o.atts),r.outputContentStack[0].push(i)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element,i={type:o.type,subtype:o.subType};r.outputContentStack[0].push(i)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e,o=n.sequences[0].element;r.outputContentStack[0].push(o.text)}}]}},Eh=Th(mh),Ah=Th(bh);function Th(e){return e&&e.__esModule?e:{default:e}}var{identityActions:wh}=vh,{stripMarkupActions:kh}=nh,Ih={stripAlignment:{name:"stripAlignment",type:"Transform",description:"PERF=>PERF: Strips alignment markup",inputs:[{name:"perf",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],code:function(e){var{perf:t,verseWords:n}=e,r={};return new Eh.default({srcJson:t,actions:(0,Ah.default)([kh,wh])}).renderDocument({docId:"",config:{verseWords:n},output:r}),{perf:r.perf,strippedAlignment:r.stripped,unalignedWords:r.unalignedWords}}}},Ph=Oh(mh),Nh=Oh(bh);function Oh(e){return e&&e.__esModule?e:{default:e}}var{identityActions:_h}=vh,{mergeAlignmentActions:xh}=ah,Ch={mergeAlignment:{name:"mergeAlignment",type:"Transform",description:"PERF=>PERF adds report to verses",inputs:[{name:"perf",type:"json",source:""},{name:"strippedAlignment",type:"json",source:""},{name:"verseWords",type:"json",source:""}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],code:function(e){var{perf:t,verseWords:n,strippedAlignment:r}=e,s={};return new Ph.default({srcJson:t,actions:(0,Nh.default)([xh,_h])}).renderDocument({docId:"",config:{totalOccurrences:n,strippedAlignment:r},output:s}),{perf:s.perf,unalignedWords:s.unalignedWords}}}},{verseWords:$h}=gh,{stripAlignment:Dh}=Ih,{mergeAlignment:Rh}=Ch,Bh={transforms:{verseWords:$h,stripAlignment:Dh,mergeAlignment:Rh},renderActions:lh},qh=function(e){var{usfm:t,selectors:n,proskomma:r}=e;r.importDocuments(n,"usfm",[t]);var s=r.gqlQuerySync("{documents {id docSetId perf} }").data.documents[0],o=s.id,i=s.docSetId;return r.gqlQuerySync('mutation { deleteDocument(docSetId: "'.concat(i,'", documentId: "').concat(o,'") }')),{perf:JSON.parse(s.perf)}},jh={usfmToPerf:{name:"usfmToPerf",type:"Transform",description:"USFM=>PERF: Conversion via Proskomma",inputs:[{name:"usfm",type:"text",source:""},{name:"selectors",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:qh},usfmToPerfCode:qh},{usfmToPerf:Mh,usfmToPerfCode:Gh}=jh,Lh={transforms:{usfmToPerf:Mh,usfmToPerfCode:Gh},renderActions:{}};function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vh={startDocument:[{description:"identity",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;s.sofria={},s.sofria.schema=n.document.schema,s.sofria.metadata=n.document.metadata,s.sofria.sequence={},r.currentSequence=s.sofria.sequence,r.chapter=null,r.verses=null,r.cachedChapter=null,r.cachedVerses=null}}],endDocument:[{description:"identity",test:()=>!0,action:e=>{}}],startSequence:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e;n.currentSequence.type=t.sequences[0].type,n.currentSequence.blocks=[]}}],endSequence:[{description:"identity",test:()=>!0,action:e=>{var{workspace:t}=e;"main"===t.currentSequence.type&&(t.chapter=null,t.verses=null),t.currentSequence=null}}],blockGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].block,n={type:t.type};if(t.sequence){n.sequence={};var r=e.workspace.currentSequence;e.workspace.currentSequence=n.sequence,e.context.renderer.renderSequence(e),e.workspace.currentSequence=r}e.workspace.currentSequence.blocks.push(n)}}],startParagraph:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].block,s={type:r.type,subtype:r.subType,content:[]};if(n.currentSequence.blocks.push(s),n.currentContent=s.content,n.outputBlock=n.currentSequence.blocks[n.currentSequence.blocks.length-1],n.outputContentStack=[n.outputBlock.content],"main"===n.currentSequence.type)for(var o of["chapter","verses"])if(n[o]){var i={type:"wrapper",subtype:o,content:[],atts:{number:n[o]}};n.outputContentStack[0].push(i),n.outputContentStack.unshift(i.content)}}}],endParagraph:[{description:"identity",test:()=>!0,action:e=>{}}],metaContent:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;n.currentContent=r.metaContent;var s=n.outputContentStack[1][n.outputContentStack[1].length-1];s.meta_content=[],n.outputContentStack.unshift(s.meta_content),t.renderer.renderContent(n.currentContent,e),n.outputContentStack.shift()}}],mark:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element,s={type:r.type,subtype:r.subType};r.atts&&(s.atts=r.atts),n.outputContentStack[0].push(s)}}],inlineGraft:[{description:"identity",test:()=>!0,action:e=>{var t=e.context.sequences[0].element,n={type:t.type,subtype:t.subType,sequence:{}},r=e.workspace.currentSequence,s=[...e.workspace.outputContentStack];e.workspace.currentSequence=n.sequence,e.context.renderer.renderSequence(e),e.workspace.outputContentStack=s,e.workspace.currentSequence=r,e.workspace.outputContentStack[0].push(n)}}],startWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;"chapter"===r.subType?(n.chapter=r.atts.number,n.cachedChapter=n.chapter):"verses"===r.subType&&(n.verses=r.atts.number,n.cachedVerses=n.verses);var s={type:r.type,subtype:r.subType,content:[]};if("atts"in r&&(s.atts=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){Fh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.atts)),0===n.outputContentStack.length)throw new Error("outputContentStack is empty before pushing to its first element, near ".concat(t.document.metadata.document.bookCode," ").concat(n.cachedChapter,":").concat(n.cachedVerses));n.outputContentStack[0].push(s),n.outputContentStack.unshift(s.content)}}],endWrapper:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;"chapter"===r.subType?n.chapter=null:"verses"===r.subType&&(n.verses=null),n.outputContentStack.shift()}}],startMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element,s={type:r.type,subtype:r.subType};r.atts&&(s.atts=r.atts),n.outputContentStack[0].push(s)}}],endMilestone:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element,s={type:r.type,subtype:r.subType};n.outputContentStack[0].push(s)}}],text:[{description:"identity",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;n.outputContentStack[0].push(r.text)}}]},Jh={identityActions:Vh},{identityActions:Hh}=Jh,Kh={identityActions:Hh},Wh={identity:{name:"identity",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:function(e){var{perf:t}=e,n={};return new PerfRenderFromJson({srcJson:t,actions:identityAction}).renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}}}},{identity:Xh}=Wh,Yh={transforms:{identity:Xh},renderActions:Kh},zh={wordCountActions:{startDocument:[{description:"Set up word object",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;r.words={}}}],text:[{description:"Split strings and add words to word object",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;for(var o of n.sequences[0].element.text.split(/[\s:;,.]+/).filter((e=>e.length>0)))(o=o.toLowerCase())in r.words?r.words[o]+=1:r.words[o]=1}}],endDocument:[{description:"Sort words",test:()=>!0,action:e=>{var{config:t,context:n,workspace:r,output:s}=e;s.words=[...Object.entries(r.words)].sort(((e,t)=>t[1]-e[1]))}}]}},Zh=e=>({type:e.sequences[0].block.type,subType:e.sequences[0].block.subType,pos:e.sequences[0].block.blockN,perfChapter:null}),Qh={calculateUsfmChapterPositionsActions:{startDocument:[{description:"Set up storage",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;t.blockRecords=[],n.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r}=e;n.blockRecords.push(Zh(t))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:e=>{var{context:t,workspace:n,output:r}=e;n.blockRecords.push(Zh(t))}}],mark:[{description:"Add chapter number to block record",test:e=>{var{context:t}=e;return"chapter"===t.sequences[0].element.subType},action:e=>{var{config:t,context:n,workspace:r,output:s}=e;r.blockRecords[r.blockRecords.length-1].perfChapter=n.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;for(var[r,s]of Object.entries(t.blockRecords))if(s.perfChapter){for(var o=r,i=!1;o>0&&!i;)"paragraph"===t.blockRecords[o-1].type||"title"===t.blockRecords[o-1].subType?i=!0:o--;n.report[o.toString()]=s.perfChapter}}}]}},em=e=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(e)?e+"1":e,tm={perfToUsfmActions:{startDocument:[{description:"Set up environment",test:()=>!0,action:e=>{var{context:t,workspace:n}=e;for(var[r,s]of(n.usfmBits=[""],n.nestedWrapper=0,Object.entries(t.document.metadata.document).filter((e=>!["tags","properties","bookCode","cl"].includes(e[0])))))n.usfmBits.push("\\".concat(em(r)," ").concat(s,"\n"))}}],blockGraft:[{description:"Follow block grafts",test:e=>{var{context:t}=e;return["title","heading","introduction"].includes(t.sequences[0].block.subType)},action:e=>{var t=e.context.sequences[0],n=e.config.report[t.block.blockN.toString()],r=t.block.target;n&&"main"===t.type&&e.workspace.usfmBits.push("\n\\c ".concat(n,"\n")),r&&e.context.renderer.renderSequenceId(e,r)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:e=>{var t=e.context.sequences[0].element.target;t&&e.context.renderer.renderSequenceId(e,t)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return"usfm:f"===t.sequences[0].block.subType&&"footnote"===t.sequences[0].type||"usfm:x"===t.sequences[0].block.subType&&"xref"===t.sequences[0].type},action:e=>{var{context:t,workspace:n,config:r}=e;n.nestedWrapper=0;var s=t.sequences[0];n.usfmBits.push("\\".concat(em(s.block.subType.split(":")[1])," "))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return"usfm:f"===t.sequences[0].block.subType||"usfm:x"===t.sequences[0].block.subType},action:e=>{var{context:t,workspace:n,config:r}=e;n.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:e=>{var{context:t,workspace:n,config:r}=e;n.nestedWrapper=0;var s=t.sequences[0],o=r.report[s.block.blockN.toString()];o&&"main"===s.type&&n.usfmBits.push("\n\\c ".concat(o,"\n")),n.usfmBits.push("\n\\".concat(em(s.block.subType.split(":")[1]),"\n"))}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:e=>{var{context:t}=e;return"usfm:f"===t.sequences[0].block.subType&&"footnote"===t.sequences[0].type||"usfm:x"===t.sequences[0].block.subType&&"xref"===t.sequences[0].type},action:e=>{var{context:t,workspace:n,config:r}=e,s=t.sequences[0];n.usfmBits.push("\\".concat(em(s.block.subType.split(":")[1]),"*"))}},{description:"Output footnote note_caller tag (footnote)",test:e=>{var{context:t}=e;return"usfm:f"===t.sequences[0].block.subType||"usfm:x"===t.sequences[0].block.subType},action:e=>{}},{description:"Output nl",test:()=>!0,action:e=>{var{workspace:t}=e;t.usfmBits.push("\n")}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null==t&&(t={});var n="\\".concat(e,"-s |");for(var[r,s]of Object.entries(t))n="x-morph"===r&&"string"!=typeof s?n+em(r)+'="'+s.join(",")+'" ':n+em(r)+'="'+s+'" ';return n+"\\*"}(em(r.subType.split(":")[1]),r.atts);n.usfmBits.push(s)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:e=>{var{context:t,workspace:n}=e;n.usfmBits.push("\\".concat(em(t.sequences[0].element.subType.split(":")[1]),"-e\\*"))}}],text:[{description:"Output text",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element.text;n.usfmBits.push(r)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:e=>{var{context:t,workspace:n}=e,r=t.sequences[0].element;"verses"===r.subType&&n.usfmBits.push("\n\\v ".concat(r.atts.number,"\n"))}}],endSequence:[{description:"Output \\cl",test:e=>{var{context:t}=e;return t.document.metadata.document.cl&&"title"===t.sequences[0].type},action:e=>{var{context:t,workspace:n}=e;n.usfmBits.push("\n\\cl ".concat(t.document.metadata.document.cl,"\n"))}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:e=>{var{workspace:t,context:n}=e,r=n.sequences[0];t.nestedWrapper>0?t.usfmBits.push("\\+".concat(em(r.element.subType.split(":")[1])," ")):t.usfmBits.push("\\".concat(em(r.element.subType.split(":")[1])," ")),t.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:e=>{var{context:t}=e;return!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(t.sequences[0].element.subType.split(":")[1])},action:e=>{var{workspace:t,context:n}=e;t.nestedWrapper-=1;var r=n.sequences[0],s=r.element.subType.split(":")[1],o=t.nestedWrapper>0;if("w"===s){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];null==t&&(t={});var r="|";for(var[s,o]of Object.entries(t))r=r+em(s)+'="'+o+'" ';return r+="\\",n&&(r+="+"),r+e+"*"}(em(s),r.element.atts,o);t.usfmBits.push(i)}else o?t.usfmBits.push("\\+".concat(em(r.element.subType.split(":")[1]),"*")):t.usfmBits.push("\\".concat(em(r.element.subType.split(":")[1]),"*"))}},{description:"Do NOT output end tag",test:()=>!0,action:e=>{var{workspace:t}=e;t.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:e=>{var{workspace:t,output:n}=e;n.usfm=t.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,"\n")}}]}},{wordCountActions:nm}=zh,{calculateUsfmChapterPositionsActions:rm}=Qh,{perfToUsfmActions:sm}=tm,om={wordCountActions:nm,perfToUsfmActions:sm,calculateUsfmChapterPositionsActions:rm},im=function(e){return e&&e.__esModule?e:{default:e}}(mh),{wordCountActions:am}=zh,cm={wordCount:{name:"wordCount",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:function(e){var{perf:t}=e,n={};return new im.default({srcJson:t,actions:am}).renderDocument({docId:"",config:{},output:n}),{report:n.report}}}},um=function(e){return e&&e.__esModule?e:{default:e}}(mh),{calculateUsfmChapterPositionsActions:dm}=Qh,lm={calculateUsfmChapterPositions:{name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:function(e){var{perf:t}=e,n={};return new um.default({srcJson:t,actions:dm}).renderDocument({docId:"",config:{maxLength:60},output:n}),{report:n.report}}}},pm=function(e){return e&&e.__esModule?e:{default:e}}(mh),{perfToUsfmActions:fm}=tm,hm={perfToUsfm:{name:"perfToUsfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:function(e){var{perf:t,report:n}=e,r={};return new pm.default({srcJson:t,actions:fm}).renderDocument({docId:"",config:{report:n},output:r}),{usfm:r.usfm}}}},{wordCount:mm}=cm,{calculateUsfmChapterPositions:Sm}=lm,{perfToUsfm:ym}=hm,gm={transforms:{wordCount:mm,perfToUsfm:ym,calculateUsfmChapterPositions:Sm},renderActions:om},bm={justTheBibleActions:{startMilestone:[{description:"Ignore startMilestone events",test:()=>!0,action:()=>{}}],endMilestone:[{description:"Ignore endMilestone events",test:()=>!0,action:()=>{}}],startWrapper:[{description:"Ignore startWrapper events",test:()=>!0,action:()=>{}}],endWrapper:[{description:"Ignore endWrapper events",test:()=>!0,action:()=>{}}],blockGraft:[{description:"Ignore blockGraft events, except for title (\\mt)",test:e=>"title"!==e.context.sequences[0].block.subType,action:e=>{}}],inlineGraft:[{description:"Ignore inlineGraft events",test:()=>!0,action:()=>{}}],mark:[{description:"Ignore mark events, except for chapter and verses",test:e=>{var{context:t}=e;return!["chapter","verses"].includes(t.sequences[0].element.subType)},action:()=>{}}]}},{identityActions:vm}=vh,{justTheBibleActions:Em}=bm,Am={identityActions:vm,justTheBibleActions:Em},{identityActions:Tm}=vh,wm={identity:{name:"identityTransform",type:"Transform",description:"identity operation",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:function(e){var{perf:t}=e,n={};return new PerfRenderFromJson({srcJson:t,actions:Tm}).renderDocument({docId:"",config:{},output:n}),{verseWords:n.cv}}}},km=Pm(mh),Im=Pm(bh);function Pm(e){return e&&e.__esModule?e:{default:e}}var{identityActions:Nm}=vh,{justTheBibleActions:Om}=bm,_m={justTheBible:{name:"justTheBible",type:"Transform",description:"PERF=>PERF: Strips most markup",documentation:"This transform removes milestones, wrappers and most marks. It has been used in several pipelines. It may also be stripping metaContent.",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:function(e){var{perf:t}=e,n={};return new km.default({srcJson:t,actions:(0,Im.default)([Om,Nm])}).renderDocument({docId:"",config:{},output:n}),{perf:n.perf}}}};const xm={},Cm=e=>{let t=typeof e;return"number"===t||"string"===t||"boolean"===t||"undefined"===t||"bigint"===t||"symbol"===t||null===e},$m=e=>{if(Cm(e)||!(e instanceof Object))return"primitive";const t=e.constructor&&e.constructor.name&&e.constructor.name.toLowerCase();if("string"==typeof t&&t.length&&xm[t])return t;let n;for(const t in xm)if(n=xm[t].type,!n||e instanceof n)return t;return"unknown"};Object.assign(xm,{array:{type:Array,mayDeepCopy:!0,addElement:(e,t,n)=>Array.prototype.push.call(e,n),makeEmpty:e=>{const t=[];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},makeShallow:e=>{const t=[...e];return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},iterate:(e,t,n)=>{const r=e.length;for(let t=0;t<r;t++){const r=e[t];n({key:t,value:r,type:$m(r)})}}}}),Object.assign(xm,{date:{type:Date,makeShallow:e=>new Date(e.getTime())}}),Object.assign(xm,{regexp:{type:RegExp,makeShallow:e=>new RegExp(e)}}),Object.assign(xm,{function:{type:Function,makeShallow:e=>e}}),Object.assign(xm,{error:{type:Error,makeShallow:e=>{const t=new Error(e.message);return t.stack=e.stack,t}}}),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"].forEach((e=>(e=>{let t=void 0!==D&&D[e]||"undefined"!=typeof window&&window[e]||"undefined"!=typeof WorkerGlobalScope&&WorkerGlobalScope[e];void 0!==t&&(xm[e.toLowerCase()]={type:t,makeShallow:e=>t.from(e)})})(e))),"undefined"!=typeof ArrayBuffer&&Object.assign(xm,{arraybuffer:{type:ArrayBuffer,makeShallow:e=>e.slice(0)}}),"undefined"!=typeof Map&&Object.assign(xm,{map:{type:Map,mayDeepCopy:!0,addElement:(e,t,n)=>e.set(t,n),makeEmpty:()=>new Map,makeShallow:e=>new Map(e),iterate:(e,t,n)=>{e.forEach(((e,t)=>{const r={key:t,value:e,type:$m(e)};n(r)}))}}}),"undefined"!=typeof Set&&Object.assign(xm,{set:{type:Set,mayDeepCopy:!0,addElement:(e,t,n)=>e.add(n),makeEmpty:()=>new Set,makeShallow:e=>new Set(e),iterate:(e,t,n)=>{e.forEach((e=>{const t={key:null,value:e,type:$m(e)};n(t)}))}}}),"undefined"!=typeof WeakSet&&Object.assign(xm,{weakset:{type:WeakSet,makeShallow:e=>e}}),"undefined"!=typeof WeakMap&&Object.assign(xm,{weakmap:{type:WeakMap,makeShallow:e=>e}}),"undefined"!=typeof Buffer&&Object.assign(xm,{buffer:{type:Buffer,makeShallow:e=>Buffer.from(e)}}),Object.assign(xm,{object:{type:Object,mayDeepCopy:!0,addElement:(e,t,n,r=void 0)=>{r?Object.defineProperty(e,t,r):e[t]=n},makeEmpty:e=>{const t={};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},makeShallow:e=>{const t=Object.assign({},e);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t},iterate:(e,t,n)=>{const r=t?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;for(let o=0;o<s;o++){const s=r[o],i=e[s],a={key:s,value:i,type:$m(i)};t&&!e.propertyIsEnumerable(s)&&(a.descriptor=Object.getOwnPropertyDescriptor(e,s)),n(a)}}}}),Object.assign(xm,{unknown:{makeShallow:e=>e},primitive:{makeShallow:e=>e}});var Dm=[Cm,$m,function(e){return xm[e]}];const[Rm,Bm,qm]=Dm,jm={goDeep:!0,includeNonEnumerable:!1,detectCircular:!0,maxDepth:20};class Mm{constructor(){this._seenMap=new WeakMap}setAsCopied(e,t){e instanceof Object&&this._seenMap.set(e,t)}wasCopied(e){return e instanceof Object&&this._seenMap.has(e)}getCopy(e){return this._seenMap.get(e)}}const Gm=(e,t,n)=>{const{destObject:r,srcType:s,watcher:o,options:i}=t,a=i.detectCircular;!function(e,t){if(e>=t)throw`Error max depth of ${t} levels exceeded, possible circular reference`}(++n,i.maxDepth);const c=qm(s);if(!c.mayDeepCopy)return;const u=c.addElement;c.iterate(e,i.includeNonEnumerable,(e=>{const t=e.value,s=e.type,c=qm(s);let d,l=!1;a&&o.wasCopied(t)?(d=o.getCopy(t),l=!0):d=function(e,t,n){const{options:r,watcher:s}=n;let o;return t.mayDeepCopy?(o=t.makeEmpty(e),r.detectCircular&&s.setAsCopied(e,o)):o=t.makeShallow(e),o}(t,c,{options:i,watcher:o}),u(r,e.key,d,e.descriptor),c.mayDeepCopy&&!l&&Gm(t,{destObject:d,srcType:s,watcher:o,options:i},n)}))};var Lm=function(e,t=jm){if(function(e){Object.keys(jm).forEach((t=>{void 0===e[t]&&(e[t]=jm[t])}))}(t),Rm(e))return e;const n=Bm(e),r=qm(n);if(!t.goDeep||!r.mayDeepCopy)return r.makeShallow(e);const s=t.detectCircular?new Mm:null;let o=r.makeEmpty(e);return t.detectCircular&&s.setAsCopied(e,o),Gm(e,{destObject:o,srcType:n,watcher:s,options:t},0),o},Um=function(e){return e&&e.__esModule?e:{default:e}}(Lm),Fm=e=>{var t=[];for(var n of e)"string"==typeof n?t.length>0&&"string"==typeof t[t.length-1]?t[t.length-1]+=n:t.push(n):(n.content&&(n.content=Fm(n.content)),n.metaContent&&(n.metaContent=Fm(n.content)),t.push(n));return t},Vm=e=>{var t=(0,Um.default)(e);for(var n of Object.values(t.sequences))for(var r of n.blocks)r.content&&(r.content=Fm(r.content)),r.metaContent&&(r.metaContent=Fm(r.metaContent));return t},Jm=function(e){var{perf:t}=e;return{perf:Vm(t)}},Hm={mergePerfText:{name:"mergePerfText",type:"Transform",description:"PERF=>PERF: Merge consecutive text strings",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"perf",type:"json"}],code:Jm},mergePerfTextCode:Jm},{identity:Km}=wm,{justTheBible:Wm}=_m,{mergePerfText:Xm,mergePerfTextCode:Ym}=Hm,zm={xToPerf:Lh,perfToX:gm,sofriaToSofria:Yh,alignment:Bh,perfToPerf:{transforms:{identity:Km,justTheBible:Wm,mergePerfText:Xm,mergePerfTextCode:Ym},renderActions:Am}},Zm=rS([{id:0,type:"Inputs",inputs:{usfm:"text",selectors:"json"}},{id:2,title:"USFM to PERF",name:"usfmToPerf",type:"Transform",inputs:[{name:"usfm",type:"text",source:"Input usfm"},{name:"selectors",type:"json",source:"Input selectors"}],outputs:[{name:"perf",type:"json"}],description:"USFM=>PERF: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 2 perf"}]}]),Qm=rS([{id:0,type:"Inputs",inputs:{perf:"json",strippedAlignment:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",transformName:"verseWords",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Merge Back Into Stripped (roundtrip)",name:"mergeAlignment",transformName:"mergeAlignment",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"strippedAlignment",type:"json",source:"Input strippedAlignment"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF adds report to verses"},{id:3,title:"Merge Merged PERF Text",name:"mergePerfText",transformName:"mergePerfText",type:"Transform",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}]),eS=rS([{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Count stripped perf words",name:"verseWords",type:"Transform",transformName:"verseWords",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"verseWords",type:"json"}],description:"PERF=>JSON: Counts words occurrences"},{id:2,title:"Strip Alignment",name:"stripAlignment",type:"Transform",transformName:"stripAlignment",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"verseWords",type:"json",source:"Transform 1 verseWords"}],outputs:[{name:"perf",type:"json"},{name:"strippedAlignment",type:"json"},{name:"unalignedWords",type:"json"}],description:"PERF=>PERF: Strips alignment markup"},{id:3,title:"Merge stripped perf",name:"mergePerfText",type:"Transform",transformName:"mergePerfText",inputs:[{name:"perf",type:"json",source:"Transform 2 perf"}],outputs:[{name:"perf",type:"json"}],description:"PERF=>PERF: Merge consecutive text strings"},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 3 perf"},{name:"strippedAlignment",type:"json",source:"Transform 2 strippedAlignment"},{name:"unalignedWords",type:"json",source:"Transform 2 unalignedWords"}]}]),tS=rS([{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perfToUsfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}]),nS=rS([{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Simplify Input PERF",name:"justTheBible",transformName:"justTheBible",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"perf",type:"json"}]},{id:999,type:"Outputs",outputs:[{name:"perf",type:"json",source:"Transform 1 perf"}]}]);function rS(e){return e&&e.__esModule?e:{default:e}}var sS={usfmToPerfPipeline:Zm.default,mergeAlignmentPipeline:Qm.default,stripAlignmentPipeline:eS.default,perfToUsfmPipeline:tS.default,justTheBiblePipeline:nS.default};function oS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oS(Object(n),!0).forEach((function(t){aS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cS(e,t,n,r,s,o,i){try{var a=e[o](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}var uS=zm,dS=sS;function lS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lS(Object(n),!0).forEach((function(t){fS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hS=fh,mS=e=>{var t=[];for(var n of e.split(""))n.toUpperCase()===n&&n.toLowerCase()!==n?t.push("_".concat(n.toLowerCase())):t.push(n);return t.join("")},SS=fh;function yS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yS(Object(n),!0).forEach((function(t){bS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bS(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vS=fh,ES=e=>{var t=[];for(var n of e.split(""))n.toUpperCase()===n&&n.toLowerCase()!==n?t.push("_".concat(n.toLowerCase())):t.push(n);return t.join("")},AS={Validator:class{constructor(){for(var[e,t]of(this.schema={structure:{},constraint:{},proskomma:{}},[["succinct",{"0.2.0":[{name:"Proskomma Serialized Succinct",validator:(new Ef).compile(Af)}]}]]))this.schema.proskomma[e]=t;for(var[n,r]of[["document",{"0.2.1":[{name:"Document Structure",validator:(new Ef).addSchema(If).addSchema(kf).addSchema(wf).compile(Tf)}],"0.3.0":[{name:"Document Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).addSchema(Bf).compile(Rf)}]}],["sequence",{"0.2.1":[{name:"Sequence Structure",validator:(new Ef).addSchema(If).addSchema(kf).compile(wf)}],"0.3.0":[{name:"Sequence Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).compile(Bf)}]}]])this.schema.structure[n]=r;for(var[s,o]of[["perfDocument",{"0.2.1":[{name:"Document Structure",validator:(new Ef).addSchema(If).addSchema(kf).addSchema(wf).compile(Tf)},{name:"PERF Document",validator:(new Ef).addSchema(_f).addSchema(Of).addSchema(Nf).compile(Pf)}],"0.3.0":[{name:"Document Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).addSchema(Bf).compile(Rf)},{name:"PERF Document",validator:(new Ef).addSchema(Mf).addSchema(Ff).addSchema(Uf).addSchema(Lf).compile(Gf)}]}],["perfSequence",{"0.2.1":[{name:"Sequence Structure",validator:(new Ef).addSchema(If).addSchema(kf).compile(wf)},{name:"PERF Sequence",validator:(new Ef).addSchema(_f).addSchema(Of).compile(Nf)}],"0.3.0":[{name:"Sequence Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).compile(Bf)},{name:"PERF Sequence",validator:(new Ef).addSchema(Mf).addSchema(Ff).addSchema(Uf).compile(Lf)}]}],["sofriaDocument",{"0.2.1":[{name:"Document Structure",validator:(new Ef).addSchema(If).addSchema(kf).addSchema(wf).compile(Tf)},{name:"SOFRIA Document",validator:(new Ef).addSchema(Df).addSchema($f).addSchema(Cf).compile(xf)}],"0.3.0":[{name:"Document Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).addSchema(Bf).compile(Rf)},{name:"SOFRIA Document",validator:(new Ef).addSchema(Mf).addSchema(Kf).addSchema(Hf).addSchema(Jf).compile(Vf)}]}],["sofriaSequence",{"0.2.1":[{name:"Sequence Structure",validator:(new Ef).addSchema(If).addSchema(kf).compile(wf)},{name:"SOFRIA Sequence",validator:(new Ef).addSchema(Df).addSchema($f).compile(Cf)}],"0.3.0":[{name:"Sequence Structure",validator:(new Ef).addSchema(Mf).addSchema(jf).addSchema(qf).compile(Bf)},{name:"SOFRIA Sequence",validator:(new Ef).addSchema(Mf).addSchema(Kf).addSchema(Hf).compile(Jf)}]}]])this.schema.constraint[s]=o}schemaInfo(){var e={};for(var[t,n]of Object.entries(this.schema))for(var[r,s]of(e[t]={},Object.entries(n)))for(var[o,i]of(e[t][r]={},Object.entries(s)))e[t][r][o]=i.map((e=>e.name));return e}validate(e,t,n,r){if(void 0===r)throw new Error("data argument is missing. Usage: validate(schemaType, schemaKey, schemaVersion, data)");if(null===r)throw new Error("Data argument is null");var s=Object.keys(this.schema);if(!s.includes(e))throw new Error("Schema type must be one of ".concat(s.map((e=>"'".concat(e,"'"))).join(", "),", not '").concat(e,"'"));if(!this.schema[e][t])throw new Error("Unknown ".concat(e," schema key ").concat(t));if(!this.schema[e][t][n])throw new Error("Unknown version ".concat(n," for ").concat(e," schema key ").concat(t));var o,i=this.schema[e][t][n];for(var{name:a,validator:c}of i)if(!(o={validatorName:a,isValid:c(r),errors:c.errors}).isValid)break;return{requested:{schemaType:e,schemaKey:t,schemaVersion:n},lastSchema:o.validatorName,isValid:o.isValid,errors:o.errors}}},usfmHelps:{characterTags:["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt","th","thr","tc","tcr"],bodyTags:["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"],headingTags:["ms","mr","s","sr","r","qa","sp","sd"],introHeadingTags:["imt","is","imte"],introBodyTags:["ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex"]},ProskommaRender:fh,PerfRenderFromJson:mh,SofriaRenderFromJson:class extends SS{constructor(e){if(super(e),!e.srcJson)throw new Error("Must provide srcJson");this.srcJson=e.srcJson,this.cachedSequences=[]}renderDocument1(e){var{docId:t,config:n,context:r,workspace:s,output:o}=e,i={config:n,context:r,workspace:s,output:o};r.renderer=this,r.document={id:t,schema:this.srcJson.schema,metadata:this.srcJson.metadata},r.sequences=[],this.renderEvent("startDocument",i),this.renderSequence(i,this.srcJson.sequence),this.renderEvent("endDocument",i)}sequenceContext(e){return{type:e.type,nBlocks:e.blocks.length,milestones:new Set([])}}renderSequence(e,t){var n;if(t)n=t;else{if(0===this.cachedSequences.length)throw new Error("No sequence provided and no sequences cached");n=this.cachedSequences[0]}var r=e.context;for(var[s,o]of(r.sequences.unshift(n),this.renderEvent("startSequence",e),n.blocks.entries()))r.sequences[0].block={type:o.type,blockN:s,wrappers:[]},"graft"===o.type?(r.sequences[0].block.sequence=this.sequenceContext(o.sequence),this.cachedSequences.unshift(o.sequence),this.renderEvent("blockGraft",e),this.cachedSequences.shift()):(this.renderEvent("startParagraph",e),this.renderContent(o.content,e),this.renderEvent("endParagraph",e)),delete r.sequences[0].block;this.renderEvent("endSequence",e),this.cachedSequence=null,r.sequences.shift()}renderContent(e,t){for(var n of e)this.renderElement(n,t)}renderElement(e,t){var n=n=>{e.meta_content&&(n.metaContent=e.meta_content,this.renderEvent("metaContent",t))},r=t.context,s={type:e.type||"text"};if(e.subtype&&(s.subType=e.subtype),e.atts?s.atts=e.atts:"end_milestone"!==s.type&&"meta_content"!==s.type&&(s.atts={}),e.sequence&&(s.sequence=this.sequenceContext(e.sequence)),"text"===s.type&&(s.text=e),r.sequences[0].element=s,"text"===s.type)this.renderEvent("text",t),n(s);else if("mark"===s.type)this.renderEvent("mark",t),n(s);else if("start_milestone"===s.type)this.renderEvent("startMilestone",t),n(s);else if("end_milestone"===s.type)this.renderEvent("endMilestone",t),n(s);else if("graft"===s.type)this.cachedSequences.unshift(e.sequence),this.renderEvent("inlineGraft",t),this.cachedSequences.shift(),n(s);else{if("wrapper"!==s.type)throw new Error("Unexpected element type '".concat(s.type));r.sequences[0].block.wrappers.unshift(s.subType),this.renderEvent("startWrapper",t),this.renderContent(e.content,t),r.sequences[0].element=s,n(s),this.renderEvent("endWrapper",t),r.sequences[0].block.wrappers.shift()}delete r.sequences[0].element}},SofriaRenderFromProskomma:class extends vS{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null,this.cachedSequenceIds=[],this.sequences=null,this.currentCV={chapter:null,verses:null}}renderDocument1(e){var{docId:t,config:n,context:r,workspace:s,output:o}=e,i={config:n,context:r,workspace:s,output:o};r.renderer=this;var a=this.pk.gqlQuerySync('{\n          document(id: "'.concat(t,'") {\n            docSetId\n            mainSequence { id }\n            nSequences\n            sequences {\n              id\n              type\n              nBlocks\n            }\n            headers {\n              key\n              value\n            }\n          } \n        }')),c=a.data.document.docSetId,u=a.data.document.mainSequence.id,d=a.data.document.nSequences;for(var l of(this.sequences={},a.data.document.sequences))this.sequences[l.id]=l;var p={};for(var f of a.data.document.headers)p[f.key]=f.value;var h=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),m={};for(var S of h.data.docSet.selectors)m[S.key]=S.value;r.document={id:t,schema:{structure:"nested",structure_version:"0.2.1",constraints:[{name:"sofria",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:m,properties:{},tags:[]},document:gS(gS({},p),{},{properties:{},tags:[]})},mainSequenceId:u,nSequences:d},n.chapters&&(r.document.metadata.document.properties.chapters=n.chapters[0]),r.sequences=[],this.renderEvent("startDocument",i),this.cachedSequenceIds.unshift(u),this.renderSequence(i,u),this.cachedSequenceIds.shift(),this.renderEvent("endDocument",i)}sequenceContext(e,t){return{id:t,type:ES(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequence(e){var t=e.context,n=this.cachedSequenceIds[0],r=this.pk.gqlQuerySync('{document(id: "'.concat(t.document.id,'") {sequence(id:"').concat(n,'") {id type nBlocks blocks { os {payload} is {payload} } } } }')).data.document.sequence;if(!r)throw new Error("Sequence '".concat(n,"' not found in renderSequenceId()"));t.sequences.unshift(this.sequenceContext(r,n)),this.renderEvent("startSequence",e);for(var s=0,o=0;o<r.nBlocks;o++){if(e.config.chapters&&"main"===r.type){var i=[...r.blocks[o].os.map((e=>e.payload)),...r.blocks[o].is.map((e=>e.payload))].filter((e=>["chapter"].includes(e.split("/")[0]))).map((e=>e.split("/")[1]));if(0===i.length||!e.config.chapters.includes(i[0]))continue}var a=this.pk.gqlQuerySync('{\n               document(id: "'.concat(t.document.id,'") {\n                 sequence(id:"').concat(n,'") {\n                   blocks(positions:').concat(o,") {\n                     bg {subType payload}\n                     bs {payload}\n                     items {type subType payload}\n                   }\n                 }\n               }\n             }")).data.document.sequence.blocks[0];for(var c of a.bg)t.sequences[0].block={type:"graft",subType:ES(c.subType),blockN:s,sequence:this.sequences[c.payload]},this.cachedSequenceIds.unshift(c.payload),this.renderEvent("blockGraft",e),this.cachedSequenceIds.shift(),s++;var u=a.bs.payload.split("/"),d=u[1]?"usfm:".concat(u[1]):u[0];if(t.sequences[0].block={type:"paragraph",subType:d,blockN:s,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],"main"===r.type&&this.currentCV.chapter){var l={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=l,e.context.sequences[0].block.wrappers.unshift(l.subType),this.renderEvent("startWrapper",e)}if("main"===r.type&&this.currentCV.verses){var p={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=p,e.context.sequences[0].block.wrappers.unshift(p.subType),this.renderEvent("startWrapper",e)}if(this.renderContent(a.items,e),this._tokens=[],"main"===r.type&&this.currentCV.verses){var f={type:"wrapper",subType:"verses",atts:{number:this.currentCV.verses}};e.context.sequences[0].element=f,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}if("main"===r.type&&this.currentCV.chapter){var h={type:"wrapper",subType:"chapter",atts:{number:this.currentCV.chapter}};e.context.sequences[0].element=h,e.context.sequences[0].block.wrappers.shift(),this.renderEvent("endWrapper",e)}this.renderEvent("endParagraph",e),delete t.sequences[0].block,s++}this.renderEvent("endSequence",e),t.sequences.shift()}renderContent(e,t){for(var n of e)this.renderItem(n,t);this.maybeRenderText(t)}renderItem(e,t){if("scope"===e.type&&e.payload.startsWith("attribute")){var n=e.payload.split("/");"start"===e.subType?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(ES(n[2]))},"milestone"===n[1]?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(t),this.renderContainer(t)),"token"===e.type)this._tokens.push(e.payload.replace(/\s+/g," "));else if("graft"===e.type){this.maybeRenderText(t);var r={type:"graft",subType:ES(e.subType),sequence:this.sequences[e.payload]};t.context.sequences[0].element=r,this.cachedSequenceIds.unshift(e.payload),this.renderEvent("inlineGraft",t),this.cachedSequenceIds.shift(),delete t.context.sequences[0].element}else{this.maybeRenderText(t);var s=e.payload.split("/");if(["chapter","verses"].includes(s[0])){var o={type:"wrapper",subType:ES(s[0]),atts:{number:s[1]}};if(t.context.sequences[0].element=o,"start"===e.subType){this.currentCV[s[0]]=s[1],t.context.sequences[0].block.wrappers.unshift(o.subType),this.renderEvent("startWrapper",t);var i={type:"mark",subType:"".concat(s[0],"_label"),atts:{number:s[1]}};t.context.sequences[0].element=i,this.renderEvent("mark",t),t.context.sequences[0].element=o}else this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift(),delete t.context.sequences[0].element,this.currentCV[s[0]]=null}else if(["pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if("start"===e.subType){var a={type:"mark",subType:ES(s[0]),atts:{number:s[1]}};t.context.sequences[0].element=a,this.renderEvent("mark",t),delete t.context.sequences[0].element}}else if("span"===s[0]){var c={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};t.context.sequences[0].element=c,"start"===e.subType?(t.context.sequences[0].block.wrappers.unshift(c.subType),this.renderEvent("startWrapper",t)):(this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift()),delete t.context.sequences[0].element}else if("spanWithAtts"===s[0])"start"===e.subType&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if("milestone"===s[0]&&"start"===e.subType)if("ts"===s[1]){var u={type:"mark",subType:"usfm:".concat(ES(s[1])),atts:{}};t.context.sequences[0].element=u,this.renderEvent("mark",t),delete t.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(ES(s[1])),atts:{}}}}maybeRenderText(e){if(0!==this._tokens.length){var t={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=t,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if("wrapper"===this._container.type){var t=this._container.direction;delete this._container.direction,"start"===t?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else"start_milestone"===this._container.type?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):"end_milestone"===this._container.type&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}},PerfRenderFromProskomma:class extends hS{constructor(e){if(super(e),!e.proskomma)throw new Error("No Proskomma");this.pk=e.proskomma,this._tokens=[],this._container=null}renderDocument1(e){var{docId:t,config:n,context:r,workspace:s,output:o}=e,i={config:n,context:r,workspace:s,output:o};r.renderer=this;var a=this.pk.gqlQuerySync('{document(id: "'.concat(t,'") {docSetId mainSequence { id } nSequences sequences {id} headers { key value } } }')),c=a.data.document.docSetId,u=a.data.document.mainSequence.id,d=a.data.document.nSequences;a.data.document.sequences.map((e=>e.id));var l={};for(var p of a.data.document.headers)l[p.key]=p.value;var f=this.pk.gqlQuerySync('{docSet(id: "'.concat(c,'") {selectors {key value}}}')),h={};for(var m of f.data.docSet.selectors)h[m.key]=m.value;r.document={id:t,schema:{structure:"flat",structure_version:"0.2.1",constraints:[{name:"perf",version:"0.2.1"}]},metadata:{translation:{id:c,selectors:h,properties:{},tags:[]},document:pS(pS({},l),{},{properties:{},tags:[]})},mainSequenceId:u,nSequences:d},r.sequences=[],this.renderEvent("startDocument",i),this.renderSequenceId(i,u),this.renderEvent("endDocument",i)}sequenceContext(e,t){return{id:t,type:mS(e.type),nBlocks:e.nBlocks,milestones:new Set([])}}renderSequenceId(e,t){var n=e.context,r=this.pk.gqlQuerySync('{document(id: "'.concat(n.document.id,'") {sequence(id:"').concat(t,'") {id type nBlocks } } }')).data.document.sequence;if(!r)throw new Error("Sequence '".concat(t,"' not found in renderSequenceId()"));n.sequences.unshift(this.sequenceContext(r,t)),this.renderEvent("startSequence",e);for(var s=0,o=0;o<r.nBlocks;o++){var i=this.pk.gqlQuerySync('{\n               document(id: "'.concat(n.document.id,'") {\n                 sequence(id:"').concat(t,'") {\n                   blocks(positions:').concat(o,") {\n                     bg {subType payload}\n                     bs {payload}\n                     items {type subType payload}\n                   }\n                 }\n               }\n             }")).data.document.sequence.blocks[0];for(var a of i.bg)n.sequences[0].block={type:"graft",subType:mS(a.subType),blockN:s},n.sequences[0].block.target=a.payload,n.sequences[0].block.isNew=!1,this.renderEvent("blockGraft",e),s++;n.sequences[0].block={type:"paragraph",subType:"usfm:".concat(i.bs.payload.split("/")[1]),blockN:s,wrappers:[]},this.renderEvent("startParagraph",e),this._tokens=[],this.renderContent(i.items,e),this._tokens=[],this.renderEvent("endParagraph",e),delete n.sequences[0].block,s++}this.renderEvent("endSequence",e),n.sequences.shift()}renderContent(e,t){for(var n of e)this.renderItem(n,t);this.maybeRenderText(t)}renderItem(e,t){if("scope"===e.type&&e.payload.startsWith("attribute")){var n=e.payload.split("/");"start"===e.subType?(this._container||(this._container={direction:"start",subType:"usfm:w",type:"wrapper",atts:{}}),n[3]in this._container.atts?this._container.atts[n[3]].push(n[5]):this._container.atts[n[3]]=[n[5]]):this._container||(this._container={direction:"end",subType:"usfm:".concat(mS(n[2]))},"milestone"===n[1]?this._container.type="end_milestone":(this._container.type="wrapper",this._container.atts={}))}else if(this._container&&(this.maybeRenderText(t),this.renderContainer(t)),"token"===e.type)this._tokens.push(e.payload.replace(/\s+/g," "));else if("graft"===e.type){this.maybeRenderText(t);var r={type:"graft",subType:mS(e.subType),target:e.payload,isNew:!1};t.context.sequences[0].element=r,this.renderEvent("inlineGraft",t),delete t.context.sequences[0].element}else{this.maybeRenderText(t);var s=e.payload.split("/");if(["chapter","verses","pubChapter","pubVerse","altChapter","altVerse"].includes(s[0])){if("start"===e.subType){var o={type:"mark",subType:mS(s[0]),atts:{number:s[1]}};t.context.sequences[0].element=o,this.renderEvent("mark",t),delete t.context.sequences[0].element}}else if("span"===s[0]){var i={type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}};t.context.sequences[0].element=i,"start"===e.subType?(t.context.sequences[0].block.wrappers.unshift(i.subType),this.renderEvent("startWrapper",t)):(this.renderEvent("endWrapper",t),t.context.sequences[0].block.wrappers.shift()),delete t.context.sequences[0].element}else if("spanWithAtts"===s[0])"start"===e.subType&&(this._container={direction:"start",type:"wrapper",subType:"usfm:".concat(s[1]),atts:{}});else if("milestone"===s[0]&&"start"===e.subType)if("ts"===s[1]){var a={type:"mark",subType:"usfm:".concat(mS(s[1])),atts:{}};t.context.sequences[0].element=a,this.renderEvent("mark",t),delete t.context.sequences[0].element}else this._container={type:"start_milestone",subType:"usfm:".concat(mS(s[1])),atts:{}}}}maybeRenderText(e){if(0!==this._tokens.length){var t={type:"text",text:this._tokens.join("")};e.context.sequences[0].element=t,this._tokens=[],this.renderEvent("text",e),delete e.context.sequences[0].element}}renderContainer(e){if("wrapper"===this._container.type){var t=this._container.direction;delete this._container.direction,"start"===t?(e.context.sequences[0].element=this._container,e.context.sequences[0].block.wrappers.unshift(this._container.subType),this.renderEvent("startWrapper",e),delete e.context.sequences[0].element):(e.context.sequences[0].element=this._container,this.renderEvent("endWrapper",e),e.context.sequences[0].block.wrappers.shift(),delete e.context.sequences[0].element)}else"start_milestone"===this._container.type?(e.context.sequences[0].element=this._container,this.renderEvent("startMilestone",e),delete e.context.sequences[0].element):"end_milestone"===this._container.type&&(e.context.sequences[0].element=this._container,this.renderEvent("endMilestone",e),delete e.context.sequences[0].element);this._container=null}},mergeActions:bh,PipelineHandler:class{constructor(e){var{pipelines:t=null,transforms:n=null,proskomma:r=null,verbose:s=!1}=e;if(null!==r){this.proskomma=r;var o=r.gqlQuerySync("{ id }")||{};if(!o||!o.data.id)throw new Error("Provided Proskomma instance does not have any ID")}if(this.pipelines=dS,this.namespaces=uS,this.transforms={},null!=t)for(var i of Object.keys(t))this.pipelines[i]=t[i];if(null!=n)for(var a of Object.keys(n))this.transforms[a]=n[a];this.verbose=s}getProskomma(){return this.proskomma}setProskomma(e){this.proskomma=e}listPipelinesNames(){return Object.keys(this.pipelines).join("\n")}listTransformsNames(){return Object.keys(this.transforms).join("\n")}listNamespacesNames(){return Object.keys(this.namespaces).join("\n")}getPipeline(e,t){if(!this.pipelines[e])throw new Error("Unknown pipeline name '".concat(e,"'"));var n=this.pipelines[e],r=n[0].inputs;if(Object.keys(r).length!==Object.keys(t).length)throw new Error("".concat(Object.keys(r).length," input(s) expected by ").concat(e," but ").concat(Object.keys(t).length," provided (").concat(Object.keys(t).join(", "),")"));for(var[s,o]of Object.entries(r)){if(!t[s])throw new Error("Input ".concat(s," not provided as input to ").concat(e));if("string"==typeof t[s]!=("text"===o))throw new Error("Input ".concat(s," must be ").concat(o," but ").concat("string"==typeof t[s]?"text":"json"," was provided"))}return n}runPipeline(e,t){var n,r=this;return(n=function*(){var n=r.getPipeline(e,t);return r.loadTransforms(n,"perf"),yield r.evaluateSteps({specSteps:n,inputValues:t})},function(){var e=this,t=arguments;return new Promise((function(r,s){var o=n.apply(e,t);function i(e){cS(o,r,s,i,a,"next",e)}function a(e){cS(o,r,s,i,a,"throw",e)}i(void 0)}))})()}loadTransforms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"perf",n=e.filter((e=>"Transform"===e.type));if(0===n.length)throw new Error("No Transform steps found in report steps");var r=Object.keys(n).map((e=>n[e].name));if("sofria"===t){for(var[s,o]of Object.entries(this.namespaces))if("sofriaToSofria"===s)for(var[i,a]of o.transforms?Object.entries(o.transforms):Object.entries(o))r.includes(i)&&(this.transforms[i]=a)}else for(var[c,u]of Object.entries(this.namespaces))if("sofriaToSofria"!==c)for(var[d,l]of u.transforms?Object.entries(u.transforms):Object.entries(u))r.includes(d)&&(this.transforms[d]=l)}evaluateSteps(e){var{specSteps:t,inputValues:n}=e;if(this.verbose&&console.log("** Evaluate **"),!t.filter((e=>"Inputs"===e.type))[0])throw new Error("No Inputs step found in report steps");var r=t.filter((e=>"Outputs"===e.type))[0];if(!r)throw new Error("No Outputs step found in report steps");var s=t.filter((e=>"Transform"===e.type));if(0===s.length)throw new Error("No Transform steps found in report steps");var o={},i={};for(var a of Object.values(s)){for(var c of(o[a.id]={},a.inputs))o[a.id][c.name]=null;for(var u of(i[a.id]={},a.outputs))i[a.id][u]=null}for(var[d,l]of Object.entries(n))for(var p of s)for(var f of p.inputs)f.source==="Input ".concat(d)&&(this.verbose&&console.log("Copying Input ".concat(d," to Transform ").concat(p.id," ").concat(f.name," input")),o[p.id][f.name]=l);for(var h=!0;h;)for(var m of(h=!1,s))if(0===Object.values(o[m.id]).filter((e=>!e)).length&&Object.values(i[m.id]).filter((e=>!e)).length>0){this.verbose&&console.log("Evaluating Transform ".concat(m.id));try{i[m.id]=this.transforms[m.name].code(iS(iS({},o[m.id]),{},{proskomma:this.getProskomma()}))}catch(e){var S="Error evaluating Transform ".concat(m.id," (name=").concat(m.name,", type=").concat(typeof m.code,"): ").concat(e);throw new Error(S)}for(var y of s)for(var g of y.inputs)for(var b of Object.keys(i[m.id]))g.source==="Transform ".concat(m.id," ").concat(b)&&(this.verbose&&console.log("Copying Transform ".concat(m.id," ").concat(b," output to Transform ").concat(y.id," ").concat(g.name," input")),o[y.id][g.name]=i[m.id][b]);h=!0}var v={};for(var E of r.outputs){var A=E.source.split(" ")[1];this.verbose&&console.log("Copying Transform ".concat(A," ").concat(E.name," to Output ").concat(E.name)),v[E.name]=i[A][E.name]}return this.verbose&&console.log("****"),v}},pipelines:sS,render:zm};const TS=[["chapter","chapter",$("([\\r\\n]*\\\\c[ \\t]+(\\d+)[ \\t\\r\\n]*)")],["pubchapter","pubchapter",$("([\\r\\n]*\\\\cp[ \\t]+([^\\r\\n]+)[ \\t\\r\\n]*)")],["verses","verses",$("(\\\\v[ \\t]+([\\d\\-]+)[ \\t\\r\\n]*)")],["attribute","attribute",$('([ \\t]*\\|?[ \\t]*([A-Za-z0-9\\-]+)="([^"]*)"[ \\t]?)')],["attribute","defaultAttribute",$("([ \\t]*\\|[ \\t]*([^\\|\\\\]*))")],["milestone","emptyMilestone",$("(\\\\([a-z1-9]+)\\\\[*])")],["milestone","startMilestoneTag",$("(\\\\([a-z1-9]+)-([se]))")],["milestone","endMilestoneMarker",$("(\\\\([*]))")],["tag","endTag",$("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[*])")],["tag","startTag",$("(\\\\([+]?[a-z\\-]+)([1-9]?(-([1-9]))?)[ \\t]?)")],["bad","bareSlash",$("(\\\\)")],["printable","eol",$("([ \\t]*[\\r\\n]+[ \\t]*)")],["break","noBreakSpace",$("~")],["break","softLineBreak",$("//")],["printable","wordLike",$("([\\p{Letter}\\p{Number}\\p{Mark}\\u2060]{1,127})")],["printable","lineSpace",$("([\\p{Separator}\t]{1,127})")],["printable","punctuation",$("([\\p{Punctuation}\\p{Math_Symbol}\\p{Currency_Symbol}\\p{Modifier_Symbol}\\p{Other_Symbol}])")],["bad","unknown",$("(.)")]],wS=$.union(TS.map((e=>e[2]))),kS=(e,t)=>({subclass:e,printValue:t[0]}),IS={printable:kS,chapter:(e,t)=>({subclass:e,numberString:t[2],number:parseInt(t[2]),printValue:`\\c ${t[2]}\n`}),pubchapter:(e,t)=>({subclass:e,numberString:t[2],printValue:`\\cp ${t[2]}\n`}),verses:(e,t)=>{const n={subclass:e,numberString:t[2],printValue:`\\v ${t[2]}\n`};if(n.numberString.includes("-")){const[e,t]=n.numberString.split("-").map((e=>parseInt(e)));n.numbers=Array.from(Array(t-e+1).keys()).map((t=>t+e))}else n.numbers=[parseInt(n.numberString)];return n},tag:(e,t)=>{const n={subclass:e,tagName:t[2],isNested:!1};return n.tagName.startsWith("+")&&(n.isNested=!0,n.tagName=n.tagName.substring(1)),n.tagLevel=""!==t[3]?parseInt(t[3]):1,n.fullTagName=`${n.tagName}${"1"===t[3]?"":t[3]}`,n.printValue="startTag"===e?`\\${n.fullTagName} `:`\\${n.fullTagName}*`,n},break:kS,milestone:(e,t)=>{const n={subclass:e,sOrE:null};return"endMilestoneMarker"===e?n.printValue="\\*":(n.tagName=t[2],"emptyMilestone"===e?n.printValue=`\\${n.tagName}\\*`:(n.printValue=`\\${n.tagName}`,n.sOrE=t[3])),n},attribute:(e,t)=>{let n;return n="defaultAttribute"===e?{subclass:e,key:"default",valueString:t[2].trim().replace(/\//g,"÷")}:{subclass:e,key:t[2],valueString:t[3].trim().replace(/\//g,"÷")},n.values=n.valueString.split(",").map((e=>e.trim())),n.printValue=`| ${n.key}="${n.valueString}"`,n},bad:kS},PS=(e,t)=>{for(let n=0;n<t.length;n++){let[r,s,o]=t[n],i=$.exec(e,o,0,"sticky");if(i)return IS[r](s,i)}throw new Error(`Could not match preToken fragment '${e}'`)};var NS,OS,_S,xS,CS={};var $S,DS,RS,BS,qS={},jS={},MS={get exports(){return jS},set exports(e){jS=e}},GS={},LS={};function US(){return DS||(DS=1,function(e){const t=Bi,n=($S||($S=1,LS.read=function(e,t,n,r,s){var o,i,a=8*s-r-1,c=(1<<a)-1,u=c>>1,d=-7,l=n?s-1:0,p=n?-1:1,f=e[t+l];for(l+=p,o=f&(1<<-d)-1,f>>=-d,d+=a;d>0;o=256*o+e[t+l],l+=p,d-=8);for(i=o&(1<<-d)-1,o>>=-d,d+=r;d>0;i=256*i+e[t+l],l+=p,d-=8);if(0===o)o=1-u;else{if(o===c)return i?NaN:1/0*(f?-1:1);i+=Math.pow(2,r),o-=u}return(f?-1:1)*i*Math.pow(2,o-r)},LS.write=function(e,t,n,r,s,o){var i,a,c,u=8*o-s-1,d=(1<<u)-1,l=d>>1,p=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),(t+=i+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(i++,c/=2),i+l>=d?(a=0,i=d):i+l>=1?(a=(t*c-1)*Math.pow(2,s),i+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,s),i=0));s>=8;e[n+f]=255&a,f+=h,a/=256,s-=8);for(i=i<<s|a,u+=s;u>0;e[n+f]=255&i,f+=h,i/=256,u-=8);e[n+f-h]|=128*m}),LS),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=o(n);const s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);const s=function(e){if(i.isBuffer(e)){const t=0|p(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||W(e.length)?o(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),o(e<0?0:0|p(e))}function d(e){const t=e.length<0?0:0|p(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return J(e).length;default:if(s)return r?-1:V(e).length;t=(""+t).toLowerCase(),s=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,s){let o,i=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;i=2,a/=2,c/=2,n/=2}function u(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(s){let r=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===c)return r*i}else-1!==r&&(o-=o-r),r=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){let n=!0;for(let r=0;r<c;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function g(e,t,n,r){n=Number(n)||0;const s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;const o=t.length;let i;for(r>o/2&&(r=o/2),i=0;i<r;++i){const r=parseInt(t.substr(2*i,2),16);if(W(r))return i;e[n+i]=r}return i}function b(e,t,n,r){return H(V(t,e.length-n),e,n,r)}function v(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return H(J(t),e,n,r)}function A(e,t,n,r){return H(function(e,t){let n,r,s;const o=[];for(let i=0;i<e.length&&!((t-=2)<0);++i)n=e.charCodeAt(i),r=n>>8,s=n%256,o.push(s),o.push(r);return o}(t,e.length-n),e,n,r)}function T(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function w(e,t,n){n=Math.min(e.length,n);const r=[];let s=t;for(;s<n;){const t=e[s];let o=null,i=t>239?4:t>223?3:t>191?2:1;if(s+i<=n){let n,r,a,c;switch(i){case 1:t<128&&(o=t);break;case 2:n=e[s+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(o=c));break;case 3:n=e[s+1],r=e[s+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:n=e[s+1],r=e[s+2],a=e[s+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,i=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),s+=i}return function(e){const t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}e.kMaxLength=s,i.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return u(e)},i.allocUnsafeSlow=function(e){return u(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(K(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let s=0,o=Math.min(n,r);s<o;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=i.allocUnsafe(t);let s=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))s+t.length>r.length?(i.isBuffer(t)||(t=i.from(t)),t.copy(r,s)):Uint8Array.prototype.set.call(r,t,s);else{if(!i.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,s)}s+=t.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},i.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},i.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},i.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):h.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,s){if(K(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(s>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const c=Math.min(o,a),u=this.slice(r,s),d=e.slice(t,n);for(let e=0;e<c;++e)if(u[e]!==d[e]){o=u[e],a=d[e];break}return o<a?-1:a<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return v(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const k=4096;function I(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let s="";for(let r=t;r<n;++r)s+=X[e[r]];return s}function O(e,t,n){const r=e.slice(t,n);let s="";for(let e=0;e<r.length-1;e+=2)s+=String.fromCharCode(r[e]+256*r[e+1]);return s}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,n,r,s,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r,s){G(t,r,s,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,n}function $(e,t,n,r,s){G(t,r,s,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let i=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=i,i>>=8,e[n+2]=i,i>>=8,e[n+1]=i,i>>=8,e[n]=i,n+8}function D(e,t,n,r,s,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,r,s,o){return t=+t,r>>>=0,o||D(e,0,r,4),n.write(e,t,r,s,23,4),r+4}function B(e,t,r,s,o){return t=+t,r>>>=0,o||D(e,0,r,8),n.write(e,t,r,s,52,8),r+8}i.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=Y((function(e){L(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))})),i.prototype.readBigUInt64BE=Y((function(e){L(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(s)})),i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=t,s=1,o=this[e+--r];for(;r>0&&(s*=256);)o+=this[e+--r]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=Y((function(e){L(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),i.prototype.readBigInt64BE=Y((function(e){L(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),n.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),n.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),n.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),n.read(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||x(this,e,t,n,Math.pow(2,8*n)-1,0);let s=1,o=0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=e/s&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||x(this,e,t,n,Math.pow(2,8*n)-1,0);let s=n-1,o=1;for(this[t+s]=255&e;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=Y((function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=Y((function(e,t=0){return $(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let s=0,o=1,i=0;for(this[t]=255&e;++s<n&&(o*=256);)e<0&&0===i&&0!==this[t+s-1]&&(i=1),this[t+s]=(e/o>>0)-i&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);x(this,e,t,n,r-1,-r)}let s=n-1,o=1,i=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===i&&0!==this[t+s+1]&&(i=1),this[t+s]=(e/o>>0)-i&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=Y((function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=Y((function(e,t=0){return $(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const s=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),s},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{const o=i.isBuffer(e)?e:i.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=o[s%a]}return this};const q={};function j(e,t,n){q[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function G(e,t,n,r,s,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let s;throw s=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new q.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,n){L(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||U(t,e.length-(n+1))}(r,s,o)}function L(e,t){if("number"!=typeof e)throw new q.ERR_INVALID_ARG_TYPE(t,"number",e)}function U(e,t,n){if(Math.floor(e)!==e)throw L(e,n),new q.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,s=n;return Number.isInteger(n)&&Math.abs(n)>2**32?s=M(String(n)):"bigint"==typeof n&&(s=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(s=M(s)),s+="n"),r+=` It must be ${t}. Received ${s}`,r}),RangeError);const F=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let s=null;const o=[];for(let i=0;i<r;++i){if(n=e.charCodeAt(i),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(i+1===r){(t-=3)>-1&&o.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&o.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let s;for(s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let s=0;s<16;++s)t[r+s]=e[n]+e[s]}return t}();function Y(e){return"undefined"==typeof BigInt?z:e}function z(){throw new Error("BigInt not supported")}}(GS)),GS}!function(e){!function(e){e.parser=function(e,t){return new r(e,t)},e.SAXParser=r,e.SAXStream=o,e.createStream=function(e,t){return new o(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,n=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function r(t,s){if(!(this instanceof r))return new r(t,s);var o=this;!function(e){for(var t=0,r=n.length;t<r;t++)e[n[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=e.MAX_BUFFER_LENGTH,o.opt=s||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!t,o.noscript=!(!t&&!o.opt.noscript),o.state=T.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(d)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),k(o,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),r.prototype={end:function(){_(this)},write:function(t){var r=this;if(this.error)throw this.error;if(r.closed)return O(r,"Cannot write after close. Assign an onready handler.");if(null===t)return _(r);"object"==typeof t&&(t=t.toString());for(var s=0,o="";o=M(t,s++),r.c=o,o;)switch(r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++),r.state){case T.BEGIN:if(r.state=T.BEGIN_WHITESPACE,"\ufeff"===o)continue;j(r,o);continue;case T.BEGIN_WHITESPACE:j(r,o);continue;case T.TEXT:if(r.sawRoot&&!r.closedRoot){for(var c=s-1;o&&"<"!==o&&"&"!==o;)(o=M(t,s++))&&r.trackPosition&&(r.position++,"\n"===o?(r.line++,r.column=0):r.column++);r.textNode+=t.substring(c,s-1)}"<"!==o||r.sawRoot&&r.closedRoot&&!r.strict?(m(o)||r.sawRoot&&!r.closedRoot||x(r,"Text data outside of root node."),"&"===o?r.state=T.TEXT_ENTITY:r.textNode+=o):(r.state=T.OPEN_WAKA,r.startTagPosition=r.position);continue;case T.SCRIPT:"<"===o?r.state=T.SCRIPT_ENDING:r.script+=o;continue;case T.SCRIPT_ENDING:"/"===o?r.state=T.CLOSE_TAG:(r.script+="<"+o,r.state=T.SCRIPT);continue;case T.OPEN_WAKA:if("!"===o)r.state=T.SGML_DECL,r.sgmlDecl="";else if(m(o));else if(g(l,o))r.state=T.OPEN_TAG,r.tagName=o;else if("/"===o)r.state=T.CLOSE_TAG,r.tagName="";else if("?"===o)r.state=T.PROC_INST,r.procInstName=r.procInstBody="";else{if(x(r,"Unencoded <"),r.startTagPosition+1<r.position){var u=r.position-r.startTagPosition;o=new Array(u).join(" ")+o}r.textNode+="<"+o,r.state=T.TEXT}continue;case T.SGML_DECL:(r.sgmlDecl+o).toUpperCase()===i?(I(r,"onopencdata"),r.state=T.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+o==="--"?(r.state=T.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+o).toUpperCase()===a?(r.state=T.DOCTYPE,(r.doctype||r.sawRoot)&&x(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===o?(I(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=T.TEXT):S(o)?(r.state=T.SGML_DECL_QUOTED,r.sgmlDecl+=o):r.sgmlDecl+=o;continue;case T.SGML_DECL_QUOTED:o===r.q&&(r.state=T.SGML_DECL,r.q=""),r.sgmlDecl+=o;continue;case T.DOCTYPE:">"===o?(r.state=T.TEXT,I(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=o,"["===o?r.state=T.DOCTYPE_DTD:S(o)&&(r.state=T.DOCTYPE_QUOTED,r.q=o));continue;case T.DOCTYPE_QUOTED:r.doctype+=o,o===r.q&&(r.q="",r.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:r.doctype+=o,"]"===o?r.state=T.DOCTYPE:S(o)&&(r.state=T.DOCTYPE_DTD_QUOTED,r.q=o);continue;case T.DOCTYPE_DTD_QUOTED:r.doctype+=o,o===r.q&&(r.state=T.DOCTYPE_DTD,r.q="");continue;case T.COMMENT:"-"===o?r.state=T.COMMENT_ENDING:r.comment+=o;continue;case T.COMMENT_ENDING:"-"===o?(r.state=T.COMMENT_ENDED,r.comment=N(r.opt,r.comment),r.comment&&I(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+o,r.state=T.COMMENT);continue;case T.COMMENT_ENDED:">"!==o?(x(r,"Malformed comment"),r.comment+="--"+o,r.state=T.COMMENT):r.state=T.TEXT;continue;case T.CDATA:"]"===o?r.state=T.CDATA_ENDING:r.cdata+=o;continue;case T.CDATA_ENDING:"]"===o?r.state=T.CDATA_ENDING_2:(r.cdata+="]"+o,r.state=T.CDATA);continue;case T.CDATA_ENDING_2:">"===o?(r.cdata&&I(r,"oncdata",r.cdata),I(r,"onclosecdata"),r.cdata="",r.state=T.TEXT):"]"===o?r.cdata+="]":(r.cdata+="]]"+o,r.state=T.CDATA);continue;case T.PROC_INST:"?"===o?r.state=T.PROC_INST_ENDING:m(o)?r.state=T.PROC_INST_BODY:r.procInstName+=o;continue;case T.PROC_INST_BODY:if(!r.procInstBody&&m(o))continue;"?"===o?r.state=T.PROC_INST_ENDING:r.procInstBody+=o;continue;case T.PROC_INST_ENDING:">"===o?(I(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=T.TEXT):(r.procInstBody+="?"+o,r.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:g(p,o)?r.tagName+=o:(C(r),">"===o?R(r):"/"===o?r.state=T.OPEN_TAG_SLASH:(m(o)||x(r,"Invalid character in tag name"),r.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:">"===o?(R(r,!0),B(r)):(x(r,"Forward-slash in opening tag not followed by >"),r.state=T.ATTRIB);continue;case T.ATTRIB:if(m(o))continue;">"===o?R(r):"/"===o?r.state=T.OPEN_TAG_SLASH:g(l,o)?(r.attribName=o,r.attribValue="",r.state=T.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case T.ATTRIB_NAME:"="===o?r.state=T.ATTRIB_VALUE:">"===o?(x(r,"Attribute without value"),r.attribValue=r.attribName,D(r),R(r)):m(o)?r.state=T.ATTRIB_NAME_SAW_WHITE:g(p,o)?r.attribName+=o:x(r,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if("="===o)r.state=T.ATTRIB_VALUE;else{if(m(o))continue;x(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",I(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===o?R(r):g(l,o)?(r.attribName=o,r.state=T.ATTRIB_NAME):(x(r,"Invalid attribute name"),r.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(m(o))continue;S(o)?(r.q=o,r.state=T.ATTRIB_VALUE_QUOTED):(x(r,"Unquoted attribute value"),r.state=T.ATTRIB_VALUE_UNQUOTED,r.attribValue=o);continue;case T.ATTRIB_VALUE_QUOTED:if(o!==r.q){"&"===o?r.state=T.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=o;continue}D(r),r.q="",r.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:m(o)?r.state=T.ATTRIB:">"===o?R(r):"/"===o?r.state=T.OPEN_TAG_SLASH:g(l,o)?(x(r,"No whitespace between attributes"),r.attribName=o,r.attribValue="",r.state=T.ATTRIB_NAME):x(r,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!y(o)){"&"===o?r.state=T.ATTRIB_VALUE_ENTITY_U:r.attribValue+=o;continue}D(r),">"===o?R(r):r.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(r.tagName)">"===o?B(r):g(p,o)?r.tagName+=o:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=T.SCRIPT):(m(o)||x(r,"Invalid tagname in closing tag"),r.state=T.CLOSE_TAG_SAW_WHITE);else{if(m(o))continue;b(l,o)?r.script?(r.script+="</"+o,r.state=T.SCRIPT):x(r,"Invalid tagname in closing tag."):r.tagName=o}continue;case T.CLOSE_TAG_SAW_WHITE:if(m(o))continue;">"===o?B(r):x(r,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var d,v;switch(r.state){case T.TEXT_ENTITY:d=T.TEXT,v="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:d=T.ATTRIB_VALUE_QUOTED,v="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:d=T.ATTRIB_VALUE_UNQUOTED,v="attribValue"}";"===o?(r[v]+=q(r),r.entity="",r.state=d):g(r.entity.length?h:f,o)?r.entity+=o:(x(r,"Invalid character in entity name"),r[v]+="&"+r.entity+o,r.entity="",r.state=d);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(t){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),s=0,o=0,i=n.length;o<i;o++){var a=t[n[o]].length;if(a>r)switch(n[o]){case"textNode":P(t);break;case"cdata":I(t,"oncdata",t.cdata),t.cdata="";break;case"script":I(t,"onscript",t.script),t.script="";break;default:O(t,"Max buffer length exceeded: "+n[o])}s=Math.max(s,a)}var c=e.MAX_BUFFER_LENGTH-s;t.bufferCheckPosition=c+t.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;P(e=this),""!==e.cdata&&(I(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(I(e,"onscript",e.script),e.script="")}};try{t=function(){if(xS)return _S;xS=1;var e=function(){if(OS)return NS;function e(t){if(t)return function(t){for(var n in e.prototype)t[n]=e.prototype[n];return t}(t)}return OS=1,NS=e,e.prototype.on=e.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},e.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s=0;s<r.length;s++)if((n=r[s])===t||n.fn===t){r.splice(s,1);break}return this},e.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,t);return this},e.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},e.prototype.hasListeners=function(e){return!!this.listeners(e).length},NS}();function t(){e.call(this)}return t.prototype=new e,_S=t,t.Stream=t,t.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",s),e._isStdio||t&&!1===t.end||(n.on("end",i),n.on("close",a));var o=!1;function i(){o||(o=!0,e.end())}function a(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),!this.hasListeners("error"))throw e}function u(){n.off("data",r),e.off("drain",s),n.off("end",i),n.off("close",a),n.off("error",c),e.off("error",c),n.off("end",u),n.off("close",u),e.off("end",u),e.off("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("end",u),e.on("close",u),e.emit("pipe",n),e},_S}().Stream}catch(e){t=function(){}}var s=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function o(e,n){if(!(this instanceof o))return new o(e,n);t.apply(this),this._parser=new r(e,n),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,s.forEach((function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t,t;i.on(e,t)},enumerable:!0,configurable:!1})}))}o.prototype=Object.create(t.prototype,{constructor:{value:o}}),o.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=function(){if(BS)return qS;BS=1;var e=(RS||(RS=1,function(e,t){var n=US(),r=n.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=o),o.prototype=Object.create(r.prototype),s(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=r(e);return void 0!==t?"string"==typeof n?s.fill(t,n):s.fill(t):s.fill(0),s},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(MS,jS)),jS).Buffer,t=e.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(n){var r;switch(this.encoding=function(n){var r=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(n);if("string"!=typeof r&&(e.isEncoding===t||!t(n)))throw new Error("Unknown encoding: "+n);return r||n}(n),this.encoding){case"utf16le":this.text=o,this.end=i,r=4;break;case"utf8":this.fillLast=s,r=4;break;case"base64":this.text=a,this.end=c,r=3;break;default:return this.write=u,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(r)}function r(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function o(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function i(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function a(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function u(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}return qS.StringDecoder=n,n.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},n.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},n.prototype.text=function(e,t){var n=function(e,t,n){var s=t.length-1;if(s<n)return 0;var o=r(t[s]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--s<n||-2===o?0:(o=r(t[s]))>=0?(o>0&&(e.lastNeed=o-2),o):--s<n||-2===o?0:(o=r(t[s]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var s=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,s),e.toString("utf8",t,s)},n.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},qS}().StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===s.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var i="[CDATA[",a="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",d={xml:c,xmlns:u},l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function S(e){return'"'===e||"'"===e}function y(e){return">"===e||m(e)}function g(e,t){return e.test(t)}function b(e,t){return!g(e,t)}var v,E,A,T=0;for(var w in e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[w]]=w;function k(e,t,n){e[t]&&e[t](n)}function I(e,t,n){e.textNode&&P(e),k(e,t,n)}function P(e){e.textNode=N(e.opt,e.textNode),e.textNode&&k(e,"ontext",e.textNode),e.textNode=""}function N(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function O(e,t){return P(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,k(e,"onerror",t),e}function _(e){return e.sawRoot&&!e.closedRoot&&x(e,"Unclosed root tag"),e.state!==T.BEGIN&&e.state!==T.BEGIN_WHITESPACE&&e.state!==T.TEXT&&O(e,"Unexpected end"),P(e),e.c="",e.closed=!0,k(e,"onend"),r.call(e,e.strict,e.opt),e}function x(e,t){if("object"!=typeof e||!(e instanceof r))throw new Error("bad call to strictFail");e.strict&&O(e,t)}function C(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,I(e,"onopentagstart",n)}function $(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],s=n[1];return t&&"xmlns"===e&&(r="xmlns",s=""),{prefix:r,local:s}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=$(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==c)x(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==u)x(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue);else{var s=e.tag,o=e.tags[e.tags.length-1]||e;s.ns===o.ns&&(s.ns=Object.create(o.ns)),s.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,I(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function R(e,t){if(e.opt.xmlns){var n=e.tag,r=$(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(x(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var s=e.tags[e.tags.length-1]||e;n.ns&&s.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){I(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var o=0,i=e.attribList.length;o<i;o++){var a=e.attribList[o],c=a[0],u=a[1],d=$(c,!0),l=d.prefix,p=d.local,f=""===l?"":n.ns[l]||"",h={name:c,value:u,prefix:l,local:p,uri:f};l&&"xmlns"!==l&&!f&&(x(e,"Unbound namespace prefix: "+JSON.stringify(l)),h.uri=l),e.tag.attributes[c]=h,I(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),I(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=T.TEXT:e.state=T.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function B(e){if(!e.tagName)return x(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=T.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=T.SCRIPT);I(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)x(e,"Unexpected close tag");if(t<0)return x(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=T.TEXT);e.tagName=n;for(var s=e.tags.length;s-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,I(e,"onclosetag",e.tagName);var i={};for(var a in o.ns)i[a]=o.ns[a];var c=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(t){var n=o.ns[t];I(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=T.TEXT}function q(e){var t,n=e.entity,r=n.toLowerCase(),s="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),s=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),s=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||s.toLowerCase()!==n?(x(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function j(e,t){"<"===t?(e.state=T.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(x(e,"Non-whitespace before first tag."),e.textNode=t,e.state=T.TEXT)}function M(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}T=e.STATE,String.fromCodePoint||(v=String.fromCharCode,E=Math.floor,A=function(){var e,t,n=[],r=-1,s=arguments.length;if(!s)return"";for(var o="";++r<s;){var i=Number(arguments[r]);if(!isFinite(i)||i<0||i>1114111||E(i)!==i)throw RangeError("Invalid code point: "+i);i<=65535?n.push(i):(e=55296+((i-=65536)>>10),t=i%1024+56320,n.push(e,t)),(r+1===s||n.length>16384)&&(o+=v.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:A,configurable:!0,writable:!0}):String.fromCodePoint=A)}(e)}(CS);class FS{constructor(){this.sax=CS.parser(!0),this.sax.ontext=e=>this.handleSaxText(e),this.sax.onopentag=e=>this.handleSaxOpenTag(e),this.sax.onclosetag=e=>this.handleSaxCloseTag(e),this.lexed=[],this.elementStack=[],this.currentText="",this.openTagHandlers={usx:this.ignoreHandler,book:this.handleBookOpen,chapter:this.handleChapter,verse:this.handleVerses,para:this.handleParaOpen,table:this.ignoreHandler,row:this.handleRowOpen,cell:this.handleCellOpen,char:this.handleCharOpen,ms:this.handleMSOpen,note:this.handleNoteOpen,sidebar:this.handleSidebarOpen,periph:this.notHandledHandler,figure:this.handleFigureOpen,optbreak:this.handleOptBreakOpen,ref:this.ignoreHandler},this.closeTagHandlers={usx:this.ignoreHandler,book:this.handleBookClose,chapter:this.ignoreHandler,verse:this.ignoreHandler,para:this.handleParaClose,table:this.ignoreHandler,row:this.handleRowClose,cell:this.handleCellClose,char:this.handleCharClose,ms:this.handleMSClose,note:this.handleNoteClose,sidebar:this.handleSidebarClose,periph:this.notHandledHandler,figure:this.handleFigureClose,optbreak:this.handleOptBreakClose,ref:this.ignoreHandler}}lexAndParse(e,t){this.parser=t,this.lexed=[],this.elementStack=[],this.sax.write(e).close()}handleSaxText(e){this.currentText=this.replaceEntities(e),$.match(this.currentText,wS,"all").map((e=>PS(e,TS))).forEach((e=>this.parser.parseItem(e)))}replaceEntities(e){return e.replace("&lt;","<").replace("&gt;",">").replace("&apos;","'").replace("&quot;",'"').replace("&amp;","&")}handleSaxOpenTag(e){const t=e.name,n=e.attributes;if(!(t in this.openTagHandlers))throw new Error(`Unexpected open element tag '${t}' in UsxParser`);this.openTagHandlers[t](this,"open",t,n)}handleSaxCloseTag(e){this.closeTagHandlers[e](this,"close",e)}notHandledHandler(e,t,n){console.error(`WARNING: ${t} element tag '${n}' is not handled by UsxParser`)}stackPush(e,t){this.elementStack.push([e,t])}stackPop(){return this.elementStack.pop()}splitTagNumber(e){const t=$.exec(e,$("([^1-9]+)(.*)"));return[t[1],t[2].length>0?t[2]:"1"]}ignoreHandler(e,t,n){}handleParaOpen(e,t,n,r){e.currentText="";const[s,o]=e.splitTagNumber(r.style);["cp"].includes(s)||e.parser.parseItem(IS.tag("startTag",[null,null,s,o])),e.stackPush(n,r)}handleParaClose(e){const t=e.stackPop()[1],[n,r]=e.splitTagNumber(t.style);["cp"].includes(n)?e.parser.parseItem(IS.pubchapter("pubchapter",[null,null,e.currentText])):e.parser.parseItem(IS.tag("endTag",[null,null,n,r])),e.currentText=""}handleCharOpen(e,t,n,r){const[s,o]=e.splitTagNumber(r.style);e.parser.parseItem(IS.tag("startTag",[null,null,`+${s}`,o]));const i=["sid","eid","style","srcloc","link-href","link-title","link-id","closed"];for(const[t,n]of Object.entries(r))i.includes(t)||e.parser.parseItem(IS.attribute("attribute",[null,null,t,n]));e.stackPush(n,r)}handleCharClose(e){const t=e.stackPop()[1],[n,r]=e.splitTagNumber(t.style);e.parser.parseItem(IS.tag("endTag",[null,null,`+${n}`,r]))}handleRefOpen(e){e.parser.parseItem(IS.tag("startTag",[null,null,"xt",""]))}handleRefClose(e){e.parser.parseItem(IS.tag("endTag",[null,null,"xt",""]))}handleRowOpen(e,t,n,r){const[s,o]=e.splitTagNumber(r.style);e.parser.parseItem(IS.tag("startTag",[null,null,s,o])),e.stackPush(n,r)}handleRowClose(e){const t=e.stackPop()[1],[n,r]=e.splitTagNumber(t.style);e.parser.parseItem(IS.tag("endTag",[null,null,n,r]))}handleCellOpen(e,t,n,r){const[s,o]=e.splitTagNumber(r.style);e.parser.parseItem(IS.tag("startTag",[null,null,s,o])),e.stackPush(n,r)}handleCellClose(e){const t=e.stackPop()[1],[n,r]=e.splitTagNumber(t.style);e.parser.parseItem(IS.tag("endTag",[null,null,n,r]))}handleBookOpen(e,t,n,r){e.parser.parseItem(IS.tag("startTag",[null,null,"id",""])),e.parser.parseItem(IS.printable("wordLike",[r.code])),e.parser.parseItem(IS.printable("lineSpace",[" "])),e.stackPush(n,r)}handleBookClose(e){e.stackPop(),e.parser.parseItem(IS.tag("endTag",[null,null,"id",""]))}handleChapter(e,t,n,r){r.number&&(e.parser.parseItem(IS.chapter("chapter",[null,null,r.number])),r.pubnumber&&e.parser.parseItem(IS.pubchapter("pubchapter",[null,null,r.pubnumber])),r.altnumber&&(e.parser.parseItem(IS.tag("startTag",[null,null,"+ca",""])),e.parser.parseItem(IS.printable("wordLike",[r.altnumber])),e.parser.parseItem(IS.tag("endTag",[null,null,"+ca",""]))))}handleVerses(e,t,n,r){r.number&&(e.parser.parseItem(IS.verses("verses",[null,null,r.number])),r.pubnumber&&(e.parser.parseItem(IS.tag("startTag",[null,null,"+vp",""])),e.parser.parseItem(IS.printable("wordLike",[r.pubnumber])),e.parser.parseItem(IS.tag("endTag",[null,null,"+vp",""]))),r.altnumber&&(e.parser.parseItem(IS.tag("startTag",[null,null,"+va",""])),e.parser.parseItem(IS.printable("wordLike",[r.altnumber])),e.parser.parseItem(IS.tag("endTag",[null,null,"+va",""]))))}handleNoteOpen(e,t,n,r){e.parser.parseItem(IS.tag("startTag",[null,null,r.style,""])),e.parser.parseItem(IS.printable("punctuation",[r.caller])),e.stackPush(n,r)}handleNoteClose(e){const t=e.stackPop()[1];e.parser.parseItem(IS.tag("endTag",[null,null,t.style,""]))}handleSidebarOpen(e,t,n,r){e.parser.parseItem(IS.tag("startTag",[null,null,"esb",""])),"category"in r&&(e.parser.parseItem(IS.tag("startTag",[null,null,"cat",""])),e.parser.parseItem(IS.printable("wordLike",[r.category])),e.parser.parseItem(IS.tag("endTag",[null,null,"cat",""]))),e.stackPush(n,r)}handleSidebarClose(e){e.stackPop(),e.parser.parseItem(IS.tag("startTag",[null,null,"esbe",""]))}handleMSOpen(e,t,n,r){let s=$.exec(r.style,$("(([a-z1-9]+)-([se]))"));if(s){const t=IS.milestone("startMilestoneTag",[null,null,s[2],s[3]]);e.parser.parseItem(t);const n=["sid","eid","style","srcloc","link-href","link-title","link-id"];for(const[t,s]of Object.entries(r))n.includes(t)||e.parser.parseItem(IS.attribute("attribute",[null,null,t,s]));e.parser.parseItem(IS.milestone("endMilestoneMarker"))}else{const t=IS.milestone("emptyMilestone",[null,null,r.style,""]);e.parser.parseItem(t)}e.stackPush(n,r)}handleMSClose(e){e.stackPop()}handleFigureOpen(e,t,n,r){e.parser.parseItem(IS.tag("startTag",[null,null,"+fig",""]));for(const[t,n]of Object.entries(r)){if("style"===t)continue;const r="file"===t?"src":t;e.parser.parseItem(IS.attribute("attribute",[null,null,r,n]))}e.stackPush(n,r)}handleFigureClose(e){e.stackPop()[1],e.parser.parseItem(IS.tag("endTag",[null,null,"+fig",""]))}handleOptBreakOpen(e,t,n,r){e.parser.parseItem(IS.printable("softLineBreak",["//"])),e.stackPush(n,r)}handleOptBreakClose(e){e.stackPop()}}const VS=va.ByteArray,{pushSuccinctGraftBytes:JS,pushSuccinctScopeBytes:HS,pushSuccinctTokenBytes:KS}=va.succinct,{addTag:WS}=va.tags,{labelForScope:XS}=va.scopeDefs,{itemEnum:YS}=va.itemDefs,{scopeEnum:zS}=va.scopeDefs,{tokenCategory:ZS,tokenEnum:QS}=va.tokenDefs,ey=class{constructor(e){this.id=va.generateId(),this.type=e,this.tags=new Set([]),this.blocks=[],this.activeScopes=[]}addTag(e){WS(this.tags,e)}plainText(){return this.blocks.map((e=>e.plainText())).join("").trim()}addItem(e){this.lastBlock().addItem(e)}addBlockGraft(e){this.newBlock("hangingGraft"),this.lastBlock().bg.push(e)}lastBlock(){return 0===this.blocks.length&&this.newBlock("orphanTokens"),this.blocks[this.blocks.length-1]}newBlock(e){this.blocks.length>0&&["orphanTokens","hangingGraft"].includes(this.blocks[this.blocks.length-1].bs.payload)?this.lastBlock().bs={type:"scope",subType:"start",payload:e}:this.blocks.push(new ty(e))}trim(){this.blocks.forEach((e=>e.trim()))}reorderSpanWithAtts(){this.blocks.forEach((e=>e.reorderSpanWithAtts()))}makeNoteGrafts(e){this.blocks.forEach((t=>t.makeNoteGrafts(e)))}close(e){for(const t of this.activeScopes.filter((()=>!0)).reverse())this.closeActiveScope(e,t);this.activeScopes=[]}closeActiveScope(e,t){this.addItem({type:"scope",subType:"end",payload:t.label}),t.onEnd&&t.onEnd(e,t.label)}filterGrafts(e){return this.blocks.map((t=>t.filterGrafts(e))).reduce(((e,t)=>e.concat(t)),[])}filterScopes(e){this.blocks.forEach((t=>t.filterScopes(e)))}text(){return this.blocks.map((e=>e.text())).join("")}addTableScopes(){let e=!1;for(const[t,n]of this.blocks.entries())e||"blockTag/tr"!==n.bs.payload?e&&"blockTag/tr"!==n.bs.payload&&(e=!1,this.blocks[t-1].items.push({type:"scope",subType:"end",payload:XS("table",[])})):(e=!0,this.blocks[t].items.unshift({type:"scope",subType:"start",payload:XS("table",[])}));e&&this.lastBlock().items.push({type:"scope",subType:"end",payload:XS("table",[])})}graftifyIntroductionHeadings(e){let t=[...this.blocks.entries()];t.reverse();const n=["iot","is"].concat(e.customTags.introHeading);for(const[r,s]of t){const t=s.bs.payload.split("/")[1].replace(/[0-9]/g,"");if(n.includes(t)){const t=new ey("heading");e.sequences.heading.push(t),t.blocks.push(s);const n={type:"graft",subType:"heading",payload:t.id};this.blocks.length<r+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[r+1].bg.unshift(n),this.blocks.splice(r,1)}else if(t.startsWith("imt")){const n=t.startsWith("imte")?"introEndTitle":"introTitle";let o;if(e.sequences[n])o=e.sequences[n];else{const s=t.startsWith("imte")?"endTitle":"title";o=new ey(s),e.sequences[n]=o;const i={type:"graft",subType:s,payload:o.id};this.blocks.length<r+2&&this.newBlock("blockTag/hangingGraft"),this.blocks[r+1].bg.unshift(i)}this.blocks.splice(r,1),o.blocks.unshift(s)}}}moveOrphanScopes(){this.blocks.length>1&&(this.moveOrphanStartScopes(),this.moveOrphanEndScopes())}moveOrphanStartScopes(){for(const[e,t]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const n of[...t.items].reverse()){if("start"!==n.subType||n.payload.startsWith("altChapter"))break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanStartScopes2(){for(const[e,t]of this.blocks.entries())if(!(e>=this.blocks.length-1))for(const n of[...t.items].reverse()){if("start"!==n.subType)break;this.blocks[e+1].items.unshift(this.blocks[e].items.pop())}}moveOrphanEndScopes(){for(const[e,t]of this.blocks.entries())if(0!==e)for(const n of[...t.items]){if("end"!==n.subType)break;this.blocks[e-1].items.push(this.blocks[e].items.shift())}}removeEmptyBlocks(e){const t=["blockTag/b","blockTag/ib"].concat(e),n=[];let r=!1;for(const e of this.blocks.entries())0!==e[1].tokens().length||t.includes(e[1].bs.payload)||n.push(e);for(const[e,t]of n.reverse())if(e<this.blocks.length-1){for(const n of[...t.bg].reverse())this.blocks[e+1].bg.unshift(n);for(const n of t.items.reverse())this.blocks[e+1].items.unshift(n);this.blocks.splice(e,1),r=!0}else 0===t.bg.length&&0===t.items.length&&(this.blocks.splice(e,1),r=!0);r&&this.removeEmptyBlocks(e)}removeGraftsToEmptySequences(e){this.blocks.forEach((t=>t.removeGraftsToEmptySequences(e)))}succinctifyBlocks(e){const t=[];let n=[];const r=e=>{"start"===e.subType?0===n.filter((t=>t.payload===e.payload)).length&&n.push(e):n=n.filter((t=>t.payload!==e.payload))};let s=0;for(const o of this.blocks){const i=new VS(o.length),a=new VS(1),c=new VS(1),u=new VS(1),d=new VS(1);d.pushNByte(s);for(const t of o.bg)this.pushSuccinctGraft(a,e,t);for(const t of n)this.pushSuccinctScope(c,e,t);const l=[];for(const t of o.items)switch(t.type){case"token":this.pushSuccinctToken(i,e,t),"wordLike"===t.subType&&s++;break;case"graft":this.pushSuccinctGraft(i,e,t);break;case"scope":this.pushSuccinctScope(i,e,t),r(t),"start"===t.subType&&l.push(t);break;default:throw new Error(`Item type ${t.type} is not handled in succinctifyBlocks`)}const p=new VS(10);this.pushSuccinctScope(p,e,o.bs);for(const t of l)this.pushSuccinctScope(u,e,t);i.trim(),a.trim(),p.trim(),c.trim(),u.trim(),t.push({c:i,bs:p,bg:a,os:c,is:u,nt:d})}return t}pushSuccinctToken(e,t,n){const r=t.enumForCategoryValue(ZS[n.subType],n.payload);KS(e,QS[n.subType],r)}pushSuccinctGraft(e,t,n){const r=t.enumForCategoryValue("graftTypes",n.subType),s=t.enumForCategoryValue("ids",n.payload);JS(e,r,s)}pushSuccinctScope(e,t,n){const r=n.payload.split("/"),s=zS[r[0]],o=r.slice(1).map((e=>t.enumForCategoryValue("scopeBits",e)));HS(e,YS[`${n.subType}Scope`],s,o)}},ty=class{constructor(e){this.id=va.generateId(),this.items=[],this.bg=[],this.bs={type:"scope",subType:"start",payload:e},this.os=[]}addItem(e){this.items.push(e)}plainText(){return this.items.filter((e=>"token"===e.type)).map((e=>e.payload)).join("")}trim(){this.items=this.trimEnd(this.trimStart(this.items))}reorderSpanWithAtts(){const e=[];for(const[t,n]of this.items.entries())"start"===n.subType&&n.payload.startsWith("spanWithAtts")&&e.push(t+1);for(const t of e){let e=t,n=[],r=[];for(;!(e>=this.items.length);){const t=this.items[e];if("token"===t.type)n.push(t);else{if("start"!==t.subType||!t.payload.startsWith("attribute/spanWithAtts"))break;r.push(t)}e++}if(0!==n.length&&0!==r.length){let e=t;for(const t of r)this.items[e]=t,e++;for(const t of n)this.items[e]=t,e++}}}inlineToEnd(){let e=null;for(const[t,n]of this.items.entries())if("end"===n.subType&&["inline/f","inline/fe","inline/x"].includes(n.payload)){e=n,this.items.splice(t,1);break}e&&this.addItem(e)}makeNoteGrafts(e){const t=[];for(const[e,n]of this.items.entries())"start"===n.subType&&(n.payload.startsWith("inline/f")||n.payload.startsWith("inline/x"))&&t.push(e);for(const n of t){const t=this.items[n].payload,r=this.items[n+1];if("token"===r.type&&1===r.payload.length){const s=new ey("noteCaller");s.newBlock(t),s.addItem(r),e.sequences.noteCaller.push(s),this.items[n+1]={type:"graft",subType:"noteCaller",payload:s.id}}}}trimStart(e){if(0===e.length)return e;const t=e[0];return["lineSpace","eol"].includes(t.subType)?this.trimStart(e.slice(1)):"token"===t.type?e:[t,...this.trimStart(e.slice(1))]}trimEnd(e){if(0===e.length)return e;const t=e[e.length-1];return["lineSpace","eol"].includes(t.subType)?this.trimEnd(e.slice(0,e.length-1)):"token"===t.type?e:[...this.trimEnd(e.slice(0,e.length-1)),t]}filterGrafts(e){const t=[];let n=[];for(const[r,s]of this.grafts())this.graftPassesOptions(s,e)?t.push(s.payload):n.push(r);for(const[e,t]of Array.from(n.entries()))this.items.splice(t-e,1);n=[];for(const[r,s]of this.bg.entries())this.graftPassesOptions(s,e)?t.push(s.payload):n.push(r);for(const[e,t]of Array.from(n.entries()))this.bg.splice(t-e,1);return t}filterScopes(e){const t=[];for(const[n,r]of this.scopes())this.scopePassesOptions(r,e)||t.push(n);for(const[e,n]of Array.from(t.entries()))this.items.splice(n-e,1)}graftPassesOptions(e,t){return(!("includeGrafts"in t)||t.includeGrafts.includes(e.subType))&&(!("excludeGrafts"in t)||!t.excludeGrafts.includes(e.subType))}scopePassesOptions(e,t){return(!("includeScopes"in t)||this.scopeMatchesOptionArray(e.payload,t.includeScopes))&&(!("excludeScopes"in t)||!this.scopeMatchesOptionArray(e.payload,t.excludeScopes))}scopeMatchesOptionArray(e,t){for(const n of t)if(e.startsWith(n))return!0;return!1}removeGraftsToEmptySequences(e){let t=[];for(const[n,r]of this.grafts())e.includes(r.payload)&&t.push(n);for(const[e,n]of Array.from(t.entries()))this.items.splice(n-e,1);t=[];for(const[n,r]of this.bg.entries())e.includes(r.payload)&&t.push(n);for(const[e,n]of Array.from(t.entries()))this.bg.splice(n-e,1);return[]}grafts(){return Array.from(this.items.entries()).filter((e=>"graft"===e[1].type))}scopes(){return Array.from(this.items.entries()).filter((e=>"scope"===e[1].type))}tokens(){return Array.from(this.items.entries()).filter((e=>!["scope","graft"].includes(e[1].type)))}text(){return this.tokens().map((e=>e[1].payload)).join("")}},ny={},ry=[];for(const e of TS)["wordLike","eol","lineSpace","punctuation","unknown"].includes(e[1])&&(ny[e[1]]=$(`^${e[2].xregexp.source}$`),ry.push(e[2]));const sy=e=>{const t=$.union(ry),n=[];for(const r of $.match(e,t,"all")){let e;e=$.test(r,ny.wordLike)?"wordLike":$.test(r,ny.punctuation)?"punctuation":$.test(r,ny.lineSpace)?"lineSpace":$.test(r,ny.eol)?"eol":"unknown",n.push([r,e])}return n},{labelForScope:oy}=va.scopeDefs,{labelForScope:iy}=va.scopeDefs;let ay=0;const cy=(e,t)=>{"number"!=typeof t&&(ay=0);const n={...e,id:ay,parentId:"number"==typeof t?t:"none"};return ay++,e.children&&(n.children=e.children.map((e=>cy(e,n.id)))),n},uy=e=>{const t=[{}];if(t[0].id=e.id,t[0].parentId=e.parentId,e.content&&(t[0].content=e.content),e.children){t[0].children=[];for(const n of e.children)t[0].children.push(n.id),uy(n).forEach((e=>t.push(e)))}return t},{labelForScope:dy}=va.scopeDefs,{labelForScope:ly}=va.scopeDefs,py=va.parserConstants,fy=class{constructor(e,t,n){var r;this.filterOptions=e,this.customTags=t,this.emptyBlocks=n,this.specs=[{contexts:[["startTag","tagName",["id","usfm","ide","sts","h","toc","toca","cl"]]],parser:{baseSequenceType:"header",forceNewSequence:!0,newBlock:!0,useTempSequence:!0,newScopes:[{label:e=>e.fullTagName,endedBy:["baseSequenceChange"],onEnd:(e,t)=>{if(e.headers[t]=e.current.sequence.plainText(),"id"===t&&(3===e.headers[t].length||e.headers[t].length>3&&" "===e.headers[t].substring(3,4))){const n=e.headers[t].substring(0,3);e.headers.bookCode=n}}}]}},{contexts:[["startTag","tagName",["ms","mr","s","sr","r","qa","sp","sd"].concat((r=this).customTags.heading)]],parser:{baseSequenceType:"heading",forceNewSequence:!0,newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mt"]]],parser:{baseSequenceType:"title",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["mte"]]],parser:{baseSequenceType:"endTitle",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["imt","is","ip","ipi","im","imi","ipq","imq","ipr","iq","ib","ili","iot","io","iex","imte"].concat(r.customTags.intro)]],parser:{baseSequenceType:"introduction",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["esb"]]],parser:{baseSequenceType:"sidebar",newBlock:!0,newScopes:[],after:e=>{e.mainLike=e.current.sequence}}},{contexts:[["startTag","tagName",["esbe"]]],parser:{baseSequenceType:"main",newBlock:!0,newScopes:[],after:e=>{e.mainLike=e.sequences.main}}},{contexts:[["startTag","tagName",["cat"]]],parser:{inlineSequenceType:"esbCat",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/cat","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,t)=>{const n=va.generateId(),r={label:()=>dy("esbCat",[n]),endedBy:["startTag/esbe"]};e.openNewScope(t,r,!0,e.mainLike)}}},{contexts:[["startTag","tagName",["rem"]]],parser:{baseSequenceType:"remark",forceNewSequence:!0,newScopes:[]}},{contexts:[["startTag","tagName",["cd","p","m","po","pr","cls","pmo","pm","pmc","pmr","pi","mi","nb","pc","ph","b","q","qr","qc","qa","qm","qd","lh","li","lf","lim","d"].concat(r.customTags.paragraph)]],parser:{baseSequenceType:"mainLike",newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["tr"]]],parser:{newBlock:!0,newScopes:[]}},{contexts:[["startTag","tagName",["f","fe"]]],parser:{inlineSequenceType:"footnote",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/f","endTag/fe","endBlock"],onEnd:e=>e.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["x"]]],parser:{inlineSequenceType:"xref",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/x","endBlock"],onEnd:e=>e.returnToBaseSequence()}]}},{contexts:[["startTag","tagName",["fig"]]],parser:{inlineSequenceType:"fig",forceNewSequence:!0,newScopes:[{label:e=>dy("spanWithAtts",[e.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:e=>e.clearAttributeContext()}],during:(e,t)=>{e.setAttributeContext(dy("spanWithAtts",[t.tagName]))}}},{contexts:[["chapter"]],parser:{mainSequence:!0,newScopes:[{label:e=>dy("chapter",[e.number]),endedBy:["chapter"]}]}},{contexts:[["pubchapter"]],parser:{mainSequence:!0,newScopes:[{label:e=>dy("pubChapter",[e.numberString]),endedBy:["pubchapter","chapter"]}]}},{contexts:[["startTag","tagName",["ca"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/ca","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,t)=>{const n=va.generateId(),r={label:()=>dy("altChapter",[n]),endedBy:["startTag/ca","chapter"]};e.openNewScope(t,r,!0,e.sequences.main)}}},{contexts:[["verses"]],parser:{mainSequence:!0,newScopes:[{label:e=>dy("verses",[e.numberString]),endedBy:["verses","chapter","pubchapter"]}],during:(e,t)=>{t.numbers.forEach((n=>{const r={label:()=>dy("verse",[n]),endedBy:["verses","chapter","pubchapter"]};e.openNewScope(t,r,!0,e.sequences.main)}))}}},{contexts:[["startTag","tagName",["vp"]]],parser:{inlineSequenceType:"pubNumber",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/vp","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,t)=>{const n=va.generateId(),r={label:()=>dy("pubVerse",[n]),endedBy:["startTag/vp","verses","chapter","pubchapter"]};e.openNewScope(t,r,!0,e.sequences.main)}}},{contexts:[["startTag","tagName",["va"]]],parser:{inlineSequenceType:"altNumber",forceNewSequence:!0,newScopes:[{label:e=>dy("inline",[e.fullTagName]),endedBy:["endTag/va","endBlock","implicitEnd"],onEnd:e=>e.returnToBaseSequence()}],during:(e,t)=>{const n=va.generateId(),r={label:()=>dy("altVerse",[n]),endedBy:["startTag/va","verses","chapter","pubchapter"]};e.openNewScope(t,r,!0,e.sequences.main)}}},{contexts:[["startTag","tagName",["qs","qac","litl","lik","liv","fr","fq","fqa","fk","fl","fw","fp","fv","ft","fdc","fm","xo","xk","xq","xt","xta","xop","xot","xnt","xdc","rq","add","bk","dc","k","nd","ord","pn","png","qt","sig","sls","tl","wj","em","bd","it","bdit","no","sc","sup","ior","iqt"].concat(r.customTags.char)]],parser:{newScopes:[{label:e=>dy("span",[e.fullTagName]),endedBy:["endBlock","endTag/$fullTagName$","implicitEnd"]}]}},{contexts:[["startTag","tagName",["th","thr","tc","tcr"]]],parser:{newScopes:[{label:e=>dy("cell",[e.fullTagName]),endedBy:["startTag/th","startTag/thr","startTag/tc","startTag/tcr","startTag/th2","startTag/thr2","startTag/tc2","startTag/tcr2","startTag/th3","startTag/thr3","startTag/tc3","startTag/tcr3","endBlock","endTag/$fullTagName$"]}]}},{contexts:[["emptyMilestone"]],parser:{during:(e,t)=>e.addEmptyMilestone(dy("milestone",[t.tagName]))}},{contexts:[["startMilestoneTag","sOrE","s"]],parser:{newScopes:[{label:e=>dy("milestone",[e.tagName]),endedBy:["endMilestone/$tagName$"]}],during:(e,t)=>{e.setAttributeContext(dy("milestone",[t.tagName]))}}},{contexts:[["endMilestoneMarker"]],parser:{during:e=>e.clearAttributeContext()}},{contexts:[["attribute"],["defaultAttribute"]],parser:{during:(e,t)=>{const n={w:"lemma",rb:"gloss",xt:"link-href"};if(e.current.attributeContext){const r=e.current.attributeContext.split("/");"default"===t.key&&2===r.length&&(t.key=n[r[1]]||`unknownDefault_${r[1]}`,t.printValue=t.printValue.replace(/default/,t.key)),[...t.values.entries()].forEach((n=>{const r={label:t=>dy("attribute",[e.current.attributeContext,t.key,n[0],n[1]]),endedBy:["$attributeContext$"]};e.openNewScope(t,r)}))}else e.addToken(IS.printable("unknown",[t.printValue]))}}},{contexts:[["startTag","tagName",["w","rb"].concat(r.customTags.word)]],parser:{newScopes:[{label:e=>dy("spanWithAtts",[e.tagName]),endedBy:["endBlock","endTag/$tagName$"],onEnd:e=>e.clearAttributeContext()}],during:(e,t)=>{e.setAttributeContext(dy("spanWithAtts",[t.tagName]))}}},{contexts:[["wordLike"],["lineSpace"],["punctuation"],["eol"]],parser:{during:(e,t)=>e.addToken(t)}},{contexts:[["noBreakSpace"]],parser:{during:e=>{e.addToken(IS.printable("lineSpace",[" "]))}}},{contexts:[["softLineBreak"]],parser:{during:e=>{e.addToken(IS.printable("softLineBreak",["//"]))}}},{contexts:[["bareSlash"]],parser:{during:e=>{e.addToken(IS.printable("bareSlash",["\\"]))}}},{contexts:[["unknown"]],parser:{during:(e,t)=>{e.addToken(IS.printable("unknown",[t.printValue]))}}}],this.specLookup=(e=>{const t={};for(const n of e)for(const e of n.contexts){e[0]in t||(t[e[0]]={});const r=e[1];if(r){r in t[e[0]]||(t[e[0]][r]={});for(const s of e[2])t[e[0]][r][s]=n.parser}else t[e[0]]._noAccessor=n.parser}return t})(this.specs),this.headers={},this.baseSequenceTypes=py.usfm.baseSequenceTypes,this.inlineSequenceTypes=py.usfm.inlineSequenceTypes,this.setSequences(),this.setCurrent()}setSequences(){this.sequences={};for(const[e,t]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(t){case"1":this.sequences[e]=new ey(e);break;case"?":this.sequences[e]=null;break;case"*":this.sequences[e]=[];break;default:throw new Error(`Unexpected sequence arity '${t}' for '${e}'`)}this.mainLike=this.sequences.main}setCurrent(){this.current={sequence:this.sequences.main,parentSequence:null,baseSequenceType:"main",inlineSequenceType:null,attributeContext:null}}parseItem(e){let t=!1;["startTag"].includes(e.subclass)&&(this.closeActiveScopes(`startTag/${e.fullTagName}`),e.isNested||this.closeActiveScopes("implicitEnd")),["endTag"].includes(e.subclass)&&this.closeActiveScopes(`endTag/${e.fullTagName}`),["startMilestoneTag"].includes(e.subclass)&&"e"===e.sOrE&&this.closeActiveScopes(`endMilestone/${e.tagName}`),["chapter","pubchapter","verses"].includes(e.subclass)&&this.closeActiveScopes(e.subclass,this.sequences.main);const n=this.specForItem(e);n&&("before"in n.parser&&n.parser.before(this,e),t=!1,n.parser.baseSequenceType&&(t=("mainLike"===n.parser.baseSequenceType?this.mainLike.type:n.parser.baseSequenceType)!==this.current.baseSequenceType||n.parser.forceNewSequence),t?(this.closeActiveScopes("baseSequenceChange"),this.changeBaseSequence(n.parser),"newBlock"in n.parser&&n.parser.newBlock&&(this.closeActiveScopes("endBlock"),this.current.sequence.newBlock(ly("blockTag",[e.fullTagName])))):n.parser.inlineSequenceType?(this.current.inlineSequenceType=n.parser.inlineSequenceType,this.current.parentSequence=this.current.sequence,"header"===this.current.parentSequence.type&&(this.current.parentSequence=this.sequences.main),this.current.sequence=new ey(this.current.inlineSequenceType),this.current.sequence.newBlock(ly("inline",n.parser.inlineSequenceType)),this.sequences[this.current.inlineSequenceType].push(this.current.sequence),this.current.parentSequence.addItem({type:"graft",subType:this.current.inlineSequenceType,payload:this.current.sequence.id})):"newBlock"in n.parser&&n.parser.newBlock&&this.current.sequence.newBlock(ly("blockTag",[e.fullTagName])),"during"in n.parser&&n.parser.during(this,e),this.openNewScopes(n.parser,e),"after"in n.parser&&n.parser.after(this,e))}tidy(){for(const e of this.sequences.introduction)e.graftifyIntroductionHeadings(this);const e=this.allSequences();for(const t of e)t.trim(),t.reorderSpanWithAtts(),t.makeNoteGrafts(this),t.moveOrphanScopes(),t.removeEmptyBlocks(this.emptyBlocks);const t=this.emptySequences(e);for(const n of e)t&&n.removeGraftsToEmptySequences(t),n.addTableScopes(),n.close(this),this.substitutePubNumberScopes(n),n.moveOrphanStartScopes2(),"sidebar"===n.type&&this.substituteEsbCatScopes(n),["footnote","xref"].includes(n.type)&&n.lastBlock().inlineToEnd()}emptySequences(e){return e.filter((e=>0===e.blocks.length)).map((e=>e.id))}substitutePubNumberScopes(e){const t={},n=this.sequenceById();for(const r of e.blocks){let e=0;const s=[...r.items];for(const[o,i]of s.entries())if("graft"===i.type&&["pubNumber","altNumber"].includes(i.subType)){const a=n[i.payload].text().trim();t[s[o+1].payload.split("/")[1]]=a,r.items.splice(o-e,1),e++}}if(Object.keys(t).length>0)for(const n of e.blocks)for(const e of n.items.filter((e=>"scope"===e.type))){const n=e.payload.split("/");["altChapter","pubVerse","altVerse"].includes(n[0])&&(e.payload=`${n[0]}/${t[n[1]]}`)}}substituteEsbCatScopes(e){const t={},n=this.sequenceById();for(const r of e.blocks){let e=0;const s=[...r.items];for(const[o,i]of s.entries())if("graft"===i.type&&"esbCat"===i.subType){const a=n[i.payload].text().trim();t[s[1].payload.split("/")[1]]=a,r.items.splice(o-e,1),e++}}if(Object.keys(t).length>0)for(const n of e.blocks)for(const e of n.items.filter((e=>"scope"===e.type))){const n=e.payload.split("/");"esbCat"===n[0]&&(e.payload=`${n[0]}/${t[n[1]]}`)}}allSequences(){const e=[];for(const[t,n]of Object.entries({...this.baseSequenceTypes,...this.inlineSequenceTypes}))switch(n){case"1":case"?":this.sequences[t]&&e.push(this.sequences[t]);break;case"*":this.sequences[t].forEach((t=>{e.push(t)}));break;default:throw new Error(`Unexpected sequence arity '${n}' for '${t}'`)}return e}sequenceById(){const e={};return this.allSequences().forEach((t=>{e[t.id]=t})),e}filter(){const e=[],t=this.sequenceById();this.filterGrafts(this.sequences.main.id,t,e,this.filterOptions),this.removeUnusedSequences(e),this.filterScopes(Object.values(t),this.filterOptions)}filterGrafts(e,t,n,r){n.push(e);const s=t[e].filterGrafts(r);for(const o of s){if("main"===t[o].type)throw new Error("MAIN is child!",JSON.stringify(t[e],null,2));this.filterGrafts(o,t,n,r)}}removeUnusedSequences(e){for(const t of this.allSequences())if(!e.includes(t.id)){const e={...this.baseSequenceTypes,...this.inlineSequenceTypes}[t.type];switch(e){case"1":throw new Error("Attempting to remove sequence with arity of 1");case"?":this.sequences[t.type]=null;break;case"*":this.sequences[t.type]=this.sequences[t.type].filter((e=>e.id!==t.id));break;default:throw new Error(`Unexpected sequence arity '${e}' for '${t.type}'`)}}}filterScopes(e,t){e.forEach((e=>e.filterScopes(t)))}specForItem(e){const t=e.subclass;if(!(t in this.specLookup))return null;for(const n of["tagName","sOrE"])if(n in e&&n in this.specLookup[t]&&e[n]in this.specLookup[t][n])return{parser:this.specLookup[t][n][e[n]]};return"_noAccessor"in this.specLookup[t]?{parser:this.specLookup[t]._noAccessor}:null}closeActiveScopes(e,t){void 0===t&&(t=this.current.sequence);const n=t.activeScopes.filter((t=>t.endedBy.includes(e))).reverse();t.activeScopes=t.activeScopes.filter((t=>!t.endedBy.includes(e))),n.forEach((e=>this.closeActiveScope(e,t)))}closeActiveScope(e,t){this.addScope("end",e.label,t),e.onEnd&&e.onEnd(this,e.label)}changeBaseSequence(e){const t=e.baseSequenceType;if("mainLike"===t)return void(this.current.sequence=this.mainLike);this.current.baseSequenceType=t;const n=this.baseSequenceTypes[t];switch(n){case"1":this.current.sequence=this.sequences[t];break;case"?":this.sequences[t]||(this.sequences[t]=new ey(t)),this.current.sequence=this.sequences[t];break;case"*":this.current.sequence=new ey(t),e.useTempSequence||this.sequences[t].push(this.current.sequence);break;default:throw new Error(`Unexpected base sequence arity '${n}' for '${t}'`)}e.useTempSequence||"main"===this.current.sequence.type||this.mainLike.addBlockGraft({type:"graft",subType:this.current.baseSequenceType,payload:this.current.sequence.id})}returnToBaseSequence(){this.current.inlineSequenceType=null,this.current.sequence=this.current.parentSequence,this.current.parentSequence=null}openNewScopes(e,t){if(e.newScopes){let n=this.current.sequence;"mainSequence"in e&&e.mainSequence&&(n=this.sequences.main),e.newScopes.forEach((e=>this.openNewScope(t,e,!0,n)))}}openNewScope(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=this.current.sequence),n&&r.addItem({type:"scope",subType:"start",payload:t.label(e)});const s={label:t.label(e),endedBy:this.substituteEndedBys(t.endedBy,e)};"onEnd"in t&&(s.onEnd=t.onEnd),r.activeScopes.push(s)}substituteEndedBys(e,t){return e.map((e=>{let n=e.replace("$fullTagName$",t.fullTagName).replace("$tagName$",t.tagName);return this.current.attributeContext&&(n=n.replace("$attributeContext$",this.current.attributeContext.replace("milestone","endMilestone").replace("spanWithAtts","endTag"))),n}))}addToken(e){this.current.sequence.addItem({type:"token",subType:e.subclass,payload:e.printValue})}addScope(e,t,n){void 0===n&&(n=this.current.sequence),n.addItem({type:"scope",subType:e,payload:t})}addEmptyMilestone(e){this.mainLike.addItem({type:"scope",subType:"start",payload:e}),this.mainLike.addItem({type:"scope",subType:"end",payload:e})}setAttributeContext(e){this.current.attributeContext=e}clearAttributeContext(){this.current.attributeContext=null}},hy={perf2usfmPipeline:[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"Generate report",name:"calculateUsfmChapterPositions",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"report",type:"json"}],description:"Generate report from perf to calculate the position of the chapters"},{id:2,title:"PERF to USFM",name:"perf2usfm",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"},{name:"report",type:"json",source:"Transform 1 report"}],outputs:[{name:"usfm",type:"text"}],description:"PERF=>USFM: Conversion via Proskomma"},{id:999,type:"Outputs",outputs:[{name:"usfm",type:"text",source:"Transform 2 usfm"}]}],perf2PkJsonPipeline:[{id:0,type:"Inputs",inputs:{perf:"json"}},{id:1,title:"PERF to PkJSON",name:"perf2PkJson",type:"Transform",inputs:[{name:"perf",type:"json",source:"Input perf"}],outputs:[{name:"pkJson",type:"json"}],documentation:"",description:"PERF=>JSON: Converts PERF to current Proskomma input format"},{id:999,type:"Outputs",outputs:[{name:"pkJson",type:"json",source:"Transform 1 pkJson"}]}]},my=e=>({type:e.sequences[0].block.type,subType:e.sequences[0].block.subType,pos:e.sequences[0].block.blockN,perfChapter:null}),Sy={startDocument:[{description:"Set up storage",test:()=>!0,action:({workspace:e,output:t})=>{e.blockRecords=[],t.report={}}}],startParagraph:[{description:"Set up block record",test:()=>!0,action:({context:e,workspace:t})=>{t.blockRecords.push(my(e))}}],blockGraft:[{description:"Set up block record",test:()=>!0,action:({context:e,workspace:t})=>{t.blockRecords.push(my(e))}}],mark:[{description:"Add chapter number to block record",test:({context:e})=>"chapter"===e.sequences[0].element.subType,action:({context:e,workspace:t})=>{t.blockRecords[t.blockRecords.length-1].perfChapter=e.sequences[0].element.atts.number}}],endDocument:[{description:"Populate report",test:()=>!0,action:({workspace:e,output:t})=>{for(const[n,r]of Object.entries(e.blockRecords)){if(!r.perfChapter)continue;let s=n,o=!1;for(;s>0&&!o;)"paragraph"===e.blockRecords[s-1].type||"title"===e.blockRecords[s-1].subType?o=!0:s--;t.report[s.toString()]=r.perfChapter}}}]},yy={name:"calculateUsfmChapterPositions",type:"Transform",description:"PERF=>JSON: Generates positions for inserting chapter numbers into USFM",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"report",type:"json"}],code:function({perf:e}){const t={};return new AS.PerfRenderFromJson({srcJson:e,actions:Sy}).renderDocument({docId:"",config:{maxLength:60},output:t}),{report:t.report}}},gy=e=>["toc","toca","mt","imt","s","ms","mte","sd"].includes(e)?e+"1":e,by={startDocument:[{description:"Set up environment",test:()=>!0,action:({context:e,workspace:t})=>{t.usfmBits=[""],t.nestedWrapper=0;for(let[n,r]of Object.entries(e.document.metadata.document).filter((e=>!["tags","properties","bookCode","cl"].includes(e[0]))))t.usfmBits.push(`\\${gy(n)} ${r}\n`)}}],blockGraft:[{description:"Follow block grafts",test:({context:e})=>["title","heading","introduction"].includes(e.sequences[0].block.subType),action:e=>{let t=e.context.sequences[0],n=e.config.report[t.block.blockN.toString()];const r=t.block.target;n&&"main"===t.type&&e.workspace.usfmBits.push(`\n\\c ${n}\n`),r&&e.context.renderer.renderSequenceId(e,r)}}],inlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:e=>{const t=e.context.sequences[0].element.target;t&&e.context.renderer.renderSequenceId(e,t)}}],startParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:e})=>"usfm:f"===e.sequences[0].block.subType&&"footnote"===e.sequences[0].type||"usfm:x"===e.sequences[0].block.subType&&"xref"===e.sequences[0].type,action:({context:e,workspace:t})=>{t.nestedWrapper=0;let n=e.sequences[0];t.usfmBits.push(`\\${gy(n.block.subType.split(":")[1])} `)}},{description:"Output footnote note_caller tag (footnote)",test:({context:e})=>"usfm:f"===e.sequences[0].block.subType||"usfm:x"===e.sequences[0].block.subType,action:({workspace:e})=>{e.nestedWrapper=0}},{description:"Output paragraph tag (main)",test:()=>!0,action:({context:e,workspace:t,config:n})=>{t.nestedWrapper=0;let r=e.sequences[0],s=n.report[r.block.blockN.toString()];s&&"main"===r.type&&t.usfmBits.push(`\n\\c ${s}\n`),t.usfmBits.push(`\n\\${gy(r.block.subType.split(":")[1])}\n`)}}],endParagraph:[{description:"Output footnote paragraph tag (footnote)",test:({context:e})=>"usfm:f"===e.sequences[0].block.subType&&"footnote"===e.sequences[0].type||"usfm:x"===e.sequences[0].block.subType&&"xref"===e.sequences[0].type,action:({context:e,workspace:t})=>{let n=e.sequences[0];t.usfmBits.push(`\\${gy(n.block.subType.split(":")[1])}*`)}},{description:"Output footnote note_caller tag (footnote)",test:({context:e})=>"usfm:f"===e.sequences[0].block.subType||"usfm:x"===e.sequences[0].block.subType,action:()=>{}},{description:"Output nl",test:()=>!0,action:({workspace:e})=>{e.usfmBits.push("\n")}}],startMilestone:[{description:"Output start milestone",test:()=>!0,action:({context:e,workspace:t})=>{let n=e.sequences[0].element,r=((e,t)=>{let n=`\\${t}-s |`;for(let[t,r]of Object.entries(e))n="x-morph"===t?n+gy(t)+'="'+r.join(",")+'" ':n+gy(t)+'="'+r+'" ';return n+"\\*"})(n.atts,gy(n.subType.split(":")[1]));t.usfmBits.push(r)}}],endMilestone:[{description:"Output end milestone",test:()=>!0,action:({context:e,workspace:t})=>{t.usfmBits.push(`\\${gy(e.sequences[0].element.subType.split(":")[1])}-e\\*`)}}],text:[{description:"Output text",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element.text;t.usfmBits.push(n)}}],mark:[{description:"Output chapter or verses",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element;"verses"===n.subType&&t.usfmBits.push(`\n\\v ${n.atts.number}\n`)}}],endSequence:[{description:"Output \\cl",test:({context:e})=>e.document.metadata.document.cl&&"title"===e.sequences[0].type,action:({context:e,workspace:t})=>{t.usfmBits.push(`\n\\cl ${e.document.metadata.document.cl}\n`)}}],startWrapper:[{description:"Output start tag",test:()=>!0,action:({workspace:e,context:t})=>{let n=t.sequences[0];e.nestedWrapper>0?e.usfmBits.push(`\\+${gy(n.element.subType.split(":")[1])} `):e.usfmBits.push(`\\${gy(n.element.subType.split(":")[1])} `),e.nestedWrapper+=1}}],endWrapper:[{description:"Output end tag",test:({context:e})=>!["fr","fq","fqa","fk","fl","fw","fp","ft","xo","xk","xq","xt","xta"].includes(e.sequences[0].element.subType.split(":")[1]),action:({workspace:e,context:t})=>{e.nestedWrapper-=1;let n=t.sequences[0],r=n.element.subType.split(":")[1],s=e.nestedWrapper>0;if("w"===r){let t=((e,t,n=!1)=>{let r="|";for(let[t,n]of Object.entries(e))r=r+gy(t)+'="'+n+'" ';return r+="\\",n&&(r+="+"),r+t+"*"})(n.element.atts,gy(r),s);e.usfmBits.push(t)}else s?e.usfmBits.push(`\\+${gy(n.element.subType.split(":")[1])}*`):e.usfmBits.push(`\\${gy(n.element.subType.split(":")[1])}*`)}},{description:"Do NOT output end tag",test:()=>!0,action:({workspace:e})=>{e.nestedWrapper-=1}}],endDocument:[{description:"Build output",test:()=>!0,action:({workspace:e,output:t})=>{t.usfm=e.usfmBits.join("").replace(/(\s*)\n(\s*)/gm,"\n")}}]},vy={name:"perf2usfm",type:"Transform",description:"PERF=>USFM",inputs:[{name:"perf",type:"json",source:""},{name:"report",type:"json",source:""}],outputs:[{name:"usfm",type:"text"}],code:function({perf:e,report:t}){const n={};return new AS.PerfRenderFromJson({srcJson:e,actions:by}).renderDocument({docId:"",config:{report:t},output:n}),{usfm:n.usfm}}},Ey=TS.filter((e=>"wordLike"===e[1]))[0][2],Ay=TS.filter((e=>"lineSpace"===e[1]))[0][2],Ty=TS.filter((e=>"punctuation"===e[1]))[0][2],wy=e=>{[...e.os.filter((e=>["verse","verses"].includes(e.split("/")[0])))].reverse().forEach((t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter((e=>e!==t))]}))},ky={startDocument:[{description:"Set up word object",test:()=>!0,action:({workspace:e,output:t})=>{t.pkJson={},e.sequenceId=null,e.block=null,e.os=[],e.waitingBlockGrafts=[]}}],startSequence:[{description:"Add sequence array to output",test:()=>!0,action:e=>{e.output.pkJson[e.context.sequences[0].id]=[],e.workspace.sequenceId=e.context.sequences[0].id}}],endSequence:[{description:"Reset sequenceId pointer",test:()=>!0,action:e=>{var t,n;[...(n=e.workspace).os].reverse().forEach((e=>{n.block.items.push({type:"scope",subType:"end",payload:e})})),n.os=[],e.workspace.sequenceId=null==(t=e.context.sequences[1])?void 0:t.id}}],unresolvedBlockGraft:[{description:"Stash for next para",test:()=>!0,action:({context:e,workspace:t})=>{e.sequences[0].block.target&&t.waitingBlockGrafts.push({type:"graft",subType:e.sequences[0].block.subType,payload:e.sequences[0].block.target})}}],unresolvedInlineGraft:[{description:"Follow inline grafts",test:()=>!0,action:({context:e,workspace:t})=>{e.sequences[0].element.target&&t.block.items.push({type:"graft",subType:e.sequences[0].element.subType,payload:e.sequences[0].element.target})}}],startParagraph:[{description:"Add object for paragraph block",test:()=>!0,action:({context:e,workspace:t,output:n})=>{t.block={os:[...t.os],is:[],bs:{type:"scope",subType:"start",payload:`blockTag/${e.sequences[0].block.subType.split(":")[1]}`},bg:[...t.waitingBlockGrafts],items:[]},n.pkJson[t.sequenceId].push(t.block)}}],endParagraph:[{description:"Close open scopes",test:()=>!0,action:({workspace:e})=>{(e=>{[...e.os.filter((e=>["span"].includes(e.split("/")[1])))].reverse().forEach((t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter((e=>e!==t))]}))})(e),e.waitingBlockGrafts=[]}}],mark:[{description:"ts mark as milestone",test:({context:e})=>["usfm:ts"].includes(e.sequences[0].element.subType),action:({workspace:e})=>{const t="milestone/ts";e.block.is.includes(t)||e.block.is.push(t),e.os.push(t),e.block.items.push({type:"scope",subType:"start",payload:t}),e.block.items.push({type:"scope",subType:"end",payload:t})}},{description:"Chapter",test:({context:e})=>["chapter"].includes(e.sequences[0].element.subType),action:({context:e,workspace:t})=>{wy(t),(e=>{[...e.os.filter((e=>["chapter"].includes(e.split("/")[0])))].reverse().forEach((t=>{e.block.items.push({type:"scope",subType:"end",payload:t}),e.os=[...e.os.filter((e=>e!==t))]}))})(t);const n=`chapter/${e.sequences[0].element.atts.number}`;t.block.is.includes(n)||t.block.is.push(n),t.os.push(n),t.block.items.push({type:"scope",subType:"start",payload:n})}},{description:"Verses",test:({context:e})=>["verses"].includes(e.sequences[0].element.subType),action:({context:e,workspace:t})=>{wy(t);const n=e.sequences[0].element,r=n.atts.number;let s=[parseInt(r)];if(r.includes("-")){let[e,t]=r.split("-").map((e=>parseInt(e)));for(s=[e];e<=t;)e++,s.push(e)}for(const e of s){const n=`verse/${e}`;t.os.push(n),t.block.is.includes(n)||t.block.is.push(n),t.block.items.push({type:"scope",subType:"start",payload:n})}const o=`verses/${n.atts.number}`;t.block.is.includes(o)||t.block.is.push(o),t.os.push(o),t.block.items.push({type:"scope",subType:"start",payload:o})}}],startMilestone:[{description:"Add scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element,r=`milestone/${n.subType.split(":")[1]}`;t.block.is.includes(r)||t.block.is.push(r),t.os.push(r),t.block.items.push({type:"scope",subType:"start",payload:r});for(const[e,r]of Object.entries(n.atts||{})){const s=r.toString().split(",");for(const[r,o]of s.entries()){const s=`attribute/milestone/${n.subType.split(":")[1]}/${e}/${r}/${o}`;t.block.is.includes(s)||t.block.is.push(s),t.os.push(s),t.block.items.push({type:"scope",subType:"start",payload:s})}}}}],endMilestone:[{description:"Remove scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element,r=`attribute/milestone/${n.subType.split(":")[1]}`;for(const e of[...t.os.filter((e=>e.startsWith(r)))].reverse())t.os=t.os.filter((t=>t!==e)),t.block.items.push({type:"scope",subType:"end",payload:e});const s=`milestone/${n.subType.split(":")[1]}`;t.os=t.os.filter((e=>e!==s)),t.block.items.push({type:"scope",subType:"end",payload:s})}}],startWrapper:[{description:"Add scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element,r=`${"usfm:w"===n.subType?"spanWithAtts":"span"}/${n.subType.split(":")[1]}`;t.block.is.includes(r)||t.block.is.push(r),t.os.push(r),t.block.items.push({type:"scope",subType:"start",payload:r});for(const[e,r]of Object.entries(n.atts||{})){const n=r.toString().split(",");for(const[r,s]of n.entries()){const n=`attribute/spanWithAtts/w/${e}/${r}/${s}`;t.block.is.includes(n)||t.block.is.push(n),t.os.push(n),t.block.items.push({type:"scope",subType:"start",payload:n})}}}}],endWrapper:[{description:"Remove scope and update state",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element;for(const[e,r]of[...Object.entries(n.atts||{})].reverse()){const n=r.toString().split(",");for(const[r,s]of[...n.entries()].reverse()){const n=`attribute/spanWithAtts/w/${e}/${r}/${s}`;t.os=t.os.filter((e=>e!==n)),t.block.items.push({type:"scope",subType:"end",payload:n})}}const r=`${"usfm:w"===n.subType?"spanWithAtts":"span"}/${n.subType.split(":")[1]}`;t.os=t.os.filter((e=>e!==r)),t.block.items.push({type:"scope",subType:"end",payload:r})}}],text:[{description:"Log occurrences",test:()=>!0,action:({context:e,workspace:t})=>{const n=e.sequences[0].element.text,r=$.union(TS.map((e=>e[2]))),s=$.match(n,r,"all");for(const e of s){let n;$.test(e,Ey)?n="wordLike":$.test(e,Ay)?n="lineSpace":$.test(e,Ty)&&(n="punctuation"),t.block.items.push({type:"token",subType:n,payload:e})}}}],endDocument:[{description:"Rework hanging end cv scopes",test:()=>!0,action:({output:e})=>{const t=Object.values(e.pkJson)[0];for(let e=1;e<t.length;e++){let n=t[e].items;const r=t[e-1].items;let s=0;for(;s<n.length;){const e=n[s];if("scope"!==e.type||"end"!==e.subType)break;s++}for(;s>0;){const o=n.shift();r.push(o),t[e].os=t[e].os.filter((e=>e!==o.payload)),s--}}}}]},Iy={calculateUsfmChapterPositions:yy,perf2usfm:vy,perf2PkJson:{name:"perf2PkJson",type:"Transform",description:"PERF=>JSON: Converts PERF to current Proskomma input format",documentation:"",inputs:[{name:"perf",type:"json",source:""}],outputs:[{name:"pkJson",type:"json"}],code:function({perf:e}){const t={};return new AS.PerfRenderFromJson({srcJson:e,ignoreMissingSequences:!0,actions:ky}).renderDocument({docId:"",config:{},output:t}),{pkJson:t.pkJson}}}},Py=va.ByteArray,{itemEnum:Ny}=va.itemDefs,{tokenEnum:Oy}=va.tokenDefs,_y=e=>{const t=e.sequences[e.mainId],n=e.processor.docSets[e.docSetId];n.buildPreEnums(),n.buildEnumIndexes();const r={},s={};let o="0",i="0",a="1",c=0;if(t.chapterVerses={},0===n.enums.wordLike.length)throw new Error("No wordLike content in docSet - probably a USFM issue, maybe missing \\mt?");t.tokensPresent=new Ri(new Array(n.enums.wordLike.length).fill(0).map((e=>e.toString())).join(""));for(const[e,u]of t.blocks.entries()){let d=0,l=u.c,p=-1;for(;d<l.length;){p++;const[u,f,h]=va.succinct.headerBytes(l,d);if(f===Ny.startScope){let t=n.succinctScopeLabel(l,h,d);t.startsWith("chapter/")?(o=t.split("/")[1],r[o]={},s[o]={startBlock:e,startItem:p,nextToken:c}):t.startsWith("verse/")?(i=t.split("/")[1],"1"!==i||"0"in r[o]||s[o].nextToken<c&&(r[o][0]=[{startBlock:s[o].startBlock,startItem:s[o].startItem,endBlock:e,endItem:Math.max(p-1,0),nextToken:s[o].nextToken,verses:"0"}]),i in r[o]||(r[o][i]=[]),r[o][i].push({startBlock:e,startItem:p,nextToken:c})):t.startsWith("verses/")&&(a=t.split("/")[1])}else if(f===Ny.endScope){let t=n.succinctScopeLabel(l,h,d);if(t.startsWith("chapter/")){o=t.split("/")[1];let n=s[o];n&&(n.endBlock=e,n.endItem=p)}else if(t.startsWith("verse/")&&(i=t.split("/")[1],r[o][i])){const t=r[o][i][r[o][i].length-1];t.endBlock=e,t.endItem=p,t.verses=a}}else f===Ny.token&&h===Oy.wordLike&&(t.tokensPresent.set(l.nByte(d+2),1),c++);d+=u}}for(const[e,s]of Object.entries(r)){const r=new Py;t.chapterVerses[e]=r;const o=Object.keys(s).map((e=>parseInt(e))).sort(((e,t)=>e-t));if(0===o.length)continue;const i=o[o.length-1],a=Array.from(Array(i+1).keys());let c=0;for(const e of a){const t=`${e}`;if(t in s){const o=s[t],i=o.length;for(const[t,s]of o.entries()){if(!s.verses){console.log(`** VerseElement without verses for ${e} in buildChapterVerseIndex`);continue}const o=n.enumForCategoryValue("scopeBits",s.verses),a=s.startBlock===s.endBlock?2:3;r.pushByte(0),2===a?r.pushNBytes([s.startBlock,s.startItem,s.endItem,s.nextToken,o]):r.pushNBytes([s.startBlock,s.endBlock,s.startItem,s.endItem,s.nextToken,o]),r.setByte(c,$y(a,t===i-1,r.length-c)),c=r.length}}else r.pushByte($y(0,!0,1)),c++}r.trim()}t.chapters={};for(const[e,n]of Object.entries(s)){if(!("startBlock"in n)||!("endBlock"in n))continue;const r=new Py;t.chapters[e]=r;const s=n.startBlock===n.endBlock?2:3;r.pushByte(0),2===s?r.pushNBytes([n.startBlock,n.startItem,n.endItem,n.nextToken]):r.pushNBytes([n.startBlock,n.endBlock,n.startItem,n.endItem,n.nextToken]),r.setByte(0,$y(s,!0,r.length)),r.trim()}},xy=(e,t)=>{const n=e.processor.docSets[e.docSetId];n.buildEnumIndexes();const r=[],s=e.sequences[e.mainId].chapterVerses[t];if(s){let e=0,t=[];for(;e<s.length;){const[o,i,a]=Dy(s,e);if(2===o){const r=s.nBytes(e+1,5);t.push({startBlock:r[0],endBlock:r[0],startItem:r[1],endItem:r[2],nextToken:r[3],verses:n.enums.scopeBits.countedString(n.enumIndexes.scopeBits[r[4]])})}else if(3===o){const r=s.nBytes(e+1,6);t.push({startBlock:r[0],endBlock:r[1],startItem:r[2],endItem:r[3],nextToken:r[4],verses:n.enums.scopeBits.countedString(n.enumIndexes.scopeBits[r[5]])})}i&&(r.push(t),t=[]),e+=a}}return r},Cy=(e,t)=>{const n=e.sequences[e.mainId].chapters[t];if(n){const e=Dy(n,0)[0];if(2===e){const e=n.nBytes(1,4);return{startBlock:e[0],endBlock:e[0],startItem:e[1],endItem:e[2],nextToken:e[3]}}if(3===e){const e=n.nBytes(1,5);return{startBlock:e[0],endBlock:e[1],startItem:e[2],endItem:e[3],nextToken:e[4]}}}},$y=(e,t,n)=>n+(t?32:0)+64*e,Dy=(e,t)=>{const n=e.byte(t);return[n>>6,(n>>5)%2==1,n%32]},Ry=(e,t,n)=>{const r=e.processor.docSets[e.docSetId];for(const s of Object.values(e.sequences))for(const e of s.blocks){const s="block"===t?e.bg:e.c;let o=0;for(;o<s.length;){const[e,t]=va.succinct.headerBytes(s,o);t!==va.itemDefs.itemEnum.graft?o+=e:va.succinct.succinctGraftSeqId(r.enums,r.enumIndexes,s,o)===n?s.deleteItem(o):o+=e}}},By=(e,t,n,r,s,o)=>{let i=0,a=-1;for(;i<n.c.length;){a++;const[c,u,d]=va.succinct.headerBytes(n.c,i);s(e,t,n,a,u,d,i)&&o(e,t,n,r,a,c,u,d,i),i+=c}},qy=va.ByteArray,{pushSuccinctGraftBytes:jy,pushSuccinctScopeBytes:My,pushSuccinctTokenBytes:Gy}=va.succinct,{itemEnum:Ly}=va.itemDefs,{scopeEnum:Uy,scopeEnumLabels:Fy,nComponentsForScope:Vy}=va.scopeDefs,{tokenCategory:Jy,tokenEnum:Hy}=va.tokenDefs,{headerBytes:Ky}=va.succinct,Wy=va.ByteArray,{itemEnum:Xy}=va.itemDefs,Yy=e=>{const t={type:e.type,blocks:e.blocks.map((e=>zy(e))),tags:Array.from(e.tags)};if("main"===e.type){t.chapters={};for(const[n,r]of Object.entries(e.chapters||{}))r.trim(),t.chapters[n]=r.base64();t.chapterVerses={};for(const[n,r]of Object.entries(e.chapterVerses||{}))r.trim(),t.chapterVerses[n]=r.base64();"tokensPresent"in e&&(t.tokensPresent="0x"+e.tokensPresent.toString(16))}return t},zy=e=>{for(const t of["bs","bg","c","is","os","nt"])e[t].trim();return{bs:e.bs.base64(),bg:e.bg.base64(),c:e.c.base64(),is:e.is.base64(),os:e.os.base64(),nt:e.nt.base64()}},Zy=(e,t)=>{for(const n of e.unsuccinctifyItems(t,{},0))if("token"===n[0])"wordLike"===n[1]?e.recordPreEnum("wordLike",n[2]):e.recordPreEnum("notWordLike",n[2]);else if("graft"===n[0])e.recordPreEnum("graftTypes",n[1]);else if("scope"===n[0]&&"start"===n[1]){const t=n[2].split("/");if(t.length!==va.scopeDefs.nComponentsForScope(t[0]))throw new Error(`Scope ${n[2]} has unexpected number of components`);for(const n of t.slice(1))e.recordPreEnum("scopeBits",n)}},{addTag:Qy,removeTag:eg,validateTags:tg}=va.tags,ng=va.parserConstants;class rg{constructor(e,t,n,r,s,o,i,a){if(this.processor=e,this.docSetId=t,this.baseSequenceTypes=ng.usfm.baseSequenceTypes,n)switch(this.id=va.generateId(),this.filterOptions=s,this.customTags=o,this.emptyBlocks=i,this.tags=new Set(a||[]),tg(this.tags),this.headers={},this.mainId=null,this.sequences={},n.toLowerCase()){case"usfm":case"sfm":this.processUsfm(r);break;case"usx":this.processUsx(r);break;case"tsv":this.processTSV(r);break;case"nodes":this.processNodes(r);break;default:throw new Error(`Unknown document contentType '${n}'`)}}addTag(e){Qy(this.tags,e)}removeTag(e){eg(this.tags,e)}makeParser(){return new fy(this.filterOptions,this.customTags,this.emptyBlocks)}processUsfm(e){const t=this.makeParser();((e,t)=>{const n=$.match(e,wS,"all");for(let e=0;e<n.length;e++)t.parseItem(PS(n[e],TS))})(e,t),this.postParseScripture(t)}processUsx(e){const t=this.makeParser();((e,t)=>{(new FS).lexAndParse(e,t)})(e,t),this.postParseScripture(t)}processTSV(e){const t=this.makeParser(),n=`T${this.processor.nextTable>9?this.processor.nextTable:"0"+this.processor.nextTable}`;this.processor.nextTable++,((e,t,n)=>{const{rows:r}=JSON.parse(e);t.headers.id=n,t.headers.bookCode=n;const s=new ey("table");for(const[e,t]of r.entries())for(const[n,r]of t.entries()){s.newBlock(oy("tTableRow",[`${e}`]));const t=s.lastBlock();t.addItem({type:"scope",subType:"start",payload:`tTableCol/${n}`});for(const[e,n]of sy(r))t.addItem({type:"token",subType:n,payload:e});t.addItem({type:"scope",subType:"end",payload:`tTableCol/${n}`})}t.sequences.table.push(s),t.sequences.main.addBlockGraft({type:"graft",subType:"table",payload:s.id})})(e,t,n),this.headers=t.headers,this.succinctPass1(t),this.succinctPass2(t),_y(this);const r=Object.values(this.sequences).filter((e=>"table"===e.type))[0];for(const[t,n]of JSON.parse(e).headings.entries())r.tags.add(`col${t}:${n}`)}processNodes(e){const t=this.makeParser(),n=`N${this.processor.nextNodes>9?this.processor.nextNodes:"0"+this.processor.nextNodes}`;this.processor.nextNodes++,((e,t,n)=>{t.headers.id=n,t.headers.bookCode=n;const r=new ey("tree");for(const t of uy(cy(JSON.parse(e)))){r.newBlock(iy("tTreeNode",[`${t.id}`]));const e=iy("tTreeParent",[`${t.parentId}`]);if(r.lastBlock().items.push({type:"scope",subType:"start",payload:e}),t.content)for(const[e,n]of Object.entries(t.content)){const s=r.lastBlock().items.length,o=sy(n),i=iy("tTreeContent",[e,t.id,`${s}`,`${o.length}`]);r.lastBlock().items.push({type:"scope",subType:"start",payload:i});for(const[e,t]of o)r.lastBlock().items.push({type:"token",subType:t,payload:e});r.lastBlock().items.push({type:"scope",subType:"end",payload:i})}if(t.children)for(const[e,n]of t.children.entries()){const t=iy("tTreeChild",[e,n]);r.lastBlock().items.push({type:"scope",subType:"start",payload:t}),r.lastBlock().items.push({type:"scope",subType:"end",payload:t})}r.lastBlock().items.push({type:"scope",subType:"end",payload:e})}t.sequences.tree.push(r),t.sequences.main.addBlockGraft({type:"graft",subType:"tree",payload:r.id})})(e,t,n),this.headers=t.headers,this.succinctPass1(t),this.succinctPass2(t),_y(this)}postParseScripture(e){e.tidy();const t=e.filterOptions;this.headers=e.headers,this.succinctPass1(e),this.succinctPass2(e),this.succinctFilter(t),_y(this)}succinctFilter(e){((e,t)=>{if(!t||0===Object.keys(t).length)return;const n=e.processor.docSets[e.docSetId],r=(e,r,s,o,i,a,c)=>{if(i===Xy.token)return!0;if(i===Xy.startScope||i===Xy.endScope){if(t.includeScopes||t.excludeScopes){const e=n.unsuccinctifyScope(s.c,i,a,c);return(!t.includeScopes||t.includeScopes.filter((t=>e[2].startsWith(t))).length>0)&&(!t.excludeScopes||0===t.excludeScopes.filter((t=>e[2].startsWith(t))).length)}return!0}{if(!t.includeGrafts&&!t.excludeGrafts)return!0;const e=n.unsuccinctifyGraft(s.c,a,c);return(!t.includeGrafts||t.includeGrafts.filter((t=>e[1].startsWith(t))).length>0)&&(!t.excludeGrafts||0===t.excludeGrafts.filter((t=>e[1].startsWith(t))).length)}},s=(e,r,s)=>{const o=new Wy(s.bg.length);let i=0;for(;i<s.bg.length;){const[e,r,a]=va.succinct.headerBytes(s.bg,i),c=n.unsuccinctifyGraft(s.bg,a,i);if((!t.includeGrafts||t.includeGrafts.filter((e=>c[1].startsWith(e))).length>0)&&(!t.excludeGrafts||0===t.excludeGrafts.filter((e=>c[1].startsWith(e))).length))for(let t=0;t<e;t++)o.pushByte(s.bg.byte(i+t));i+=e}return o.trim(),s.bg=o,s};Object.keys(e.sequences).forEach((t=>{e.modifySequence(t,null,null,r,s,null)})),Object.values(e.sequences).forEach((e=>n.updateBlockIndexesAfterFilter(e))),e.gcSequences()})(this,e)}succinctPass1(e){const t=this.processor.docSets[this.docSetId];for(const n of e.allSequences())t.recordPreEnum("ids",n.id),this.recordPreEnums(t,n);0===t.enums.wordLike.length&&t.sortPreEnums(),t.buildEnums()}recordPreEnums(e,t){((e,t)=>{e.recordPreEnum("scopeBits","0");for(const[n,r]of t.blocks.entries())for(const[t,n]of[...r.items,r.bs,...r.bg].entries())if("wordLike"===n.subType)e.recordPreEnum("wordLike",n.payload);else if(["lineSpace","eol","punctuation","softLineBreak","bareSlash","unknown"].includes(n.subType))e.recordPreEnum("notWordLike",n.payload);else if("graft"===n.type)e.recordPreEnum("graftTypes",n.subType);else if("start"===n.subType){const t=n.payload.split("/");if(t.length!==va.scopeDefs.nComponentsForScope(t[0]))throw new Error(`Scope ${n.payload} has unexpected number of components`);for(const n of t.slice(1))e.recordPreEnum("scopeBits",n)}})(e,t)}rerecordPreEnums(e,t){((e,t)=>{e.recordPreEnum("scopeBits","0"),e.recordPreEnum("ids",t.id);for(const n of t.blocks)for(const t of["bs","bg","c","is","os"])Zy(e,n[t])})(e,t)}succinctPass2(e){const t=this.processor.docSets[this.docSetId];this.mainId=e.sequences.main.id;for(const n of e.allSequences())this.sequences[n.id]={id:n.id,type:n.type,tags:new Set(n.tags),isBaseType:n.type in e.baseSequenceTypes,blocks:n.succinctifyBlocks(t)};this.sequences[this.mainId].verseMapping={}}modifySequence(e,t,n,r,s,o){((e,t,n,r,s,o,i)=>{e.processor.docSets[e.docSetId].maybeBuildEnumIndexes(),n=n||(e=>e);const a=e.sequences[t],c=n({id:t,type:a.type,tags:a.tags,isBaseType:a.isBaseType,verseMapping:a.verseMapping});((e,t,n,r,s,o)=>{n=n||((e,t,n)=>!!n),r=r||((e,t,n,r,s,o,i)=>!!n||i),s=s||((e,t,n)=>n),o=o||((e,t,n,r,s,o,i,a,c)=>{for(let e=0;e<o;e++)r.c.pushByte(n.c.byte(c+e))}),t.blocks=[];for(const[i,a]of e.blocks.entries())if(n(e,i,a)){const n=s(e,i,Lm(a));n.c.clear(),By(e,i,a,n,r,o),t.blocks.push(n)}})(a,c,r,s,o,i),e.sequences[t]=c,"main"===c.type&&e.buildChapterVerseIndex()})(this,e,t,n,r,s,o)}buildChapterVerseIndex(){_y(this)}chapterVerseIndexes(){const e={};for(const t of Object.keys(this.sequences[this.mainId].chapterVerses))e[t]=xy(this,t);return e}chapterVerseIndex(e){return xy(this,e)}chapterIndexes(){const e={};for(const t of Object.keys(this.sequences[this.mainId].chapters))e[t]=Cy(this,t);return e}chapterIndex(e){return Cy(this,e)}rewriteSequenceBlocks(e,t){const n=this.sequences[e];for(const e of n.blocks)this.rewriteSequenceBlock(e,t)}rewriteSequenceBlock(e,t){((e,t)=>{for(const n of["bs","bg","c","is","os"]){const r=e[n],s=new qy(r.length);let o=0;for(;o<r.length;){const[e,n,i]=Ky(r,o);if(n===Ly.token)i===Hy.wordLike?Gy(s,i,t.wordLike[r.nByte(o+2)]):Gy(s,i,t.notWordLike[r.nByte(o+2)]);else if(n===Ly.graft)jy(s,t.graftTypes[i],t.ids[r.nByte(o+2)]);else{let e=Vy(Fy[i]);const a=[];let c=2;for(;e>1;){const n=t.scopeBits[r.nByte(o+c)];a.push(n),c+=r.nByteLength(n),e--}My(s,n,i,a)}o+=e}s.trim(),e[n]=s}})(e,t)}serializeSuccinct(){return(e=>{const t={sequences:{}};t.headers=e.headers,t.mainId=e.mainId,t.tags=Array.from(e.tags);for(const[n,r]of Object.entries(e.sequences))t.sequences[n]=Yy(r);return t})(this)}gcSequences(){return(e=>{const t=new Set,n=e.processor.docSets[e.docSetId];n.maybeBuildEnumIndexes();const r=(e,t,s)=>{s.add(t.id);for(const o of t.blocks){for(const t of n.unsuccinctifyGrafts(o.bg))s.has(t[2])||r(e,e.sequences[t[2]],s);for(const t of n.unsuccinctifyItems(o.c,{grafts:!0},0))s.has(t[2])||r(e,e.sequences[t[2]],s)}};r(e,e.sequences[e.mainId],t);let s=!1;for(const n of Object.keys(e.sequences))t.has(n)||(delete e.sequences[n],s=!0);return s})(this)}newSequence(e,t){return((e,t,n)=>{const r=va.generateId();return e.sequences[r]={id:r,type:t,tags:new Set(n||[]),isBaseType:t in e.baseSequenceTypes,blocks:[]},r})(this,e,t)}deleteSequence(e){return((e,t)=>{if(!(t in e.sequences))return!1;if("main"===e.sequences[t].type)throw new Error("Cannot delete main sequence");return e.sequences[t].type in e.baseSequenceTypes?Ry(e,"block",t):Ry(e,"inline",t),delete e.sequences[t],e.buildChapterVerseIndex(globalThis),e.gcSequences(),!0})(this,e)}deleteBlock(e,t,n){return((e,t,n,r)=>{if(!1!==r&&(r=!0),!(t in e.sequences))return!1;const s=e.sequences[t];return!(n<0||n>=s.blocks.length||(s.blocks.splice(n,1),r&&e.buildChapterVerseIndex(globalThis),0))})(this,e,t,n)}newBlock(e,t,n,r,s){return((e,t,n,r,s,o)=>{if(!1!==o&&(o=!0),!(t in e.sequences))return!1;const i=e.sequences[t];if(n<0||n>i.blocks.length)return!1;const a=e.processor.docSets[e.docSetId];a.maybeBuildPreEnums();const c={bs:new qy(0),bg:new qy(0),c:new qy(0),os:new qy(0),is:new qy(0),nt:new qy(0)},u=r.split("/"),d=Uy[u[0]],l=Vy(u[0]);if(u.length!==l)throw new Error(`Scope ${r} has ${u.length} component(s) (expected ${l}`);const p=u.slice(1).map((e=>a.enumForCategoryValue("scopeBits",e,!0)));return My(c.bs,Ly.startScope,d,p),c.bs.trim(),s&&Ca(a,e.id,t,n,s),i.blocks.splice(n,0,c),o&&e.buildChapterVerseIndex(),!0})(this,e,t,n,r,s)}perf(e){const t={};return new AS.PerfRenderFromProskomma({proskomma:this.processor,actions:AS.render.perfToPerf.renderActions.identityActions}).renderDocument({docId:this.id,config:{},output:t}),e?JSON.stringify(t.perf,null,e):JSON.stringify(t.perf)}async usfm(){const e=JSON.parse(this.perf());try{const t=new AS.PipelineHandler({pipelines:hy,transforms:Iy,proskomma:this.processor});return(await t.runPipeline("perf2usfmPipeline",{perf:e})).usfm}catch(e){console.error("pipelineHandler Error :\n",e)}}sofria(e,t){const n=new AS.SofriaRenderFromProskomma({proskomma:this.processor,actions:AS.render.sofriaToSofria.renderActions.identityActions}),r={},s={};t&&(s.chapters=[`${t}`]);try{n.renderDocument({docId:this.id,config:s,output:r})}catch(e){throw console.log(e),e}return e?JSON.stringify(r.sofria,null,e):JSON.stringify(r.sofria)}}const sg=e=>e.map((e=>(e=>{let t;switch(e[0]){case"token":return`|${e[2]}`;case"scope":return t="start"===e[1]?"+":"-",`${t}${e[2]}${t}`;case"graft":return`>${e[1]}<`}})(e))).join(""),og={items:e=>e[1],tokens:(e,t)=>e[1].filter((e=>"token"===e[0]&&(!t.withChars||t.withChars.includes(e[2]))&&(!t.withSubTypes||t.withSubTypes.includes(e[1])))),text:(e,t)=>{const n=e[1].filter((e=>"token"===e[0])).map((e=>e[2])).join("");return t.normalizeSpace?n.replace(/[ \t\n\r]+/g," "):n},scopeLabels:(e,t)=>e[0].filter((e=>!t.startsWith||((e,t)=>{if(0===e.length)return!0;for(const n of e)if(t.startsWith(n))return!0;return!1})(t.startsWith,e))),dump:e=>(e=>{const t=["ItemGroup:"];return t.push(`   Open Scopes ${e[0].join(", ")}`),t.push(`   ${sg(e[1])}`),t.join("\n")})(e),includedScopes:e=>Array.from(new Set(e[1].filter((e=>"scope"===e[0]&&"start"===e[1])).map((e=>e[2]))))},ig={orig:(e,t,n)=>{const r=n.doc.headers.bookCode,s=n.cvIndex[0],o=e.number,i=n.doc.sequences[n.doc.mainId];if(i.verseMapping&&"forward"in i.verseMapping&&`${s}`in i.verseMapping.forward){const e=va.versification.mapVerse(i.verseMapping.forward[`${s}`],r,s,o);return{book:e[0],cvs:e[1]}}return{book:r,cvs:[[s,o]]}}},ag={chapter:e=>e[0],startBlock:e=>e[1].startBlock,endBlock:e=>e[1].endBlock,startItem:e=>e[1].startItem,endItem:e=>e[1].endItem,nextToken:e=>e[1].nextToken,items:(e,t,n)=>n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e[1],t.includeContext).reduce(((e,t)=>e.concat([["token","lineSpace"," "]].concat(t))),[]),dumpItems:(e,t,n)=>{const r=n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e[1],!1);return r.length>0?sg(r.reduce(((e,t)=>e.concat([["token","lineSpace"," ",null]].concat(t))))):""},tokens:(e,t,n)=>n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e[1],t.includeContext).reduce(((e,t)=>e.concat([["token","lineSpace"," "]].concat(t))),[]).filter((e=>"token"===e[0]&&(!t.withChars||t.withChars.includes(e[2]))&&(!t.withSubTypes||t.withSubTypes.includes(e[1])))),text:(e,t,n)=>{let r=n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e[1]).reduce(((e,t)=>e.concat([["token","lineSpace"," "]].concat(t))),[]).filter((e=>"token"===e[0])).map((e=>"lineSpace"===e[1]?" ":e[2])).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r}},cg={startBlock:e=>e.startBlock,endBlock:e=>e.endBlock,startItem:e=>e.startItem,endItem:e=>e.endItem,nextToken:e=>e.nextToken,verseRange:e=>e.verses,items:(e,t,n)=>n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e,t.includeContext).reduce(((e,t)=>e.concat([["token","lineSpace"," ",null]].concat(t)))),dumpItems:(e,t,n)=>sg(n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e,t.includeContext).reduce(((e,t)=>e.concat([["token","lineSpace"," ",null]].concat(t))))),tokens:(e,t,n)=>n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e,t.includeContext).reduce(((e,t)=>e.concat([["token","lineSpace"," ",null]].concat(t)))).filter((e=>"token"===e[0]&&(!t.withChars||t.withChars.includes(e[2]))&&(!t.withSubTypes||t.withSubTypes.includes(e[1])))),text:(e,t,n)=>{let r=n.docSet.itemsByIndex(n.doc.sequences[n.doc.mainId],e).reduce(((e,t)=>e.concat([["token","lineSpace"," ",null]].concat(t)))).filter((e=>"token"===e[0])).map((e=>"lineSpace"===e[1]?" ":e[2])).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r}},ug=(e,t)=>{const n=parseInt(e[0]),r=parseInt(e[1]);if(e[3].length<=r||0===e[3][r].length)return null;let s=null,o=n,i=r,a=e[3],c=a[r][0].verses,u=!1;for(;!s;)if(i+=1,i>=a.length){if(u||!e[4])break;i=-1,o+=1,a=e[4],u=!0}else a[i].length>0&&(!t||u||a[i][0].verses!==c)&&(s=[o,i]);return s},dg=(e,t)=>{const n=parseInt(e[0]),r=parseInt(e[1]);if(e[3].length<=r||0===e[3][r].length)return null;let s=null,o=n,i=r,a=e[3],c=a[r][0].verses,u=!1;for(;!s;)if(i-=1,i<0){if(u||!e[2])break;i=e[2].length,o-=1,a=e[2],u=!0}else a[i].length>0&&(!t||u||a[i][0].verses!==c)&&(s=[o,i]);return s},lg={nextVerse:e=>ug(e,!1),previousVerse:e=>dg(e,!1),nextVerseRangeVerse:e=>ug(e,!0),previousVerseRangeVerse:e=>dg(e,!0),nextChapter:e=>e[3].length>0&&e[4].length>0?(parseInt(e[0])+1).toString():null,previousChapter:e=>e[2].length>0&&e[3].length>0?(parseInt(e[0])-1).toString():null},pg={id:(e,t,n)=>{const[r,s,o]=va.succinct.headerBytes(e.bs,0);return n.docSet.unsuccinctifyScope(e.bs,s,o,0)[2].split("/")[1]},parentId:(e,t,n)=>{const r=n.docSet.unsuccinctifyScopes(e.is).filter((e=>e[2].startsWith("tTreeParent")))[0][2].split("/")[1];return"none"===r?null:r},keys:(e,t,n)=>n.docSet.unsuccinctifyScopes(e.is).filter((e=>e[2].startsWith("tTreeContent"))).map((e=>e[2].split("/")[1])),itemGroups:(e,t,n)=>n.docSet.sequenceItemsByScopes([e],["tTreeContent/"],t.includeContext||!1),childIds:(e,t,n)=>n.docSet.unsuccinctifyScopes(e.is).filter((e=>e[2].startsWith("tTreeChild"))).map((e=>e[2].split("/")[2]))},fg={nEntries:e=>e.blocks.length,entries:(e,t,n)=>{let r=e.blocks.map((e=>[n.docSet.unsuccinctifyScopes(e.bs).map((e=>e[2].split("/")[1]))[0],n.docSet.unsuccinctifyScopes(e.is).filter((e=>e[2].startsWith("kvSecondary/"))).map((e=>[e[2].split("/")[1],e[2].split("/")[2]])),n.docSet.sequenceItemsByScopes([e],["kvField/"],!1)]));if(t.keyMatches&&(r=r.filter((e=>$.test(e[0],$(t.keyMatches))))),t.keyEquals&&(r=r.filter((e=>t.keyEquals.includes(e[0])))),t.secondaryMatches){const e={};t.secondaryMatches.forEach((t=>e[t.key]=t.matches)),r=r.filter((t=>{const n={};t[1].forEach((e=>n[e[0]]=e[1]));for(const t of Object.entries(e)){const e=n[t[0]];if(!e||!$.test(e,$(t[1])))return!1}return!0}))}if(t.secondaryEquals){const e={};t.secondaryEquals.forEach((t=>e[t.key]=t.values)),r=r.filter((t=>{const n={};t[1].forEach((e=>n[e[0]]=e[1]));for(const t of Object.entries(e)){const e=n[t[0]];if(!e||!t[1].includes(e))return!1}return!0}))}if(t.contentMatches){const e={};t.contentMatches.forEach((t=>e[t.key]=t.matches)),r=r.filter((t=>{const n={};t[2].forEach((e=>n[e[0].filter((e=>e.startsWith("kvField")))[0].split("/")[1]]=e[1].filter((e=>"token"===e[0])).map((e=>e[2])).join("")));for(const t of Object.entries(e)){const e=n[t[0]];if(!e||!$.test(e,$(t[1])))return!1}return!0}))}if(t.contentEquals){const e={};t.contentEquals.forEach((t=>e[t.key]=t.values)),r=r.filter((t=>{const n={};t[2].forEach((e=>n[e[0].filter((e=>e.startsWith("kvField")))[0].split("/")[1]]=e[1].filter((e=>"token"===e[0])).map((e=>e[2])).join("")));for(const t of Object.entries(e)){const e=n[t[0]];if(!e||!e.includes(t[1]))return!1}return!0}))}return r},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName)},hg={nCells:e=>e.blocks.length,nRows:(e,t,n)=>{const r=new Set([]);for(const t of e.blocks){const[e,s,o]=va.succinct.headerBytes(t.bs,0),i=n.docSet.unsuccinctifyScope(t.bs,s,o,0)[2];r.add(i.split("/")[1])}return r.size},nColumns:(e,t,n)=>{const r=new Set([]);for(const t of e.blocks)for(const e of n.docSet.unsuccinctifyScopes(t.is).map((e=>e[2])))e.startsWith("tTableCol")&&r.add(e.split("/")[1]);return r.size},cells:(e,t,n)=>{const r=[];for(const t of e.blocks)r.push([n.docSet.unsuccinctifyScopes(t.bs).map((e=>parseInt(e[2].split("/")[1]))),Array.from(new Set(n.docSet.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTableCol"))).map((e=>parseInt(e[2].split("/")[1]))))),n.docSet.unsuccinctifyItems(t.c,{},0)]);return r},rows:(e,t,n)=>{const r=(e,t)=>0===t.length||!!((e,t)=>{if(void 0===e[t.colN])return!1;const n=e[t.colN][2].filter((e=>"token"===e[0])).map((e=>e[2])).join("");return $.test(n,$(t.matching))})(e,t[0])&&r(e,t.slice(1)),s=(e,t)=>0===t.length||!!((e,t)=>{if(void 0===e[t.colN])return!1;const n=e[t.colN][2].filter((e=>"token"===e[0])).map((e=>e[2])).join("");return t.values.includes(n)})(e,t[0])&&s(e,t.slice(1));let o=[],i=-1;for(const r of e.blocks){const e=n.docSet.unsuccinctifyScopes(r.bs).map((e=>parseInt(e[2].split("/")[1])));t.positions&&!t.positions.includes(e[0])||(e[0]!==i&&(o.push([]),i=e[0]),o[o.length-1].push([e,Array.from(new Set(n.docSet.unsuccinctifyScopes(r.is).filter((e=>e[2].startsWith("tTableCol"))).map((e=>parseInt(e[2].split("/")[1]))))),n.docSet.unsuccinctifyItems(r.c,{},0)]))}return t.matches&&(o=o.filter((e=>r(e,t.matches)))),t.equals&&(o=o.filter((e=>s(e,t.equals)))),t.columns&&(o=o.map((e=>[...e.entries()].filter((e=>t.columns.includes(e[0]))).map((e=>e[1]))))),o},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName),headings:e=>Array.from(e.tags).filter((e=>e.startsWith("col"))).sort(((e,t)=>parseInt(e.split(":")[0].substring(3))-parseInt(t.split(":")[0].substring(3)))).map((e=>e.split(":")[1]))},mg={equals:(e,t,n,r)=>n===r,notEqual:(e,t,n,r)=>n!==r,and:(e,t,...n)=>0===n.filter((e=>!e)).length,or:(e,t,...n)=>n.filter((e=>e)).length>0,not:(e,t,n)=>!n,idRef:(e,t)=>e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1],parentIdRef:(e,t)=>e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeParent")))[0][2].split("/")[1],nChildren:(e,t)=>e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeChild"))).length,contentRef:(e,t,n)=>{const r=e.sequenceItemsByScopes([t],["tTreeContent/"],!1).filter((e=>e[0].filter((e=>e.startsWith("tTreeContent")))[0].split("/")[1]===n));return r[0]?r[0][1].filter((e=>"token"===e[0])).map((e=>e[2])).join(""):""},hasContent:(e,t,n)=>e.sequenceItemsByScopes([t],["tTreeContent/"],!1).filter((e=>e[0].filter((e=>e.startsWith("tTreeContent")))[0].split("/")[1]===n)).length>0,concat:(e,t,...n)=>n.join(""),startsWith:(e,t,n,r)=>n.startsWith(r),endsWith:(e,t,n,r)=>n.endsWith(r),contains:(e,t,n,r)=>n.includes(r),matches:(e,t,n,r)=>$.test(n,$(r)),int:(e,t,n)=>parseInt(n),string:(e,t,n)=>`${n}`,left:(e,t,n,r)=>n.substring(0,r),right:(e,t,n,r)=>n.substring(n.length-r),length:(e,t,n)=>n.length,indexOf:(e,t,n,r)=>n.indexOf(r),add:(e,t,...n)=>n.reduce(((e,t)=>e+t)),mul:(e,t,...n)=>n.reduce(((e,t)=>e*t)),sub:(e,t,n,r)=>n-r,div:(e,t,n,r)=>Math.floor(n/r),mod:(e,t,n,r)=>n%r,gt:(e,t,n,r)=>n>r,lt:(e,t,n,r)=>n<r,ge:(e,t,n,r)=>n>=r,le:(e,t,n,r)=>n<=r},Sg={quotedString:e=>e.substring(1,e.length-1),int:e=>parseInt(e),true:()=>!0,false:()=>!1},yg={expression:{oneOf:["stringExpression","intExpression","booleanExpression"]},booleanExpression:{oneOf:["booleanPrimitive","equals","notEqual","and","or","not","contains","startsWith","endsWith","matches","gt","lt","ge","le","hasContent"]},stringExpression:{oneOf:["concat","left","right","string","idRef","parentIdRef","contentRef","stringPrimitive"]},intExpression:{oneOf:["length","indexOf","int","nChildren","intPrimitive","add","sub","mul","div","mod"]},equals:{regex:$("^==\\((.+)\\)$"),doc:{operator:"==",args:["expression","expression"],result:"boolean",description:"Are the arguments strictly equal?"},argStructure:[["expression",[2,2]]]},notEqual:{regex:$("^!=\\((.+)\\)$"),doc:{operator:"!=",args:["expression","expression"],result:"boolean",description:"Are the arguments not strictly equal?"},argStructure:[["expression",[2,2]]]},and:{regex:$("^and\\((.+)\\)$"),doc:{operator:"and",args:["boolean","boolean","..."],result:"boolean",description:"Are all the arguments true?"},breakOn:!1,argStructure:[["booleanExpression",[2,null]]]},or:{regex:$("^or\\((.+)\\)$"),doc:{operator:"or",args:["boolean","boolean"],result:"boolean",description:"Are any arguments true?"},breakOn:!0,argStructure:[["booleanExpression",[2,null]]]},concat:{regex:$("^concat\\((.+)\\)$"),doc:{operator:"concat",args:["string","string","..."],result:"string",description:"Concatenates string arguments"},argStructure:[["stringExpression",[2,null]]]},contentRef:{regex:$("^content\\((.+)\\)$"),doc:{operator:"content",args:["string"],result:"string",description:"String value of the specified content for the node"},argStructure:[["stringExpression",[1,1]]]},hasContent:{regex:$("^hasContent\\((.+)\\)$"),doc:{operator:"hasContent",args:["string"],result:"boolean",description:"Does the node have this content?"},argStructure:[["stringExpression",[1,1]]]},contains:{regex:$("^contains\\((.+)\\)$"),doc:{operator:"contains",args:["string","string"],result:"boolean",description:"Does the first string contain the second string?"},argStructure:[["stringExpression",[2,2]]]},startsWith:{regex:$("^startsWith\\((.+)\\)$"),doc:{operator:"startsWith",args:["string","string"],result:"boolean",description:"Does the first string start with the second string?"},argStructure:[["stringExpression",[2,2]]]},endsWith:{regex:$("^endsWith\\((.+)\\)$"),doc:{operator:"endsWith",args:["string","string"],result:"boolean",description:"Does the first string end with the second string?"},argStructure:[["stringExpression",[2,2]]]},matches:{regex:$("^matches\\((.+)\\)$"),doc:{operator:"matches",args:["string","regex"],result:"boolean",description:"Does the first string match the regex in the second string?"},argStructure:[["stringExpression",[2,2]]]},left:{regex:$("^left\\((.+)\\)$"),doc:{operator:"left",args:["string","integer"],result:"string",description:"The first n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},right:{regex:$("^right\\((.+)\\)$"),doc:{operator:"right",args:["string","integer"],result:"string",description:"The last n characters of the string"},argStructure:[["stringExpression",[1,1]],["intExpression",[1,1]]]},length:{regex:$("^length\\((.+)\\)$"),doc:{operator:"length",args:["string"],result:"integer",description:"The number of characters in the string"},argStructure:[["stringExpression",[1,1]]]},indexOf:{regex:$("^indexOf\\((.+)\\)$"),doc:{operator:"indexOf",args:["string","string"],result:"number",description:"The integer position at which the second string starts in the first string"},argStructure:[["stringExpression",[2,2]]]},not:{regex:$("^not\\((.+)\\)$"),doc:{operator:"not",args:["boolean"],result:"boolean",description:"The inverse boolean value of the argument"},argStructure:[["booleanExpression",[1,1]]]},int:{regex:$("^int\\((.+)\\)$"),doc:{operator:"int",args:["string"],result:"integer",description:"The integer value of the string"},argStructure:[["stringExpression",[1,1]]]},string:{regex:$("^string\\((.+)\\)$"),doc:{operator:"string",args:["integer"],result:"string",description:"The string value of the integer"},argStructure:[["intExpression",[1,1]]]},idRef:{regex:$("^id$"),doc:{operator:"id",args:[],result:"string",description:"The node ID"},argStructure:[]},parentIdRef:{regex:$("^parentId$"),doc:{operator:"parentId",args:[],result:"string",description:"The node's parent ID"},argStructure:[]},nChildren:{regex:$("^nChildren$"),doc:{operator:"nChildren",args:[],result:"int",description:"The number of children of the node"},argStructure:[]},add:{regex:$("^add\\((.+)\\)$"),doc:{operator:"add",args:["integer","..."],result:"integer",description:"The numeric sum of the arguments"},argStructure:[["intExpression",[2,null]]]},mul:{regex:$("^mul\\((.+)\\)$"),doc:{operator:"mul",args:["integer","..."],result:"integer",description:"The numeric product of the arguments"},argStructure:[["intExpression",[2,null]]]},sub:{regex:$("^sub\\((.+)\\)$"),doc:{operator:"sub",args:["integer","integer"],result:"integer",description:"The first integer minus the second"},argStructure:[["intExpression",[2,2]]]},div:{regex:$("^div\\((.+)\\)$"),doc:{operator:"div",args:["integer","integer"],result:"integer",description:"The first integer divided by the second"},argStructure:[["intExpression",[2,2]]]},mod:{regex:$("^mod\\((.+)\\)$"),doc:{operator:"mod",args:["integer","integer"],result:"integer",description:"The modulus of the first integer when divided by the second"},argStructure:[["intExpression",[2,2]]]},gt:{regex:$("^>\\((.+)\\)$"),doc:{operator:">",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than the second?"},argStructure:[["intExpression",[2,2]]]},lt:{regex:$("^<\\((.+)\\)$"),doc:{operator:"<",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than the second?"},argStructure:[["intExpression",[2,2]]]},ge:{regex:$("^>=\\((.+)\\)$"),doc:{operator:">=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically greater than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},le:{regex:$("^<=\\((.+)\\)$"),doc:{operator:"<=",args:["integer","integer"],result:"boolean",description:"Is the first integer numerically less than or equal to the second?"},argStructure:[["intExpression",[2,2]]]},stringPrimitive:{regex:$("^('([^']|\\\\')*')$"),parseFunctions:[null,"quotedString"]},intPrimitive:{regex:$("^(-?[0-9]+)$"),parseFunctions:[null,"int"]},booleanPrimitive:{regex:$("^(true)|(false)$"),parseFunctions:[null,"true","false"]}},gg=(e,t,n,r)=>{const s=yg[r];if(!s)throw new Error(`Unknown expression ${r} for predicate ${n}`);if(s.oneOf){let r=null;for(const o of s.oneOf){const s=gg(e,t,n,o);if(!s.errors)return s;(!r||s.errors.length<r.length)&&(r=s.errors)}return{errors:r}}{const o=$.exec(n,s.regex);if(o){const s=((e,t,n,r,s)=>{const o=yg[r];if(!o)throw new Error(`Unknown expression ${r} for predicate ${n}`);if(!o.parseFunctions){const n=(e=>{const t=[[]];let n=0,r=0,s=!1;for(;e&&n<e.length;){switch(e[n]){case"\\":t[t.length-1].push(e[n]),"'"===e[n+1]&&(t[t.length-1].push(e[n+1]),n++);break;case"'":t[t.length-1].push(e[n]),s=!s;break;case"(":s?t[t.length-1].push(e[n]):(t[t.length-1].push(e[n]),r++);break;case")":s?t[t.length-1].push(e[n]):(t[t.length-1].push(e[n]),r--);break;case",":if(s||0!==r)t[t.length-1].push(e[n]);else for(t.push([]);" "===e[n+1];)n++;break;default:t[t.length-1].push(e[n])}n++}return t.map((e=>e.join("")))})(s[1]),a=o.argStructure,c=[];if(a.length>0){const s=[(i=a).map((e=>e[1][0])).reduce(((e,t)=>e+t)),i.filter((e=>null===e[1][1])).length>0];if(n.length<s[0])return{errors:`Expected at least ${s[0]} args for '${r}', found ${n.length}`};if(!s[1]&&n.length>s[0])return{errors:`Expected at most ${s[0]} args for '${r}', found ${n.length}`};let u=0,d=0,l=0;for(;u<n.length;){const r=n[u],s=gg(e,t,r,a[d][0]);if("breakOn"in o&&!r.errors&&s.data===o.breakOn)return s;c.push(s),u++,l++,a[d][1][1]&&l>=a[d][1][1]&&(d++,l=0)}}if(0===c.filter((e=>e.errors)).length){const n=c.map((e=>e.data));return{data:mg[r](e,t,...n)}}return{errors:`Could not parse arguments to ${r}: ${n.filter((e=>e.errors)).map((e=>e.errors)).join("; ")}`}}{let e=!1;for(const[t,n]of o.parseFunctions.entries())if(n&&s[t])return e=!0,{data:Sg[n](s[t])};if(!e)return{errors:`Could not parse predicate ${n}`}}var i})(e,t,n,r,o);return s}return{errors:`Could not match ${n}`}}},bg=(e,t,n)=>({data:t.data.filter((t=>{const r=gg(e,t,n,"booleanExpression");if(r.errors)throw new Error(`Predicate - ${r.errors}`);return r.data}))}),vg="(\\[(([^\\]']|'([^']|\\\\')*')+)\\])*",Eg=(e,t,n,r,s,o)=>{const i={};(0===s.size||s.has("id"))&&(i.id=e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1]),(0===s.size||s.has("parentId"))&&(i.parentId=e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeParent"))).map((e=>e[2].split("/")[1]))[0]);const a={};for(const[n,r]of e.sequenceItemsByScopes([t],["tTreeContent/"],!1)){const e=n.filter((e=>e.startsWith("tTreeContent")))[0].split("/")[1];(0===s.size||s.has("content")||s.has(`@${e}`))&&(a[e]=r.filter((e=>"token"===e[0])).map((e=>e[2])).join(""))}Object.keys(a).length>0&&(i.content=a);const c=[];if(s.has("children"))for(const n of e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeChild"))).map((e=>e[2].split("/")[2])))c.push(n);return c.length>0&&(i.children=o?c.map((e=>n[r.get(e)])).map((t=>Eg(e,t,n,r,s,!0))):c),i},Ag=[{regex:$(`^#\\{([^}]+)\\}${vg}$`),doc:{title:"Nodes by Id",syntax:"#(id, id, ...)",description:"Returns nodes whose id is listed"},predicateCapture:3,inputType:null,outputType:"nodes",function:(e,t,n,r,s,o)=>{const i=o[1].split(",").map((e=>e.trim()));return{data:Array.from(i).map((e=>t[n.get(e)]))}}},{regex:$(`^root${vg}$`),doc:{title:"Root Node",syntax:"root",description:"Returns the root node"},predicateCapture:2,inputType:null,outputType:"nodes",function:(e,t)=>({data:[t[0]]})},{regex:$(`^nodes${vg}$`),doc:{title:"Nodes",syntax:"nodes",description:"Returns all the nodes"},predicateCapture:2,function:(e,t)=>({data:t}),inputType:null,outputType:"nodes"},{regex:$(`^children(\\((\\d+)\\))?${vg}$`),doc:{title:"Children",syntax:"children; children(pos)",description:"Returns the children of the current node(s), optionally filtered by position within the parent node"},predicateCapture:4,inputType:"nodes",outputType:"nodes",function:(e,t,n,r,s,o)=>{const i=o[2],a=new Set([]);for(const t of r.data){const n=e.unsuccinctifyScopes(t.is).map((e=>e[2].split("/"))).filter((e=>"tTreeChild"===e[0])).filter((e=>!i||e[1]===i)).map((e=>e[2]));for(const e of n)a.add(e)}return{data:Array.from(a).map((e=>t[n.get(e)]))}}},{regex:$(`^descendants((\\((\\d+)(,\\s*(\\d+))?\\))?)${vg}$`),doc:{title:"Descendants",syntax:"descendants; descendants(depth); descendants(depth, pos)",description:"Returns the descendants of the current node(s), optionally at the specified level, optionally filtered by position"},predicateCapture:7,inputType:"nodes",outputType:"nodes",function:(e,t,n,r,s,o)=>{const i=new Set([]),a=(r,s)=>{const o=e.unsuccinctifyScopes(r.is).filter((e=>e[2].startsWith("tTreeChild"))).map((e=>e[2].split("/")[2]));(s<=1||null===s)&&o.forEach((e=>i.add(e))),(null===s||s>1)&&o.map((e=>t[n.get(e)])).forEach((e=>a(e,s-1)))};let c=null;o[3]&&(c=parseInt(o[3]));let u=-1;o[5]&&(u=parseInt(o[5]));for(const e of r.data)a(e,c);return{data:[...Array.from(i).entries()].filter((e=>u<0||e[0]===u)).map((e=>e[1])).map((e=>t[n.get(e)]))}}},{regex:$(`^leaves${vg}$`),doc:{title:"Leaves",syntax:"leaves",description:"Returns the leaves (ie the nodes with no children) below the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:(e,t,n,r)=>{const s=new Set([]),o=r=>{const i=e.unsuccinctifyScopes(r.is).filter((e=>e[2].startsWith("tTreeChild"))).map((e=>e[2].split("/")[2]));0===i.length?s.add(e.unsuccinctifyScopes(r.bs)[0][2].split("/")[1]):i.map((e=>t[n.get(e)])).forEach((e=>o(e)))};for(const e of r.data)o(e);return{data:Array.from(s).map((e=>t[n.get(e)]))}}},{regex:$(`^parent${vg}$`),doc:{title:"Parent",syntax:"parent",description:"Returns the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:(e,t,n,r)=>{const s=new Set([]);for(const t of r.data){const n=e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeParent"))).map((e=>e[2].split("/")[1]))[0];s.add(n)}return{data:Array.from(s).map((e=>t[n.get(e)]))}}},{regex:$(`^ancestor(\\((\\d+)\\))${vg}$`),doc:{title:"Ancestor",syntax:"ancestor(depth)",description:"Returns the nth ancestor of the node"},predicateCapture:5,inputType:"nodes",outputType:"nodes",function:(e,t,n,r,s,o)=>{let i=parseInt(o[2]);if(i<1)return{errors:`Expected a positive integer argument for ancestor, found ${s}`};let a=r.data;for(;i>0;){const r=new Set([]);for(const t of a){const n=e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeParent"))).map((e=>e[2].split("/")[1]))[0];r.add(n)}a=Array.from(r).map((e=>t[n.get(e)])),i--}return{data:a}}},{regex:$(`^siblings${vg}$`),doc:{title:"Siblings",syntax:"siblings",description:"Returns the children of the parent of the current node"},predicateCapture:2,inputType:"nodes",outputType:"nodes",function:(e,t,n,r)=>{const s=new Set([]);for(const t of r.data){const n=e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeParent"))).map((e=>e[2].split("/")[1]))[0];s.add(n)}const o=t.filter((t=>s.has(e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1]))),i=new Set([]);for(const t of o){const n=e.unsuccinctifyScopes(t.is).filter((e=>e[2].startsWith("tTreeChild"))).map((e=>e[2].split("/")[2]));for(const e of n)i.add(e)}return{data:Array.from(i).map((e=>t[n.get(e)]))}}},{regex:$(`^node(\\{([^}]+)\\})?${vg}$`),doc:{title:"Node Details",syntax:"node; node{ id, parentId, content, children, @foo }",description:"Returns an object containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:(e,t,n,r,s,o)=>{const i=[];let a=new Set([]);o[2]&&(a=new Set(o[2].split(",").map((e=>e.trim()))));for(const s of r.data)i.push(Eg(e,s,t,n,a,!1));return{data:i}}},{regex:$(`^branch(\\{([^}]+)\\})?${vg}$`),doc:{title:"Branch",syntax:"branch; branch{ id, parentId, content, children, @foo }",description:"Returns nested objects containing the specified content"},predicateCapture:4,inputType:"nodes",outputType:"node",function:(e,t,n,r,s,o)=>{const i=[];let a=new Set([]);o[2]&&(a=new Set(o[2].split(",").map((e=>e.trim()))));for(const s of r.data)i.push(Eg(e,s,t,n,a,!0));return{data:i}}},{regex:$(`^values(\\{([^}]+)\\})?${vg}$`),doc:{title:"Values",syntax:"values{ @foo ... }",description:"Returns all values across nodes for the specified fields"},predicateCapture:4,inputType:"nodes",outputType:"values",function:(e,t,n,r,s,o)=>{const i=[];let a=new Set([]);o[2]&&(a=new Set(o[2].split(",").map((e=>e.trim())).filter((e=>e.startsWith("@")))));for(const s of r.data)i.push(Eg(e,s,t,n,a,!0));const c={};for(const e of Array.from(a).map((e=>e.substring(1))))c[e]=Array.from(new Set(i.filter((e=>e.content)).map((e=>e.content)).filter((t=>e in t)).map((t=>t[e])).sort()));return{data:c}}}];class Tg{constructor(){this.currentStepType=null}doStep(e,t,n,r,s){for(const o of Ag){const i=$.exec(s,o.regex);if(i&&o.inputType===this.currentStepType){let a=o.function(e,t,n,r,s,i);return i[o.predicateCapture]&&(a=bg(e,a,i[o.predicateCapture])),this.currentStepType=o.outputType,a}}return{errors:`Unable to match step ${s}`}}parse1(e,t,n,r,s){if(s.length>0){const o=this.doStep(e,t,n,r,s[0]);return o.errors||0===o.data.length?o:this.parse1(e,t,n,o,s.slice(1))}return r}queryArray(e){const t=[];for(const n of e.split("/"))t.push(n);return t}indexNodes(e,t){const n=new Map;for(const[r,s]of t.entries()){const t=e.unsuccinctifyScopes(s.bs)[0][2].split("/")[1];n.set(t,r)}return n}doc(){return"** Steps **\n\n"+Ag.map((e=>e.doc)).map((e=>`* ${e.title} *\n${e.syntax}\n${e.description}`)).join("\n\n")+"** Predicate Operators **\n\n"+Object.values(yg).filter((e=>e.doc)).map((e=>`${e.doc.operator}(${e.doc.args.map((e=>"<"+e+">")).join(", ")}) => ${e.doc.result}\n${e.doc.description}`)).join("\n\n")}parse(e,t,n){const r=this.parse1(e,t,this.indexNodes(e,t),{data:t},this.queryArray(n));return r.data&&"nodes"===this.currentStepType&&(r.data=r.data.map((t=>({id:e.unsuccinctifyScopes(t.bs)[0][2].split("/")[1]})))),JSON.stringify(r,null,2)}}const wg={nNodes:e=>e.blocks.length,nodes:e=>e.blocks,tribos:(e,t,n)=>(new Tg).parse(n.docSet,e.blocks,t.query),triboi:(e,t,n)=>t.queries.map((t=>(new Tg).parse(n.docSet,e.blocks,t))),tribosDoc:()=>(new Tg).doc(),tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName)},kg={cBL:e=>e.c.length,bgBL:e=>e.bg.length,osBL:e=>e.os.length,isBL:e=>e.is.length,ntBL:e=>e.nt.length,cL:(e,t,n)=>n.docSet.countItems(e.c),bgL:(e,t,n)=>n.docSet.countItems(e.bg),osL:(e,t,n)=>n.docSet.countItems(e.os),isL:(e,t,n)=>n.docSet.countItems(e.is),is:(e,t,n)=>n.docSet.unsuccinctifyScopes(e.is),os:(e,t,n)=>n.docSet.unsuccinctifyScopes(e.os),bs:(e,t,n)=>{const[r,s,o]=va.succinct.headerBytes(e.bs,0);return n.docSet.unsuccinctifyScope(e.bs,s,o,0)},bg:(e,t,n)=>n.docSet.unsuccinctifyGrafts(e.bg),nt:e=>e.nt.nByte(0),items:(e,t,n)=>{if(t.withScopes&&t.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");return t.withScriptureCV?n.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{},t.includeContext||!1):n.docSet.unsuccinctifyPrunedItems(e,{tokens:!0,scopes:!0,grafts:!0,excludeScopeTypes:t.excludeScopeTypes||[],requiredScopes:t.withScopes||[],anyScope:t.anyScope||!1})},tokens:(e,t,n)=>{if(Object.keys(t).filter((e=>e.includes("Chars"))).length>1)throw new Error('Only one of "withChars", "withAnyCaseChars" and "withCharsMatchingRegex" may be specified');let r;return r=t.withScriptureCV?n.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{tokens:!0},t.includeContext||!1):n.docSet.unsuccinctifyPrunedItems(e,{tokens:!0,scopes:!0,requiredScopes:t.withScopes||[],anyScope:t.anyScope||!1}),t.withSubTypes&&(r=r.filter((e=>t.withSubTypes.includes(e[1])))),t.withChars?r=r.filter((e=>t.withChars.includes(e[2]))):t.withMatchingChars&&(r=r.filter((e=>{for(const n of t.withMatchingChars)if($.test(e,$(n)))return!0;return!1}))),r.filter((e=>"token"===e[0]))},text:(e,t,n)=>{let r=(t.withScriptureCV?n.docSet.unsuccinctifyItemsWithScriptureCV(e,t.withScriptureCV,{tokens:!0},!1):n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null)).map((e=>e[2])).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r},itemGroups:(e,t,n)=>{if(t.byScopes&&t.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!t.byScopes&&!t.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return t.byScopes?n.docSet.sequenceItemsByScopes([e],t.byScopes):n.docSet.sequenceItemsByMilestones([e],t.byMilestones)},dump:(e,t,n)=>(e=>{const t=["Block:"];return e.bg.length>0&&e.bg.forEach((e=>t.push(`   ${e[1]} graft to ${e[2]}`))),t.push(`   Scope ${e.bs[2]}`),t.push(`   ${sg(e.c)}`),t.join("\n")})(n.docSet.unsuccinctifyBlock(e,{},null)),scopeLabels:(e,t,n)=>[...n.docSet.unsuccinctifyBlockScopeLabelsSet(e)].filter((e=>!t.startsWith||((e,t)=>{if(0===e.length)return!0;for(const n of e)if(t.startsWith(n))return!0;return!1})(t.startsWith,e)))},Ig=(e,t,n)=>{let r=[t.map((t=>[va.enums.enumStringIndex(e.enums.wordLike,t)]))];return r=n?r[0]:r.map((e=>e.reduce(((e,t)=>e.concat(t))))),r},Pg=(e,t,n)=>{let r=[t.map((t=>va.enums.enumRegexIndexTuples(e.enums.wordLike,t).map((e=>e[0]))))];return r=n?r[0]:r.map((e=>e.reduce(((e,t)=>e.concat(t))))),r},Ng=(e,t,n)=>{if(n&&t.filter((e=>0===e.length)).length>0)return!1;if(t=t.filter((e=>e.length>0)),0===t.length)return!1;for(const r of t){let t=!1;for(const n of r)if(n>=0&&e.tokensPresent.get(n)>0){t=!0;break}if(n&&!t)return!1;if(!n&&t)return!0}return n},Og=(e,t,n,r)=>{let s=Ig(e,n,r);return Ng(t,s,r)},_g=(e,t,n,r)=>{let s=Pg(e,n,r);return Ng(t,s,r)},xg={tokens:!1,scopes:!0,grafts:!1,requiredScopes:[]},Cg={nBlocks:e=>e.blocks.length,blocks:(e,t,n)=>{if(n.docSet.maybeBuildEnumIndexes(),t.withScopes&&t.withScriptureCV)throw new Error("Cannot specify both withScopes and withScriptureCV");if(t.attSpecs&&!t.attValues)throw new Error("Cannot specify attSpecs without attValues");if(!t.attSpecs&&t.attValues)throw new Error("Cannot specify attValues without attSpecs");if(t.attSpecs&&t.attValues&&t.attSpecs.length!==t.attValues.length)throw new Error("attSpecs and attValues must be same length");if(t.withChars&&t.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");let r=e.blocks;if(t.positions&&(r=Array.from(r.entries()).filter((e=>t.positions.includes(e[0]))).map((e=>e[1]))),t.withScopes&&(r=r.filter((e=>n.docSet.allScopesInBlock(e,t.withScopes)))),t.withScriptureCV&&(r=n.docSet.blocksWithScriptureCV(r,t.withScriptureCV)),t.attSpecs&&(r=r.filter((e=>((e,t,n,r,s)=>{let o=new Set([]);for(const i of e.unsuccinctifyPrunedItems(t,xg,!1)){const[e,t,a,c,u,d]=i[2].split("/");for(const[e,i]of n.entries()){for(const n of i)if(t===n.attType&&a===n.tagName&&c===n.attKey&&parseInt(u)===n.valueN&&r[e].includes(d)){if(!s)return!0;o.add(e);break}if(o.size===n.length)return!0}}return!1})(n.docSet,e,t.attSpecs,t.attValues,t.allAtts||!1)))),t.withBlockScope&&(r=r.filter((e=>n.docSet.blockHasBlockScope(e,t.withBlockScope)))),t.withChars){if("main"===e.type&&!Og(n.docSet,e,t.withChars,t.allChars))return[];let s=Ig(n.docSet,t.withChars,t.allChars);for(const e of s)r=r.filter((t=>n.docSet.blockHasChars(t,e)))}if(t.withMatchingChars){if("main"===e.type&&!_g(n.docSet,e,t.withMatchingChars,t.allChars))return[];let s=Pg(n.docSet,t.withMatchingChars,t.allChars);for(const e of s)r=r.filter((t=>n.docSet.blockHasChars(t,e)))}return r},blocksItems:(e,t,n)=>e.blocks.map((e=>n.docSet.unsuccinctifyItems(e.c,{},null))),blocksTokens:(e,t,n)=>e.blocks.map((e=>n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null))),blocksText:(e,t,n)=>e.blocks.map((e=>{let r=n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null).map((e=>e[2])).join("");return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r})),text:(e,t,n)=>{let r=e.blocks.map((e=>n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null).map((e=>e[2])).join(""))).join("\n");return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r},itemGroups:(e,t,n)=>{if(t.byScopes&&t.byMilestones)throw new Error("Cannot specify both byScopes and byMilestones");if(!t.byScopes&&!t.byMilestones)throw new Error("Must specify either byScopes or byMilestones");return t.byScopes?n.docSet.sequenceItemsByScopes(e.blocks,t.byScopes):n.docSet.sequenceItemsByMilestones(e.blocks,t.byMilestones)},tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName),wordLikes:(e,t,n)=>{if("main"!==e.type)throw new Error(`Only available for the main sequence, not ${e.type}`);if(t.coerceCase&&!["toLower","toUpper","none"].includes(t.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${t.coerceCase}'`);n.docSet.maybeBuildEnumIndexes();let r=new Set,s=0;for(const o of e.tokensPresent){if(o){const e=n.docSet.enumIndexes.wordLike[s];let o=n.docSet.enums.wordLike.countedString(e);"toLower"===t.coerceCase&&(o=o.toLowerCase()),"toUpper"===t.coerceCase&&(o=o.toUpperCase()),r.add(o)}s++}return Array.from(r).sort()},hasChars:(e,t,n)=>{if("main"!==e.type)throw new Error(`Only available for the main sequence, not ${e.type}`);return Og(n.docSet,e,t.chars,t.allChars||!1)},hasMatchingChars:(e,t,n)=>{if("main"!==e.type)throw new Error(`Only available for the main sequence, not ${e.type}`);return _g(n.docSet,e,t.chars,t.allChars)}},$g=(e,t)=>{let n=e;for(const e of t)"scope"===e[0]&&("start"===e[1]?0===n.filter((t=>t===e[2])).length&&n.push(e[2]):n=n.filter((t=>t!==e[2])));return n},Dg=(e,t)=>0!==t.length&&(!(!e.includes(`chapter/${t[0][0]}`)||t[0][1]&&!(e.filter((e=>e.startsWith("verse/")&&parseInt(e.split("/")[1])>=t[0][1])).length>0)||t[0][2]&&!(e.filter((e=>e.startsWith("verse/")&&parseInt(e.split("/")[1])<=t[0][2])).length>0))||Dg(e,t.slice(1))),Rg=(e,t,n,r,s,o)=>{const[i,a]=r.split(":").map((e=>parseInt(e))),[c,u]=s.split(":").map((e=>parseInt(e)));if(c<i)throw new Error(`cv chapterVerses requires fromChapter <= toChapter, not ${i} to ${c}`);const d=[];let l=i;for(;l<=c;)d.push([l,l===i?a:null,l===c?u:null]),l++;return t.docSet.sequenceItemsByScopes(n.blocks,["chapter/","verse/"],o).filter((e=>Dg(e[0],d)))},Bg=(e,t,n,r,s)=>{n.docSet=e.processor.docSets[e.docSetId];const o=e.sequences[e.mainId];if(!t.chapter&&!t.chapterVerses)throw new Error("Must specify either chapter or chapterVerses for cv");if(t.chapter&&t.chapterVerses)throw new Error("Must not specify both chapter and chapterVerses for cv");if(t.chapterVerses&&t.verses)throw new Error("Must not specify both chapterVerses and verses for cv");return t.chapter?((e,t,n,r,s,o)=>{if(t.chapter&&!t.verses)return((e,t,n,r,s)=>{const o=e.chapterIndex(r);if(o){const e=n.blocks[o.startBlock];return[[$g(t.docSet.unsuccinctifyScopes(e.os).map((e=>e[2])),t.docSet.unsuccinctifyItems(e.c,{},0,[]).slice(0,o.startItem+1).filter((e=>"scope"===e[0]))),t.docSet.itemsByIndex(n,o,s||!1).reduce(((e,t)=>e.concat([["token","lineSpace"," "]].concat(t))))]]}return[]})(e,n,r,t.chapter,t.includeContext);if(t.verses)return((e,t,n,r,s,o,i,a)=>{let c=t.docSet,u=e.headers.bookCode,d=s.map((e=>[parseInt(r),parseInt(e)]));if(i){const t=e.processor.docSets[a];if(t&&(c=t),"forward"in n.verseMapping&&r in n.verseMapping.forward){let t=[];for(const o of s)t.push(va.versification.mapVerse(n.verseMapping.forward[r],e.headers.bookCode,r,o));const o=t[0];u=o[0],d=o[1]}const o=c.documentWithBook(u);if(o){const e=o.sequences[o.mainId];if(e.verseMapping&&"reversed"in e.verseMapping){const t=[];for(const[n,r]of d)`${n}`in e.verseMapping.reversed?t.push(va.versification.mapVerse(e.verseMapping.reversed[`${n}`],u,n,r)):t.push([u,[[n,r]]]),u=t[0][0],d=t.map((e=>e[1])).reduce(((e,t)=>e.concat(t)))}}}const l={},p=c.documentWithBook(u);if(!p)return[];const f=p.sequences[p.mainId];for(const e of d.map((e=>e[0])))e in l||(l[e]=p.chapterVerseIndex(e));const h=[];for(const[e,t]of d)if(l[e]){let n,r,s=[];if(l[e][t]){for(const i of l[e][t])n||(n=i.startBlock,r=i.startItem),s=s.concat(c.itemsByIndex(f,i,o||null).reduce(((e,t)=>e.concat([["token","lineSpace"," "]].concat(t)))));const i=f.blocks[n];h.push([$g(c.unsuccinctifyScopes(i.os).map((e=>e[2])),c.unsuccinctifyItems(i.c,{},0,[]).slice(0,r+1).filter((e=>"scope"===e[0]))),s])}}return h})(e,n,r,t.chapter,t.verses,t.includeContext,s,o);throw new Error("Unexpected args to do_cv_separate_args")})(e,t,n,o,r,s):((e,t,n,r)=>{if($.test(t.chapterVerses,$("^[0-9]+:[0-9]+-[0-9]+:[0-9]+$"))){const[e,s]=t.chapterVerses.split("-");return Rg(0,n,r,e,s,t.includeContext)}if($.test(t.chapterVerses,$("^[0-9]+:[0-9]+-[0-9]+$"))){const[e,s]=t.chapterVerses.split(":"),[o,i]=s.split("-");return Rg(0,n,r,`${e}:${o}`,`${e}:${i}`,t.includeContext)}if($.test(t.chapterVerses,$("^[0-9]+:[0-9]+$"))){const[e,s]=t.chapterVerses.split(":");return Rg(0,n,r,`${e}:${s}`,`${e}:${s}`,t.includeContext)}if($.test(t.chapterVerses,$("^[0-9]+$"))){const s=t.chapterVerses,o=e.chapterVerseIndex(s);if(!o)throw new Error(`No chapter ${s} found`);const i=o.map(((e,t)=>[t,e])).filter((e=>e[1].length>0)).map((e=>e[0]));return Rg(0,n,r,`${s}:${Math.min(i)}`,`${s}:${Math.max(i)}`,t.includeContext)}throw new Error(`Could not parse chapterVerses string '${t.chapterVerses}'`)})(e,t,n,o)},qg=(e,t)=>t in e.headers?e.headers[t]:null,jg={idParts:e=>{const t=qg(e,"id");if(!t)return[null,null];const n=$.exec(t,/^(P\d\d)\s+([A-Z0-6]{3})\s+(\S+)\s+-\s+(.*)/);if(n)return["periph",n.slice(1)];const r=$.exec(t,/^([A-Z0-6]{3})\s+(.*)/);return r?["book",r.slice(1)]:[null,[t]]},headers:e=>Object.entries(e.headers),header:(e,t)=>qg(e,t.id),mainSequence:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId]),nSequences:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],Object.keys(e.sequences).length),sequences:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.types&&(r=r.filter((e=>t.types.includes(e.type)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),r},tableSequences:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return r=r.filter((e=>"table"===e.type)),t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),r},treeSequences:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return r=r.filter((e=>"tree"===e.type)),t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),r},kvSequences:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return r=r.filter((e=>"kv"===e.type)),t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),r},textSequences:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return r=r.filter((e=>"tree"!==e.type&&"table"!==e.type&&"kv"!==e.type)),t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),r},sequence:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);return r=r.filter((e=>t.id.includes(e.id))),r[0]||null},tableSequence:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);if(r=r.filter((e=>t.id.includes(e.id))),r[0]&&"table"!==r[0].type)throw new Error(`Expected sequence id ${r[0].id} to be of type 'table', not '${r[0].type}'`);return r[0]||null},treeSequence:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);if(r=r.filter((e=>t.id.includes(e.id))),r[0]&&"tree"!==r[0].type)throw new Error(`Expected sequence id ${r[0].id} to be of type 'tree', not '${r[0].type}'`);return r[0]||null},kvSequence:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId];let r=Object.values(e.sequences);if(r=r.filter((e=>t.id.includes(e.id))),r[0]&&"vk"!==r[0].type)throw new Error(`Expected sequence id ${r[0].id} to be of type 'kv', not '${r[0].type}'`);return r[0]||null},mainBlocks:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks),mainBlocksItems:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map((e=>n.docSet.unsuccinctifyItems(e.c,{},null)))),mainBlocksTokens:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map((e=>n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null)))),mainBlocksText:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map((e=>{let r=n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null).map((e=>e[2])).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r}))),mainText:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],e.sequences[e.mainId].blocks.map((e=>{let r=n.docSet.unsuccinctifyItems(e.c,{tokens:!0},null).map((e=>e[2])).join("").trim();return t.normalizeSpace&&(r=r.replace(/[ \t\n\r]+/g," ")),r})).join("\n")),tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName),cv:(e,t,n)=>Bg(e,t,n,!1),mappedCv:(e,t,n)=>{if(1!==t.verses.length)throw new Error(`mappedCv expects exactly one verse, not ${t.verses.length}`);return Bg(e,t,n,!0,t.mappedDocSetId)},mappedCvs:(e,t,n)=>{const r=e.chapterVerseIndex(t.chapter).filter((e=>e.length>0)).map((e=>e[0].verses));let s=[];for(const o of r)s.push(Bg(e,{...t,verses:[o]},n,!0,t.mappedDocSetId).map((e=>[[`fromChapter/${t.chapter}`,`fromVerse/${o}`,...e[0]],e[1]])));return s},cvNavigation:(e,t)=>[t.chapter,t.verse,e.chapterVerseIndex((parseInt(t.chapter)-1).toString()),e.chapterVerseIndex(t.chapter),e.chapterVerseIndex((parseInt(t.chapter)+1).toString())],cvIndexes:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],n.doc=e,Object.entries(e.chapterVerseIndexes())),cvIndex:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],n.doc=e,[t.chapter,e.chapterVerseIndex(t.chapter)||[]]),cIndexes:(e,t,n)=>(n.docSet=e.processor.docSets[e.docSetId],n.doc=e,Object.entries(e.chapterIndexes())),cIndex:(e,t,n)=>{n.docSet=e.processor.docSets[e.docSetId],n.doc=e;const r=e.chapterIndex(t.chapter);return[t.chapter,r||{}]},cvMatching:(e,t,n)=>{if(!t.withChars&&!t.withMatchingChars&&!t.withScopes)throw new Error("Must specify at least one of withChars or withMatchingChars or withScopes");if(t.withChars&&t.withMatchingChars)throw new Error("Must not specify both withChars and withMatchingChars");let r;n.docSet=e.processor.docSets[e.docSetId],t.withChars&&t.allChars?r=t.withChars.map((e=>$(`^${e}$`))):t.withChars?r=[$.union(t.withChars.map((e=>$(`^${e}$`,"i"))))]:t.withMatchingChars&&t.allChars?r=t.withMatchingChars.map((e=>$(e,"i"))):t.withMatchingChars&&(r=[$.union(t.withMatchingChars.map((e=>$(e,"i"))))]);const s=e=>{for(const n of t.withScopes||[])if(!e.includes(n))return!1;return!0},o=e=>{const n=t.withScopes||[];for(const t of n)if(e.includes(t))return!0;return 0===n.length};return n.docSet.sequenceItemsByScopes(e.sequences[e.mainId].blocks,["chapter/","verses/"]).filter((e=>(t.allScopes?s:o)(e[1].filter((e=>"scope"===e[0]&&"start"===e[1])).map((e=>e[2])))&&(e=>{for(const t of r||[]){let n=!1;for(const r of e)if($.test(r[2],t)){n=!0;break}if(!n)return!1}return!0})(e[1])))},perf:(e,t)=>e.perf(t.indent),usfm:e=>e.usfm(),sofria:(e,t)=>e.sofria(t.indent,t.chapter)},Mg={paratext:(e,t)=>{const n=e.headers.bookCode||"GEN",r=t.headers.bookCode||"GEN";return(va.canons.ptBooks[n]?va.canons.ptBooks[n].position:999)-(va.canons.ptBooks[r]?va.canons.ptBooks[r].position:999)},alpha:(e,t)=>{const n=e.headers.bookCode||"GEN",r=t.headers.bookCode||"GEN";return n.localeCompare(r)},alpha2:(e,t)=>{const n=[1,2,3,4,5,6];let r=e.headers.bookCode||"GEN";n.includes(r[0])&&(r=r.substring(1)+r[0]);let s=t.headers.bookCode||"GEN";return n.includes(s[0])&&(s=s.substring(1)+s[0]),r.localeCompare(s)}},Gg=`\n"""A collection of documents that share the same set of selector values"""\ntype DocSet {\n  """The id of the docSet, which is formed by concatenating the docSet's selector values"""\n  id: String!\n  """The selectors of the docSet"""\n  selectors: [KeyValue!]!\n  """A selector for this docSet"""\n  selector(\n    """The id of the selector"""\n    id: String!\n  ): String!\n  """A list of the tags of this docSet"""\n  tags: [String!]!\n  """A list of the tags of this docSet as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """Whether or not the docSet has the specified tag"""\n  hasTag(\n    """The tag"""\n    tagName: String!\n  ): Boolean!\n  """The documents in the docSet"""\n  documents(\n    """A whitelist of ids of documents to include"""\n    ids: [String!]\n    """A whitelist of ids of documents to include"""\n    withChars: [String!]\n    """Return documents whose main sequence contains a token whose payload is an exact match to one of the specified strings"""\n    withMatchingChars: [String!]\n    """If true, documents where all search terms match will be included"""\n    allChars: Boolean\n    """Only return documents where the list of scopes is used"""\n    withScopes: [String!]\n    """If true, documents where all scopes are found will be included"""\n    allScopes: Boolean\n    """Only return documents with the specified header key/values"""\n    withHeaderValues: [InputKeyValue!]\n    """Only return documents with all the specified tags"""\n    withTags: [String!]\n    """Only return documents with none of the specified tags"""\n    withoutTags: [String!]\n    """Sort returned documents by the designated method (currently ${Object.keys(Mg).join(", ")})\`"""\n    sortedBy: String\n  ): [Document!]!\n  """The number of documents in the docSet"""\n  nDocuments: Int!\n  """A document in the docSet, if present"""\n  document(\n    """The book code of the required document"""\n    bookCode: String!\n  ): Document\n  """Whether the docSet has versification information loaded"""\n  hasMapping: Boolean!\n  """The internal index number corresponding to a string in a given docSet enum"""\n  enumIndexForString(\n    """The enum to be searched"""\n    enumType: String!\n    """The string to match"""\n    searchString: String!\n  ): Int!\n  """Information about internal indexes matching the case-insensitive regex in a given docSet enum"""\n  enumRegexIndexesForString(\n    """The enum to be searched"""\n    enumType: String!\n    """The regex to match"""\n    searchRegex: String!\n  ): [regexIndex!]!\n  """A list of wordLike token strings in the docSet"""\n  wordLikes(\n    """Whether to coerce the strings (toLower|toUpper|none)"""\n    coerceCase: String\n  ): [String!]!\n  """A list of unique characters in the docSet"""\n  uniqueChars: [String!]!\n  """A string containing the unique characters in the docSet"""\n  uniqueCharsString: String!\n  }\n`,Lg={selectors:e=>Object.entries(e.selectors),selector:(e,t)=>e.selectors[t.id],tags:e=>Array.from(e.tags),tagsKv:e=>Array.from(e.tags).map((e=>e.includes(":")?[e.substring(0,e.indexOf(":")),e.substring(e.indexOf(":")+1)]:[e,""])),hasTag:(e,t)=>e.tags.has(t.tagName),documents:(e,t,n)=>{if(t.withChars&&t.withMatchingChars)throw new Error("Cannot specify both withChars and withMatchingChars");n.docSet=e;let r=e.documents();if(t.ids&&(r=r.filter((e=>t.ids.includes(e.id)))),t.withChars&&(r=r.filter((n=>Og(e,n.sequences[n.mainId],t.withChars,t.allChars)))),t.withMatchingChars&&(r=r.filter((n=>_g(e,n.sequences[n.mainId],t.withMatchingChars,t.allChars)))),t.withScopes){const e=e=>new Set(e.sequences[e.mainId].blocks.map((e=>n.docSet.unsuccinctifyBlockScopeLabelsSet(e))).map((e=>Array.from(e))).reduce(((e,t)=>e.concat(t))));r=r.filter((n=>{const r=e(n),s=t.allScopes?t.withScopes.length:1;return t.withScopes.filter((e=>r.has(e))).length>=s}))}if(t.withHeaderValues&&(r=r.filter((e=>((e,t)=>{for(const n of t||[])if(!(n.key in e)||e[n.key]!==n.value)return!1;return!0})(e.headers,t.withHeaderValues)))),t.withTags&&(r=r.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(r=r.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),t.sortedBy){if(!(t.sortedBy in Mg))throw new Error(`sortedBy value must be one of [${Object.keys(Mg)}], not ${t.sortedBy}`);r.sort(Mg[t.sortedBy])}return r},nDocuments:(e,t,n)=>(n.docSet=e,e.documents().length),document:(e,t)=>e.documentWithBook(t.bookCode),hasMapping:e=>e.tags.has("hasMapping"),enumIndexForString:(e,t)=>va.enums.enumStringIndex(e.enums[t.enumType],t.searchString),enumRegexIndexesForString:(e,t)=>va.enums.enumRegexIndexTuples(e.enums[t.enumType],t.searchRegex),wordLikes:(e,t)=>{if(t.coerceCase&&!["toLower","toUpper","none"].includes(t.coerceCase))throw new Error(`coerceCase, when present, must be 'toLower', 'toUpper' or 'none', not '${t.coerceCase}'`);let n=va.succinct.unpackEnum(e.enums.wordLike);return"toLower"===t.coerceCase&&(n=n.map((e=>e.toLowerCase()))),"toUpper"===t.coerceCase&&(n=n.map((e=>e.toUpperCase()))),Array.from(new Set(n))},uniqueChars:e=>{const t=new Set([]);for(const n of[...va.succinct.unpackEnum(e.enums.wordLike),...va.succinct.unpackEnum(e.enums.notWordLike)])for(const e of n.split(""))t.add(e);return Array.from(t).sort()},uniqueCharsString:e=>{const t=new Set([]);for(const n of[...va.succinct.unpackEnum(e.enums.wordLike),...va.succinct.unpackEnum(e.enums.notWordLike)])for(const e of n.split(""))t.add(e);return Array.from(t).sort().join("")}},Ug={eng:{raw:'# Versification  "English"\n# Version=2.0\n#\n# modifications by Reinier de Blois 13/March/2012\n# modified mappings Psalms by adding verse #0 to the mappings\n# many of the subscripts that are part of verses 1,2 in the original text end up as verse #0 in English translations\n\n# modifications by Studge 26/June/2009\n# book definitions are for all books printed in any English of Spanish Bible\n# this includes books for Protestant, Catholic and Protestant-Catholic-EasternOrthodox Interconfessional editions\n#\n# This is the versification used by most English (e.g. RSV) and Spanish Bibles (e.g. RVR)\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing =\'s below for verse mappings.\n#\n#--------------------------------------------------\n# Old Testament\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38\nLEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:40 30:16 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:15 22:23 23:29 24:22 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25\n1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44\nNEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31\nEST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:24 41:34 42:17\nPSA 1:6 2:12 3:8 4:8 5:12 6:10 7:17 8:9 9:20 10:18 11:7 12:8 13:6 14:7 15:5 16:11 17:15 18:50 19:14 20:9 21:13 22:31 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:12 31:24 32:11 33:22 34:22 35:28 36:12 37:40 38:22 39:13 40:17 41:13 42:11 43:5 44:26 45:17 46:11 47:9 48:14 49:20 50:23 51:19 52:9 53:6 54:7 55:23 56:13 57:11 58:11 59:17 60:12 61:8 62:12 63:11 64:10 65:13 66:20 67:7 68:35 69:36 70:5 71:24 72:20 73:28 74:23 75:10 76:12 77:20 78:72 79:13 80:19 81:16 82:8 83:18 84:12 85:13 86:17 87:7 88:18 89:52 90:17 91:16 92:15 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:28 103:22 104:35 105:45 106:48 107:43 108:13 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:13 141:10 142:7 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6\nPRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:16 5:20 6:12 7:29 8:17 9:18 10:20 11:10 12:14\nSNG 1:17 2:17 3:11 4:16 5:16 6:13 7:13 8:14\nISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\nDAN 1:21 2:49 3:30 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13\nHOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:16 14:9\nJOL 1:20 2:32 3:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15\nOBA 1:21\nJON 1:17 2:10 3:10 4:11\nMIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20\nNAM 1:15 2:13 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:15 2:23\nZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:18 4:6\n#-----------------------------------------------\n# New Testament\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:41 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n#2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14\n# Note sometimes 2CO 13 has 14 verses e.g. KJV. but 13 verses in modern translations\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:14\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n# sometimes called the Apocalypse\n#---------------------------------------------------------\n# Deuterocanonical books\nTOB 1:22 2:14 3:17 4:21 5:21 6:17 7:18 8:21 9:6 10:13 11:19 12:22 13:18 14:15\nJDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:13 16:25\n#-----------------------\n# This is the definition for "Additions to Daniel" as in the KJV [Studge]\n# ESG 1:13 2:12 3:6 4:18 5:19 6:16 7:24\n# more commonly UBS Bibles have ESG which is the full Esther Greek for modern Bibles e.g. RSV, CEV, GNB etc\nESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13\n#-----------------------\nWIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:21 18:25 19:22\nSIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:32 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:31 34:26 35:20 36:26 37:31 38:34 39:35 40:30 41:23 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30\n#\n# In English Bibles Baruch sometimes has 5 chapters and sometimes 6 in Catholic Bibles [Studge]\nBAR 1:21 2:35 3:37 4:37 5:9 6:73\n#\nLJE 1:73\nS3Y 1:68\nSUS 1:64\nBEL 1:42\n1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24\n2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39\n#-----------------------------------------------------\n# Additional Orthodox Books in Interconfessional Bibles e.g. RSV, NRSV\n3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23\n4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24\n1ES 1:58 2:30 3:24 4:63 5:73 6:34 7:15 8:96 9:55\n2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78\nMAN 1:15\nPS2 1:7\n#-----------------------------------------------------\n# ODA and PSS are only used in LXX and SYR projects and are not needed here\n# ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46\n# PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12\n#-----------------------------------------------------\n# Obselete books used for LXX variant texts, in LXX only in PT 6, and obselete in PT 7, not used in English, Spanish or any other Bibles.  If these codes were used they were used for the wrong books and these definitions were not relevant\nJSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nTBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\nSST 1:64\nDNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\nBLT 1:42\n#------------------------------------------------------\n# Daniel Greek used in some English Catholic Bibles\nDAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42\n# Letter to the Laodiceans which was in the John Wycliffe Bible\nLAO 1:20\n#\n#-----------------------------------------------------\n# Mapping\n#-----------------------------------------------------\n# English = BHS (see org.vrs)\n#\n# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)\n#\nGEN 31:55 = GEN 32:1\nGEN 32:1-32 = GEN 32:2-33\nEXO 8:1-4 = EXO 7:26-29\nEXO 8:5-32 = EXO 8:1-28\nEXO 22:1 = EXO 21:37\nEXO 22:2-31 = EXO 22:1-30\nLEV 6:1-7 = LEV 5:20-26\nLEV 6:8-30 = LEV 6:1-23\nNUM 16:36-50 = NUM 17:1-15\nNUM 17:1-13 = NUM 17:16-28\n# NUM 26:1a = NUM 25:19b  # no support for splits yet\n# NUM 26:1b = NUM 26:1  # no support for splits yet\nNUM 29:40 = NUM 30:1\nNUM 30:1-16 = NUM 30:2-17\nDEU 12:32 = DEU 13:1\nDEU 13:1-18 = DEU 13:2-19\nDEU 22:30 = DEU 23:1\nDEU 23:1-25 = DEU 23:2-26\nDEU 29:1 = DEU 28:69\nDEU 29:2-29 = DEU 29:1-28\n#\n# removed see PTSIL-113\n#1SA 20:42 = 1SA 20:41\n#\n1SA 20:42 = 1SA 21:1\n1SA 21:1-15 = 1SA 21:2-16\n1SA 23:29 = 1SA 24:1\n1SA 24:1-22 = 1SA 24:2-23\n2SA 18:33 = 2SA 19:1\n2SA 19:1-43 = 2SA 19:2-44\n1KI 4:21-34 = 1KI 5:1-14\n1KI 5:1-18 = 1KI 5:15-32\n# 1KI 18:33a = 1KI 18:33  # no support for splits yet\n# 1KI 18:33b = 1KI 18:34  # no support for splits yet\n# 1KI 22:43a = 1KI 22:43b  # no support for splits yet\n1KI 22:43-53 = 1KI 22:44-54\n2KI 11:21 = 2KI 12:1\n2KI 12:1-21 = 2KI 12:2-22\n1CH 6:1-15 = 1CH 5:27-41\n1CH 6:16-81 = 1CH 6:1-66\n# 1CH 12:4b = 1CH 12:4  # no support for splits yet\n1CH 12:4-40 = 1CH 12:5-41\n2CH 2:1 = 2CH 1:18\n2CH 2:2-18 = 2CH 2:1-17\n2CH 14:1 = 2CH 13:23\n2CH 14:2-15 = 2CH 14:1-14\nNEH 4:1-6 = NEH 3:33-38\nNEH 4:7-23 = NEH 4:1-17\nNEH 7:69-73 = NEH 7:68-72\nNEH 9:38 = NEH 10:1\nNEH 10:1-39 = NEH 10:2-40\nJOB 41:1-8 = JOB 40:25-32\nJOB 41:9-34 = JOB 41:1-26\nPSA 3:0-8 = PSA 3:1-9\nPSA 4:0-8 = PSA 4:1-9\nPSA 5:0-12 = PSA 5:1-13\nPSA 6:0-10 = PSA 6:1-11\nPSA 7:0-17 = PSA 7:1-18\nPSA 8:0-9 = PSA 8:1-10\nPSA 9:0-20 = PSA 9:1-21\nPSA 12:0-8 = PSA 12:1-9\nPSA 13:0-5 = PSA 13:1-6\nPSA 18:0-50 = PSA 18:1-51\nPSA 19:0-14 = PSA 19:1-15\nPSA 20:0-9 = PSA 20:1-10\nPSA 21:0-13 = PSA 21:1-14\nPSA 22:0-31 = PSA 22:1-32\nPSA 30:0-12 = PSA 30:1-13\nPSA 31:0-24 = PSA 31:1-25\nPSA 34:0-22 = PSA 34:1-23\nPSA 36:0-12 = PSA 36:1-13\nPSA 38:0-22 = PSA 38:1-23\nPSA 39:0-13 = PSA 39:1-14\nPSA 40:0-17 = PSA 40:1-18\nPSA 41:0-13 = PSA 41:1-14\nPSA 42:0-11 = PSA 42:1-12\nPSA 44:0-26 = PSA 44:1-27\nPSA 45:0-17 = PSA 45:1-18\nPSA 46:0-11 = PSA 46:1-12\nPSA 47:0-9 = PSA 47:1-10\nPSA 48:0-14 = PSA 48:1-15\nPSA 49:0-20 = PSA 49:1-21\nPSA 51:0 = PSA 51:1\nPSA 51:0 = PSA 51:2\nPSA 51:1-19 = PSA 51:3-21\nPSA 52:0 = PSA 52:1\nPSA 52:0 = PSA 52:2\nPSA 52:1-9 = PSA 52:3-11\nPSA 53:0-6 = PSA 53:1-7\nPSA 54:0 = PSA 54:1\nPSA 54:0 = PSA 54:2\nPSA 54:1-7 = PSA 54:3-9\nPSA 55:0-23 = PSA 55:1-24\nPSA 56:0-13 = PSA 56:1-14\nPSA 57:0-11 = PSA 57:1-12\nPSA 58:0-11 = PSA 58:1-12\nPSA 59:0-17 = PSA 59:1-18\nPSA 60:0 = PSA 60:1\nPSA 60:0 = PSA 60:2\nPSA 60:1-12 = PSA 60:3-14\nPSA 61:0-8 = PSA 61:1-9\nPSA 62:0-12 = PSA 62:1-13\nPSA 63:0-11 = PSA 63:1-12\nPSA 64:0-10 = PSA 64:1-11\nPSA 65:0-13 = PSA 65:1-14\nPSA 67:0-7 = PSA 67:1-8\nPSA 68:0-35 = PSA 68:1-36\nPSA 69:0-36 = PSA 69:1-37\nPSA 70:0-5 = PSA 70:1-6\nPSA 75:0-10 = PSA 75:1-11\nPSA 76:0-12 = PSA 76:1-13\nPSA 77:0-20 = PSA 77:1-21\nPSA 80:0-19 = PSA 80:1-20\nPSA 81:0-16 = PSA 81:1-17\nPSA 83:0-18 = PSA 83:1-19\nPSA 84:0-12 = PSA 84:1-13\nPSA 85:0-13 = PSA 85:1-14\nPSA 88:0-18 = PSA 88:1-19\nPSA 89:0-52 = PSA 89:1-53\nPSA 92:0-15 = PSA 92:1-16\nPSA 102:0-28 = PSA 102:1-29\nPSA 108:0-13 = PSA 108:1-14\nPSA 140:0-13 = PSA 140:1-14\nPSA 142:0-7 = PSA 142:1-8\nECC 5:1 = ECC 4:17\nECC 5:2-20 = ECC 5:1-19\nSNG 6:13 = SNG 7:1\nSNG 7:1-13 = SNG 7:2-14\nISA 9:1 = ISA 8:23\nISA 9:2-21 = ISA 9:1-20\nISA 64:2-12 = ISA 64:1-11\nJER 9:1 = JER 8:23\nJER 9:2-26 = JER 9:1-25\nEZK 20:45-46 = EZK 21:1-2\nEZK 20:47 = EZK 21:3\nEZK 20:48-49 = EZK 21:4-5\nEZK 21:1-32 = EZK 21:6-37\nDAN 4:1-3 = DAN 3:31-33\nDAN 4:4-37 = DAN 4:1-34\nDAN 5:31 = DAN 6:1\nDAN 6:1-28 = DAN 6:2-29\nHOS 1:10-11 = HOS 2:1-2\nHOS 2:1-23 = HOS 2:3-25\nHOS 11:12 = HOS 12:1\nHOS 12:1-14 = HOS 12:2-15\nHOS 13:16 = HOS 14:1\nHOS 14:1-9 = HOS 14:2-10\nJOL 2:28-32 = JOL 3:1-5\nJOL 3:1-21 = JOL 4:1-21\nJON 1:17 = JON 2:1\nJON 2:1-10 = JON 2:2-11\nMIC 5:1 = MIC 4:14\nMIC 5:2-15 = MIC 5:1-14\nNAM 1:15 = NAM 2:1\nNAM 2:1-13 = NAM 2:2-14\nZEC 1:18-21 = ZEC 2:1-4\nZEC 2:1-13 = ZEC 2:5-17\nMAL 4:1-6 = MAL 3:19-24\n# 40 + 41 -> 40 (per Peter Kirk)\n#! &ACT 19:40-41 = ACT 19:40\n#\n#---------------------------------\n# map Baruch 6 onto Letter of Jeremiah [Studge]\nBAR 6:1-73 = LJE 1:1-73\n#\n#------------------------------\n# Susanna\nDAG 13:1-63 = SUS 1:1-63\n# Bel and the Dragon\nDAG 14:1-42 = BEL 1:1-42\n#----------------------------------\n# Mapping Esther Greek onto LXX Esther Greek\n#\n# This maps the standard verses generated by Create Book\n# to the actual verse numbers and segments found in the LXX\n# ESG chapter 1\nESG 1:1 = ESG 1:1a\nESG 1:2 = ESG 1:1b\nESG 1:3 = ESG 1:1c\nESG 1:4 = ESG 1:1d\nESG 1:5 = ESG 1:1e\nESG 1:6 = ESG 1:1f\nESG 1:7 = ESG 1:1g\nESG 1:8 = ESG 1:1h\nESG 1:9 = ESG 1:1i\nESG 1:10 = ESG 1:1k\nESG 1:11 = ESG 1:1l\nESG 1:12 = ESG 1:1m\nESG 1:13 = ESG 1:1n\nESG 1:14 = ESG 1:1o\nESG 1:15 = ESG 1:1p\nESG 1:16 = ESG 1:1q\nESG 1:17 = ESG 1:1r\nESG 1:18 = ESG 1:1s\nESG 1:19-39 = ESG 1:2-22\n# ESG chapter 3\nESG 3:14 = ESG 3:13a\nESG 3:15 = ESG 3:13b\nESG 3:16 = ESG 3:13c\nESG 3:17 = ESG 3:13d\nESG 3:18 = ESG 3:13e\nESG 3:19 = ESG 3:13f\nESG 3:20 = ESG 3:13g\nESG 3:21 = ESG 3:14\nESG 3:22 = ESG 3:15\n# ESG chapter 4\nESG 4:18 = ESG 4:17a\nESG 4:19 = ESG 4:17b\nESG 4:20 = ESG 4:17c\nESG 4:21 = ESG 4:17c\nESG 4:22 = ESG 4:17d\nESG 4:23 = ESG 4:17d\nESG 4:24 = ESG 4:17e\nESG 4:25 = ESG 4:17f\nESG 4:26 = ESG 4:17g\nESG 4:27 = ESG 4:17h\nESG 4:28 = ESG 4:17i\nESG 4:29 = ESG 4:17k\nESG 4:30 = ESG 4:17k\nESG 4:31 = ESG 4:17k\nESG 4:32 = ESG 4:17l\nESG 4:33 = ESG 4:17m\nESG 4:34 = ESG 4:17n\nESG 4:35 = ESG 4:17n\nESG 4:36 = ESG 4:17o\nESG 4:37 = ESG 4:17o\nESG 4:38 = ESG 4:17p\nESG 4:39 = ESG 4:17q\nESG 4:40 = ESG 4:17r\nESG 4:41 = ESG 4:17s\nESG 4:42 = ESG 4:17t\nESG 4:43 = ESG 4:17u\nESG 4:44 = ESG 4:17w\nESG 4:45 = ESG 4:17x\nESG 4:46 = ESG 4:17y\nESG 4:47 = ESG 4:17z\n# ESG chapter 5\nESG 5:2 = ESG 5:1a\nESG 5:3 = ESG 5:1a\nESG 5:4 = ESG 5:1a\nESG 5:5 = ESG 5:1b\nESG 5:6 = ESG 5:1c\nESG 5:7 = ESG 5:1d\nESG 5:8 = ESG 5:1e\nESG 5:9 = ESG 5:1f\nESG 5:10 = ESG 5:1f\nESG 5:11 = ESG 5:2\nESG 5:12 = ESG 5:2\nESG 5:13 = ESG 5:2a\nESG 5:14 = ESG 5:2a\nESG 5:15 = ESG 5:2b\nESG 5:16 = ESG 5:2b\nESG 5:17-28 = ESG 5:3-14\n# ESG chapter 8\nESG 8:13 = ESG 8:12a\nESG 8:14 = ESG 8:12b\nESG 8:15 = ESG 8:12c\nESG 8:16 = ESG 8:12d\nESG 8:17 = ESG 8:12e\nESG 8:18 = ESG 8:12f\nESG 8:19 = ESG 8:12g\nESG 8:20 = ESG 8:12h\nESG 8:21 = ESG 8:12i\nESG 8:22 = ESG 8:12k\nESG 8:23 = ESG 8:12l\nESG 8:24 = ESG 8:12m\nESG 8:25 = ESG 8:12n\nESG 8:26 = ESG 8:12o\nESG 8:27 = ESG 8:12p\nESG 8:28 = ESG 8:12q\nESG 8:29 = ESG 8:12r\nESG 8:30 = ESG 8:12s\nESG 8:31 = ESG 8:12t\nESG 8:32 = ESG 8:12u\nESG 8:33 = ESG 8:12x\nESG 8:34 = ESG 8:12y\nESG 8:35 = ESG 8:12y\nESG 8:36 = ESG 8:12y\nESG 8:37-41 = ESG 8:13-17\n# ESG chapter 10\nESG 10:4 = ESG 10:3a\nESG 10:5 = ESG 10:3b\nESG 10:6 = ESG 10:3c\nESG 10:7 = ESG 10:3d\nESG 10:8 = ESG 10:3e\nESG 10:9 = ESG 10:3f\nESG 10:10 = ESG 10:3g\nESG 10:11 = ESG 10:3h\nESG 10:12 = ESG 10:3i\nESG 10:13 = ESG 10:3k\nESG 10:14 = ESG 10:3l\n# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.\n# Map it back to the LXX.  This section allow\'s texts such as TOB (French) which do\n# this to scroll correctly with the LXX.\n# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.\n# If a text has DAG present, this section must NOT be included in its versification file because\n# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.\nS3Y 1:1-29 = DAG 3:24-52\nS3Y 1:30-31 = DAG 3:52-53\nS3Y 1:33 = DAG 3:54\nS3Y 1:32 = DAG 3:55\nS3Y 1:34-35 = DAG 3:56-57\nS3Y 1:37 = DAG 3:58\nS3Y 1:36 = DAG 3:59\nS3Y 1:38-68 = DAG 3:60-90\n'},lxx:{raw:"# Versification  \"Septuagint\"\n# Version=1.7\n# \n# modifications by Studge 26/ June/ 2009\n# This should include the versifications for Bibles which follow LXX versificatio mainly Orthodox Bibles. [Studge]\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing ='s below for verse mappings.\n#\n# modifications by Reinier 20/ April/ 2010\n# all data that are not part of the LXX itself have been commented out with ##\n#\n# modifications by Michael Lothers 1/ June/ 2011\n# added verse segment information in the format: *GEN 1:22,-,a,b\n# which indicates GEN 1:22 has three segments, the first has no marking followed by two segments: 1a and 1b\n# The lines are preceded by #! so that versions of Paratext prior to 7.3 will ignore them rather than crash.\n#\n# modifications by Tim Steenwyk 15/ September/ 2011\n# removed mapping references to PS3 since they shouldn't be in LXX (Septuagint)\n#------------------------------------------------\n# Old Testament\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:21 38:27 39:23 40:38\nLEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:26 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:29 9:27 10:42 11:23 12:24 13:32 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:54 18:29 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n# 1SA called 1 Kings in the Orthodox tradition\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25\n# 2SA called 2 Kings in the Orthodox tradition\n1KI 1:53 2:46 3:28 4:19 5:32 6:36 7:50 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:29 21:43 22:54\n# 1KI called 3 Kings in the Orthodox tradition\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n# 2KI called 4 Kings in the Orthodox tradition\n1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23\n#\n# Edited by Studge\n# Added EZR which is Ezra-Nehemiah, which had been put under 2ES by mistake\n# Edited chapters 13 and 20 / SS 14.6.2014\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:23 15:19 16:19 17:73 18:18 19:38 20:40 21:36 22:47 23:31\n#\n# most projects based on LXX will use Nehemiah so we ought to add it in.\n##NEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31\n#\n# Edited by Studge\n# should not have ESG here but amongst the Deuterocanonical books for PT order\n# ESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\n#\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17\nPSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7\n# Psalms has 151 psalms in the Septuagint tradition\nPRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:22 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14\nSNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14\nISA 1:31 2:21 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:11 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24\n#\n# Edited by SS 25.3.2003\n# Original: JER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\n#\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:20 26:28 27:46 28:64 29:7 30:33 31:44 32:38 33:24 34:22 35:17 36:32 37:24 38:40 39:44 40:13 41:22 42:19 43:32 44:21 45:28 46:18 47:16 48:18 49:22 50:13 51:35 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\n#\n# There really should not be an entry for DAN in the LXX.vrs. All this material should be in DAG to match Ralhfs.\n# However, there are no doubt many projects that incorrectly but the material in DAN so we leave this here\n# for backward compatibility\n# Following line commented out and DAG-DAN mapping brought up from end of file to allow DAG text to sychronize with HEB where they match\n# Edited by Sarah Lind Oct 6 2015\n# DAN 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\nDAG 1:1-21 = DAN 1:1-21 \nDAG 2:1-49 = DAN 2:1-49\nDAG 3:1-23 = DAN 3:1-23\nDAG 3:91-97 = DAN 3:24-30\nDAG 4:1-3 = DAN 3:31-33\nDAG 4:4-37 = DAN 4:1-34\nDAG 4:1-2 = DAN 4:4-5\nDAG 5:1-30 = DAN 5:1-30\nDAG 6:1-29 = DAN 6:1-29\nDAG 7:1-28 = DAN 7:1-28\nDAG 8:1-27 = DAN 8:1-27\nDAG 9:1-27 = DAN 9:1-27\nDAG 10:1-21 = DAN 10:1-21\nDAG 11:1-45 = DAN 11:1-45\nDAG 12:1-13 = DAN 12:1-13\n#\nHOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10\nJOL 1:20 2:27 3:5 4:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15\nOBA 1:21\nJON 1:16 2:11 3:10 4:11\nMIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20\nNAM 1:14 2:14 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:15 2:23\nZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:24\n#\n#  It feels a bit odd to include NT in \"Septuagint\" but I think there are\n#  Bibles that follow the _versification_ of OT LXX but also have a NT.\n#\n# ------------------------------------------------------\n# New Testament books\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n#--------------------------------------------------\n# Deuterocanonical Books\nTOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\nJDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25\n# added ESG definition in its right PT order\nESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\n# note chapter 4 v17 is 17a-z\n# note chapter 8 v12 is 12a-x\n# note chapter 10 v3 is 3a-l\nWIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22\nSIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30\nBAR 1:22 2:35 3:38 4:37 5:9\nLJE 1:72\n# Edited SUS / SS 14.6.2014\nSUS 1:64\nBEL 1:42\n1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24\n2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39\n3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23\n4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24\n# 1ES Ezra (Greek)\n1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55\n#-----------------------------------------------------\n# Edited by Studge - Had the wrong definition of 2ES\n# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31\n# 2ES is not a LXX book but is from the Vulgate and has 16 chapters\n# edited by Studge added the correct definition of 2ES\n2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78\n#\n# Edited by Studge\n#MAN and PS2 were not defined which are in LXX\nMAN 1:15\nPS2 1:7\n#-------------------------------------------------------\n# ODA and PSS are in the PT 6 files but now missing from the LXX files in PT 7\nODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46\nPSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12\n#-------------------------------------------------------\n# NR: LXX variant texts now obselete, kep for backward compatability\nJSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:45 20:9 21:45 22:34 23:16 24:33\nJDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nTBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\nSST 1:64\nDNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\nBLT 1:42\n#--------------------------------------------------------\n# Greek Daniel\n# Edited chapter 5 and 6 and removed chapters 13 and 14 that are not in Rahlfs / SS 14.6.2014\nDAG 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\n#--------------------------------------------------------\n# Syriac books for Peshitta projects SYR and SYA\n#\n# Syriac Psalms 152-155\n##PS3 1:17 2:20 3:6 4:6\n#\n# Apocalypse of Baruch\n##2BA 1:5 2:2 3:9 4:7 5:7 6:10 7:2 8:5 9:1 10:19 11:7 12:5 13:12 14:19 15:8 16:1 17:4 18:2 19:8 20:6 21:26 22:8 23:7 24:4 25:4 26:1 27:15 28:7 29:8 30:5 31:5 32:9 33:3 34:1 35:5 36:10 37:1 38:4 39:8 40:4 41:6 42:8 43:3 44:15 45:2 46:7 47:2 48:50 49:3 50:4 51:16 52:8 53:12 54:22 55:8 56:16 57:3 58:2 59:12 60:2 61:8 62:8 63:11 64:10 65:2 66:8 67:9 68:8 69:5 70:10 71:3 72:6 73:7 74:4 75:8 76:5 77:26\n#\n# Letter of Baruch\n##LBA 78:7 79:3 80:7 81:4 82:9 83:23 84:11 85:15 86:3\n#--------------------------------------------------------\n# Books for Ethiopian Canon\n# Jubilees (Ethiopian canon)\n##JUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20\n# Enoch (Ethiopian canon)\n##ENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16\n# 1 Meqabyan (Ethiopian canon)\n##1MQ 1:28 2:28 3:38 4:37 5:39 6:38 7:33 8:35 9:10 10:8 11:8 12:44 13:27 14:23 15:20 16:9 17:8 18:12 19:17 20:4 21:31 22:11 23:7 4:22 25:18 26:5 27:20 28:49 29:17 30:16 31:7 32:4 33:11 34:18 35:8 36:46\n# 2 Meqabyan (Ethiopian canon)\n##2MQ 1:13 2:11 3:29 4:32 5:18 6:24 7:9 8:24 9:27 10:28 11:25 12:15 13:14 14:36 15:21 16:15 17:12 18:14 19:15 20:14 \n# 3 Meqabyan (Ethiopian canon)\n##3MQ 1:24 2:23 3:11 4:36 5:16 6:16 7:5 8:12 9:36 10:29\n# Reproof (Ethiopian canon)\n##REP 1:28 2:28 3:27 4:28 5:27 6:22\n# 4 Baruch / Rest of the Words of Baruch (Ethiopian canon)\n##4BA 1:30 2:29 3:30 4:33 5:62\n#---------------------------------------------------------\n# Edited by SS 14.6.2014 added deliberatelly omitted verses\n-GEN 31:51\n-GEN 35:21\n\n-EXO 25:6\n-EXO 28:23\n-EXO 28:24\n-EXO 28:25\n-EXO 28:26\n-EXO 28:27\n-EXO 28:28\n-EXO 32:9\n-EXO 35:8\n-EXO 35:15\n-EXO 35:17\n-EXO 35:18\n-EXO 40:7\n-EXO 40:11\n-EXO 40:28\n-EXO 40:30\n-EXO 40:31\n-EXO 40:32\n\n-JOS 6:4\n-JOS 8:13\n-JOS 8:26\n-JOS 10:15\n-JOS 20:4\n-JOS 20:5\n-JOS 20:6\n\n-1SA 13:1\n-1SA 17:21\n-1SA 17:22\n-1SA 17:23\n-1SA 17:24\n-1SA 17:25\n-1SA 17:26\n-1SA 17:27\n-1SA 17:28\n-1SA 17:29\n-1SA 17:30\n-1SA 17:31\n-1SA 17:41\n-1SA 17:50\n-1SA 18:1\n-1SA 18:2\n-1SA 18:3\n-1SA 18:4\n-1SA 18:5\n-1SA 18:10\n-1SA 18:11\n-1SA 18:17\n-1SA 18:18\n-1SA 18:19\n-1SA 23:12\n\n-1KI 3:1\n-1KI 5:5\n-1KI 5:6\n-1KI 5:7\n-1KI 5:8\n-1KI 5:31\n-1KI 6:11\n-1KI 6:12\n-1KI 6:13\n-1KI 6:14\n-1KI 6:18\n-1KI 8:12\n-1KI 8:13\n-1KI 9:15\n-1KI 9:16\n-1KI 9:17\n-1KI 9:18\n-1KI 9:19\n-1KI 9:20\n-1KI 9:21\n-1KI 9:22\n-1KI 9:23\n-1KI 9:24\n-1KI 9:25\n-1KI 11:3\n-1KI 11:23\n-1KI 11:24\n-1KI 11:39\n-1KI 12:2\n-1KI 12:17\n-1KI 13:27\n-1KI 14:1\n-1KI 14:2\n-1KI 14:3\n-1KI 14:4\n-1KI 14:5\n-1KI 14:6\n-1KI 14:7\n-1KI 14:8\n-1KI 14:9\n-1KI 14:10\n-1KI 14:11\n-1KI 14:12\n-1KI 14:13\n-1KI 14:14\n-1KI 14:15\n-1KI 14:16\n-1KI 14:17\n-1KI 14:18\n-1KI 14:19\n-1KI 14:20\n-1KI 15:6\n-1KI 15:32\n-1KI 22:47\n-1KI 22:48\n-1KI 22:49\n-1KI 22:50\n\n-1SA 17:12\n-1SA 17:13\n-1SA 17:14\n-1SA 17:15\n-1SA 17:16\n-1SA 17:17\n-1SA 17:18\n-1SA 17:19\n-1SA 17:20\n\n-1CH 1:11\n-1CH 1:12\n-1CH 1:13\n-1CH 1:14\n-1CH 1:15\n-1CH 1:16\n-1CH 1:18\n-1CH 1:19\n-1CH 1:20\n-1CH 1:21\n-1CH 1:22\n-1CH 1:23\n-1CH 16:24\n\n-2CH 27:8\n\n-EZR 13:7\n-EZR 14:18\n-EZR 14:19\n-EZR 14:20\n-EZR 14:21\n-EZR 14:22\n-EZR 14:23\n-EZR 19:38\n-EZR 21:16\n-EZR 21:20\n-EZR 21:21\n-EZR 21:28\n-EZR 21:29\n-EZR 21:32\n-EZR 21:33\n-EZR 21:34\n-EZR 21:35\n-EZR 22:4\n-EZR 22:5\n-EZR 22:6\n\n-JOB 23:14\n\n-PSA 115:5\n\n-PRO 4:7\n-PRO 8:33\n-PRO 11:4\n-PRO 15:31\n-PRO 16:1\n-PRO 16:3\n-PRO 16:4\n-PRO 16:6\n-PRO 19:1\n-PRO 19:2\n-PRO 20:14\n-PRO 20:15\n-PRO 20:16\n-PRO 20:17\n-PRO 20:18\n-PRO 20:19\n-PRO 20:20\n-PRO 20:21\n-PRO 20:22\n-PRO 21:5\n-PRO 22:6\n-PRO 23:23\n\n-JER 2:1\n-JER 7:1\n-JER 8:11\n-JER 8:12\n-JER 10:6\n-JER 10:7\n-JER 10:8\n-JER 10:10\n-JER 11:7\n-JER 17:1\n-JER 17:2\n-JER 17:3\n-JER 17:4\n-JER 26:1\n-JER 26:26\n-JER 28:45\n-JER 28:46\n-JER 28:47\n-JER 28:48\n-JER 30:22\n-JER 32:1\n-JER 32:2\n-JER 32:3\n-JER 32:4\n-JER 32:5\n-JER 32:6\n-JER 32:7\n-JER 32:8\n-JER 32:9\n-JER 32:10\n-JER 32:11\n-JER 32:12\n-JER 32:14\n-JER 34:1\n-JER 34:7\n-JER 34:13\n-JER 34:17\n-JER 34:21\n-JER 36:16\n-JER 36:17\n-JER 36:18\n-JER 36:19\n-JER 36:20\n-JER 37:10\n-JER 37:11\n-JER 37:15\n-JER 37:22\n-JER 46:4\n-JER 46:5\n-JER 46:6\n-JER 46:7\n-JER 46:8\n-JER 46:9\n-JER 46:10\n-JER 46:11\n-JER 46:12\n-JER 46:13\n-JER 52:2\n-JER 52:3\n-JER 52:15\n-JER 52:28\n-JER 52:29\n-JER 52:30\n\n-LAM 3:22\n-LAM 3:23\n-LAM 3:24\n-LAM 3:29\n\n-EZK 1:14\n-EZK 10:14\n-EZK 27:31\n-EZK 32:19\n-EZK 33:26\n-EZK 40:30\n\n#------------- DC books ------------\n\n-TOB 4:8\n-TOB 4:9\n-TOB 4:10\n-TOB 4:11\n-TOB 4:12\n-TOB 4:13\n-TOB 4:14\n-TOB 4:15\n-TOB 4:16\n-TOB 4:17\n-TOB 4:18\n-TOB 13:8\n-TOB 13:9\n-TOB 13:10\n\n-ESG 4:6\n-ESG 9:5\n-ESG 9:30\n\n-SIR 1:5\n-SIR 1:7\n-SIR 1:21\n-SIR 3:19\n-SIR 3:25\n-SIR 6:1\n-SIR 10:21\n-SIR 11:15\n-SIR 11:16\n-SIR 13:14\n-SIR 16:15\n-SIR 16:16\n-SIR 17:5\n-SIR 17:9\n-SIR 17:16\n-SIR 17:18\n-SIR 17:21\n-SIR 18:3\n-SIR 19:18\n-SIR 19:19\n-SIR 19:21\n-SIR 22:7\n-SIR 22:8\n-SIR 24:18\n-SIR 24:24\n-SIR 25:12\n-SIR 26:19\n-SIR 26:20\n-SIR 26:21\n-SIR 26:22\n-SIR 26:23\n-SIR 26:24\n-SIR 26:25\n-SIR 26:26\n-SIR 26:27\n\n-4MA 10:4\n-4MA 11:7\n-4MA 11:8\n\n#---------------------------------------------------------\n# Mapping\n# LXX = BHS (see org.vrs)\n#\n# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)\n#\n# 2ES = EZR and NEH\n#\nEXO 20:13 = EXO 20:14\nEXO 20:14 = EXO 20:15\nEXO 20:15 = EXO 20:13\nEXO 21:16 = EXO 21:17\nEXO 21:17 = EXO 21:16\nEXO 36:9 = EXO 39:2\nEXO 36:10 = EXO 39:3\nEXO 36:11 = EXO 39:4\nEXO 36:12 = EXO 39:5\nEXO 36:13 = EXO 39:6\nEXO 36:14 = EXO 39:7\nEXO 36:15 = EXO 39:8\nEXO 36:16 = EXO 39:9\nEXO 36:17 = EXO 39:10\nEXO 36:20 = EXO 39:13\nEXO 36:21 = EXO 39:14\nEXO 36:22 = EXO 39:15\nEXO 36:23 = EXO 39:16\nEXO 36:25 = EXO 39:17\nEXO 36:26 = EXO 39:18\nEXO 36:27 = EXO 39:19\nEXO 36:28 = EXO 39:20\nEXO 36:29 = EXO 39:21\nEXO 36:30 = EXO 39:22\nEXO 36:31 = EXO 39:23\nEXO 36:32 = EXO 39:24\nEXO 36:33 = EXO 39:25\nEXO 36:34 = EXO 39:26\nEXO 36:35 = EXO 39:27\nEXO 36:36 = EXO 39:28\nEXO 36:37 = EXO 39:29\nEXO 36:38 = EXO 39:30\n\nDEU 5:17 = DEU 5:18\nDEU 5:18 = DEU 5:17\n\n1KI 20:1-29 = 1KI 21:1-29 \n1KI 21:1-43 = 1KI 20:1-43\n\n#\n# Map The Greek versioin of Esther onto the Hebrew version of Esther\n# using the Hebrew version as the reference point.\n# Normally DC material would not have any entries in this part of the lxx.vrs file\n# because the LXX serves as the reference point for DC material.\n# Material which is placed in separate books in HEB and LXX (i.e. EST and ESG)\n# is however placed here and referenced to the HEB reference points.\nESG 1:1-22 = EST 1:1-22\nESG 2:1-23 = EST 2:1-23\nESG 3:1-15 = EST 3:1-15\nESG 4:1-17 = EST 4:1-17\nESG 5:1-14 = EST 5:1-14\nESG 6:1-14 = EST 6:1-14\nESG 7:1-10 = EST 7:1-10\nESG 8:1-17 = EST 8:1-17\nESG 9:1-32 = EST 9:1-32\nESG 10:1-3 = EST 10:1-3\n#\n# PSA 9 = 9+10\nPSA 9:22 = PSA 10:0\nPSA 9:22-39 = PSA 10:1-18\nPSA 10:0-7 = PSA 11:0-7\nPSA 11:0-9 = PSA 12:0-9\nPSA 12:0-6 = PSA 13:0-6\nPSA 13:0-7 = PSA 14:0-7\nPSA 14:0-5 = PSA 15:0-5\nPSA 15:0-11 = PSA 16:0-11\nPSA 16:0-15 = PSA 17:0-15\nPSA 17:0-51 = PSA 18:0-51\nPSA 18:0-15 = PSA 19:0-15\nPSA 19:0-10 = PSA 20:0-10\nPSA 20:0-14 = PSA 21:0-14\nPSA 21:0-32 = PSA 22:0-32\nPSA 22:0-6 = PSA 23:0-6\nPSA 23:0-10 = PSA 24:0-10\nPSA 24:0-22 = PSA 25:0-22\nPSA 25:0-12 = PSA 26:0-12\nPSA 26:0-14 = PSA 27:0-14\nPSA 27:0-9 = PSA 28:0-9\nPSA 28:0-11 = PSA 29:0-11\nPSA 29:0-13 = PSA 30:0-13\nPSA 30:0-25 = PSA 31:0-25\nPSA 31:0-11 = PSA 32:0-11\nPSA 32:0-22 = PSA 33:0-22\nPSA 33:0-23 = PSA 34:0-23\nPSA 34:0-28 = PSA 35:0-28\nPSA 35:0-13 = PSA 36:0-13\nPSA 36:0-40 = PSA 37:0-40\nPSA 37:0-23 = PSA 38:0-23\nPSA 38:0-14 = PSA 39:0-14\nPSA 39:0-18 = PSA 40:0-18\nPSA 40:0-14 = PSA 41:0-14\nPSA 41:0-12 = PSA 42:0-12\nPSA 42:0-5 = PSA 43:0-5\nPSA 43:0-27 = PSA 44:0-27\nPSA 44:0-18 = PSA 45:0-18\nPSA 45:0-12 = PSA 46:0-12\nPSA 46:0-10 = PSA 47:0-10\nPSA 47:0-15 = PSA 48:0-15\nPSA 48:0-21 = PSA 49:0-21\nPSA 49:0-23 = PSA 50:0-23\nPSA 50:0-21 = PSA 51:0-21\nPSA 51:0-11 = PSA 52:0-11\nPSA 52:0-7 = PSA 53:0-7\nPSA 53:0-9 = PSA 54:0-9\nPSA 54:0-24 = PSA 55:0-24\nPSA 55:0-14 = PSA 56:0-14\nPSA 56:0-12 = PSA 57:0-12\nPSA 57:0-12 = PSA 58:0-12\nPSA 58:0-18 = PSA 59:0-18\nPSA 59:0-14 = PSA 60:0-14\nPSA 60:0-9 = PSA 61:0-9\nPSA 61:0-13 = PSA 62:0-13\nPSA 62:0-12 = PSA 63:0-12\nPSA 63:0-11 = PSA 64:0-11\nPSA 64:0-14 = PSA 65:0-14\nPSA 65:0-20 = PSA 66:0-20\nPSA 66:0-8 = PSA 67:0-8\nPSA 67:0-36 = PSA 68:0-36\nPSA 68:0-37 = PSA 69:0-37\nPSA 69:0-6 = PSA 70:0-6\nPSA 70:0-24 = PSA 71:0-24\nPSA 71:0-20 = PSA 72:0-20\nPSA 72:0-28 = PSA 73:0-28\nPSA 73:0-23 = PSA 74:0-23\nPSA 74:0-11 = PSA 75:0-11\nPSA 75:0-13 = PSA 76:0-13\nPSA 76:0-21 = PSA 77:0-21\nPSA 77:0-72 = PSA 78:0-72\nPSA 78:0-13 = PSA 79:0-13\nPSA 79:0-20 = PSA 80:0-20\nPSA 80:0-17 = PSA 81:0-17\nPSA 81:0-8 = PSA 82:0-8\nPSA 82:0-19 = PSA 83:0-19\nPSA 83:0-13 = PSA 84:0-13\nPSA 84:0-14 = PSA 85:0-14\nPSA 85:0-17 = PSA 86:0-17\nPSA 86:0-7 = PSA 87:0-7\nPSA 87:0-19 = PSA 88:0-19\nPSA 88:0-53 = PSA 89:0-53\nPSA 89:0-17 = PSA 90:0-17\nPSA 90:0-16 = PSA 91:0-16\nPSA 91:0-16 = PSA 92:0-16\nPSA 92:0-5 = PSA 93:0-5\nPSA 93:0-23 = PSA 94:0-23\nPSA 94:0-11 = PSA 95:0-11\nPSA 95:0-13 = PSA 96:0-13\nPSA 96:0-12 = PSA 97:0-12\nPSA 97:0-9 = PSA 98:0-9\nPSA 98:0-9 = PSA 99:0-9\nPSA 99:0-5 = PSA 100:0-5\nPSA 100:0-8 = PSA 101:0-8\nPSA 101:0-29 = PSA 102:0-29\nPSA 102:0-22 = PSA 103:0-22\nPSA 103:0-35 = PSA 104:0-35\nPSA 104:0-45 = PSA 105:0-45\nPSA 105:0-48 = PSA 106:0-48\nPSA 106:0-43 = PSA 107:0-43\nPSA 107:0-14 = PSA 108:0-14\nPSA 108:0-31 = PSA 109:0-31\nPSA 109:0-7 = PSA 110:0-7\nPSA 110:0-10 = PSA 111:0-10\nPSA 111:0-10 = PSA 112:0-10\nPSA 112:0-9 = PSA 113:0-9\nPSA 113:0-8 = PSA 114:0-8\nPSA 113:9 = PSA 115:0\nPSA 113:9-26 = PSA 115:1-18\nPSA 114:0-9 = PSA 116:0-9\nPSA 115:0 = PSA 116:10\nPSA 115:1-10 = PSA 116:10-19\t\nPSA 116:0-2 = PSA 117:0-2\nPSA 117:0-29 = PSA 118:0-29\nPSA 118:0-176 = PSA 119:0-176\nPSA 119:0-7 = PSA 120:0-7\nPSA 120:0-8 = PSA 121:0-8\nPSA 121:0-9 = PSA 122:0-9\nPSA 122:0-4 = PSA 123:0-4\nPSA 123:0-8 = PSA 124:0-8\nPSA 124:0-5 = PSA 125:0-5\nPSA 125:0-6 = PSA 126:0-6\nPSA 126:0-5 = PSA 127:0-5\nPSA 127:0-6 = PSA 128:0-6\nPSA 128:0-8 = PSA 129:0-8\nPSA 129:0-8 = PSA 130:0-8\nPSA 130:0-3 = PSA 131:0-3\nPSA 131:0-18 = PSA 132:0-18\nPSA 132:0-3 = PSA 133:0-3\nPSA 133:0-3 = PSA 134:0-3\nPSA 134:0-21 = PSA 135:0-21\nPSA 135:0-26 = PSA 136:0-26\nPSA 136:0-9 = PSA 137:0-9\nPSA 137:0-8 = PSA 138:0-8\nPSA 138:0-24 = PSA 139:0-24\nPSA 139:0-14 = PSA 140:0-14\nPSA 140:0-10 = PSA 141:0-10\nPSA 141:0-8 = PSA 142:0-8\nPSA 142:0-12 = PSA 143:0-12\nPSA 143:0-15 = PSA 144:0-15\nPSA 144:0-21 = PSA 145:0-21\nPSA 145:0-10 = PSA 146:0-10\n# 146 + 147 -> 147\nPSA 146:0-11 = PSA 147:0-11\nPSA 147:0 = PSA 147:12\nPSA 147:1-9 = PSA 147:12-20\n# PSA 151 -> PS2\nPSA 151:0-7 = PS2 1:0-7\n#\n# Jeremiah according to Rahlfs\n# Added by SS 25.3.2003\n#\n# JER 1-25:13 = JER 1-25:13\n# JER 25:14 = part of JER 49:34\n# JER 25:20 = part of JER 49:34\n# JER 52 = JER 52\n#\nJER 25:14-19 = JER 49:34-39\nJER 25:20 = JER 49:34\nJER 26:1-28 = JER 46:1-28\nJER 27:1-46 = JER 50:1-46\nJER 28:1-64 = JER 51:1-64\nJER 29:1-7 = JER 47:1-7\nJER 30:1-16 = JER 49:7-22\nJER 30:17-22 = JER 49:1-6\nJER 30:23-28 = JER 49:28-33\nJER 30:29-33 = JER 49:23-27\nJER 31:1-44 = JER 48:1-44\n# Verses 31:1-13 do not exist\nJER 32:13 = JER 25:13\n# Verse 32:14 does not exist\nJER 32:15-38 = JER 25:15-38\nJER 33:1-24 = JER 26:1-24\nJER 34:1-22 = JER 27:1-22\nJER 35:1-17 = JER 28:1-17\nJER 36:1-32 = JER 29:1-32\nJER 37:1-24 = JER 30:1-24\nJER 38:1-40 = JER 31:1-40\nJER 39:1-44 = JER 32:1-44\nJER 40:1-13 = JER 33:1-13\nJER 41:1-22 = JER 34:1-22\nJER 42:1-19 = JER 35:1-19\nJER 43:1-32 = JER 36:1-32\nJER 44:1-21 = JER 37:1-21\nJER 45:1-28 = JER 38:1-28\nJER 46:1-3 = JER 39:1-3\n# Verses 46:4-13 do not exist\nJER 46:14-18 = JER 39:14-18\nJER 47:1-16 = JER 40:1-16\nJER 48:1-18 = JER 41:1-18\nJER 49:1-22 = JER 42:1-22\nJER 50:1-13 = JER 43:1-13\nJER 51:1-30 = JER 44:1-30\nJER 51:31-35 = JER 45:1-5\n#\n# Map The Greek versioin of Daniel onto the Hebrew version of Daniel\n# using the Hebrew version as the reference point.\n# Normally DC material would not have any entries in this part of the lxx.vrs file\n# because the LXX serves as the reference point for DC material.\n# Material which is placed in separate books in HEB and LXX (i.e. DAN and DAG)\n# is however placed here and referenced to the HEB reference point.\n#\n# If you have a text in which the DAG material has been (incorrectly) placed into DAN\n# you must create a versification file in which DAN appears as the first book in \n# the following section.  You cannot have both DAN = DAN and DAG = DAN entries\n# in a single file.\nDAG 1:1-21 = DAN 1:1-21\nDAG 2:1-49 = DAN 2:1-49\nDAG 3:1-23 = DAN 3:1-23\nDAG 3:91-97 = DAN 3:24-30\nDAG 4:1-3 = DAN 3:31-33\nDAG 4:4-37 = DAN 4:1-34\nDAG 5:1-31 = DAN 5:1-31\nDAG 6:1-28 = DAN 6:1-28\nDAG 7:1-28 = DAN 7:1-28\nDAG 8:1-27 = DAN 8:1-27\nDAG 9:1-27 = DAN 9:1-27\nDAG 10:1-21 = DAN 10:1-21\nDAG 11:1-45 = DAN 11:1-45 \nDAG 12:1-13 = DAN 12:1-13\n#\n# No entries present for S3Y because this book would not normally be present in a text based\n# on the LXX versification. The S3Y material would instead start at DAG 3:24.\n#\n# When Ezra-Nehemiah is one book Ezra 11-23 maps onto Nehemiah\n# LXX mapping onto BHS\nEZR 11:1-11 = NEH 1:1-11\nEZR 12:1-20 = NEH 2:1-20\nEZR 13:1-38 = NEH 3:1-38\nEZR 14:1-17 = NEH 4:1-17\nEZR 15:1-19 = NEH 5:1-19\nEZR 16:1-19 = NEH 6:1-19\nEZR 17:1-72 = NEH 7:1-72\nEZR 18:1-18 = NEH 8:1-18\nEZR 19:1-37 = NEH 9:1-37\nEZR 20:1-40 = NEH 10:1-40\nEZR 21:1-36 = NEH 11:1-36\nEZR 22:1-47 = NEH 12:1-47\nEZR 23:1-31 = NEH 13:1-31\n#---------------------------\n# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]\n2ES 3:1-36 = EZA 1:1-36\n2ES 4:1-52 = EZA 2:1-52\n2ES 5:1-56 = EZA 3:1-56\n2ES 6:1-59 = EZA 4:1-59\n2ES 7:1-35 = EZA 5:1-35\n2ES 7:106-140 = EZA 5:36-70\n2ES 8:1-63 = EZA 6:1-63\n2ES 9:1-47 = EZA 7:1-47\n2ES 10:1-60 = EZA 8:1-60\n2ES 11:1-46 = EZA 9:1-46\n2ES 12:1-51 = EZA 10:1-51\n2ES 13:1-58 = EZA 11:1-58\n2ES 14:1-48 = EZA 12:1-48\n#----------------------------\n# Some texts (but not LXX) contain SUS and BEL as chapters 13 and 14 of DAG.\n# There should not be any entries for DAG 13 and DAG 14 in the lxx.vrs because these chapters do not \n# exist in the LXX.\n# If you have a text which has DAG 13 and 14 you will need to have a .vrs file that includes the following\n# two mapping.\n#\n# Susanna\n# DAG 13:1-63 = SUS 1:1-63\n# Bel and the Dragon\n# DAG 14:1-42 = BEL 1:1-42\n#\n#----------------------------\n# Verse segment information for the Septuagint.\n# The verse segment information is preceded by a '#!' so that it will be ignored by versions \n# of Paratext prior to Paratext 7.3 (and thus avoid crashing it with an unexpected format). \n#! *EXO 28:29,-,a \n#! *EXO 35:12,-,a \n#! *JOS 9:2,-,a,b,c,d,e,f \n#! *JOS 15:59,-,a \n#! *JOS 19:47,-,a \n#! *JOS 19:48,-,a \n#! *JOS 21:42,-,a,b,c,d \n#! *JOS 24:31,-,a \n#! *JOS 24:33,-,a,b \n#! *1SA 30:28,-,a \n#! *2SA 5:16,-,a \n#! *1KI 2:35,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o \n#! *1KI 2:46,-,a,b,c,d,e,f,g,h,i,k,l \n#! *1KI 5:14,-,a,b \n#! *1KI 6:1,-,a,b,c,d \n#! *1KI 6:36,-,a \n#! *1KI 8:53,-,a \n#! *1KI 9:9,-,a \n#! *1KI 10:22,-,a,b,c \n#! *1KI 10:26,-,a \n#! *1KI 12:24,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x,y,z \n#! *1KI 16:28,-,a,b,c,d,e,f,g,h \n#! *2KI 1:18,-,a,b,c,d \n#! *2CH 35:19,-,a,b,c,d \n#! *2CH 36:2,-,a,b,c \n#! *2CH 36:4,-,a \n#! *2CH 36:5,-,a,b,c,d \n#! *JOB 2:9,-,a,b,c,d,e \n#! *JOB 19:4,-,a \n#! *JOB 23:15,-,a \n#! *JOB 36:28,-,a,b \n#! *JOB 42:17,-,a,b,c,d,e \n#! *PSA 144:13,-,a \n#! *PRO 3:16,-,a \n#! *PRO 3:22,-,a \n#! *PRO 4:27,-,a,b \n#! *PRO 6:8,-,a,b,c \n#! *PRO 6:11,-,a \n#! *PRO 7:1,-,a \n#! *PRO 8:21,-,a \n#! *PRO 9:10,-,a \n#! *PRO 9:12,-,a,b,c \n#! *PRO 9:18,-,a,b,c,d \n#! *PRO 10:4,-,a \n#! *PRO 12:11,-,a \n#! *PRO 12:13,-,a \n#! *PRO 13:9,-,a \n#! *PRO 13:13,-,a \n#! *PRO 15:18,-,a \n#! *PRO 15:27,-,a \n#! *PRO 15:28,-,a \n#! *PRO 15:29,-,a,b \n#! *PRO 17:6,-,a \n#! *PRO 17:16,-,a \n#! *PRO 18:22,-,a \n#! *PRO 20:9,-,a,b,c \n#! *PRO 22:8,-,a \n#! *PRO 22:9,-,a \n#! *PRO 22:14,-,a \n#! *PRO 24:22,-,a,b,c,d,e \n#! *PRO 25:10,-,a \n#! *PRO 25:20,-,a \n#! *PRO 26:11,-,a \n#! *PRO 27:20,-,a \n#! *PRO 27:21,-,a \n#! *PRO 28:17,-,a \n#! *ESG 1:1,-,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s \n#! *ESG 3:13,-,a,b,c,d,e,f,g \n#! *ESG 4:17,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,w,x,y,z \n#! *ESG 5:1,-,a,b,c,d,e,f \n#! *ESG 5:2,-,a,b \n#! *ESG 8:12,-,a,b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,x \n#! *ESG 10:3,-,a,b,c,d,e,f,g,h,i,k,l \n#! *SIR 1:1,-,a,b,c,d,e,f,g,h \n"},org:{raw:'# Versification  "Original" \n# Version=1.200\n# (not a very good name but I have not heard a better suggestion)\n#\n# modifications by Studge 26/June/2009\n#\n# BHS versification for OT, UBS GNT versification for NT\n# following the Masoretic order\n# OT translations using Masorteic verse structures should map onto this text\n# NT versifications maps onto Nestle-Aland\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing =\'s below for verse mappings.\n#\n#---------------------------------------------------------------\n# Old Testament\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:54 32:33 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:29 8:28 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:37 22:30 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38\nLEV 1:17 2:16 3:17 4:35 5:26 6:23 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:16 13:33 14:45 15:41 16:35 17:28 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:19 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:31 13:19 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:29 23:26 24:22 25:19 26:19 27:26 28:69 29:28 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:42 21:16 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:32 19:44 20:26 21:22 22:51 23:39 24:25\n1KI 1:53 2:46 3:28 4:20 5:32 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:20 12:22 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n1CH 1:54 2:55 3:24 4:43 5:41 6:66 7:40 8:40 9:44 10:14 11:47 12:41 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:18 2:17 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:23 14:14 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44\nNEH 1:11 2:20 3:38 4:17 5:19 6:19 7:72 8:18 9:37 10:40 11:36 12:47 13:31\nEST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:30 40:32 41:26 42:17\nPSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:21 10:18 11:7 12:9 13:6 14:7 15:5 16:11 17:15 18:51 19:15 20:10 21:14 22:32 23:6 24:10 25:22 26:12 27:14 28:9 29:11 30:13 31:25 32:11 33:22 34:23 35:28 36:13 37:40 38:23 39:14 40:18 41:14 42:12 43:5 44:27 45:18 46:12 47:10 48:15 49:21 50:23 51:21 52:11 53:7 54:9 55:24 56:14 57:12 58:12 59:18 60:14 61:9 62:13 63:12 64:11 65:14 66:20 67:8 68:36 69:37 70:6 71:24 72:20 73:28 74:23 75:11 76:13 77:21 78:72 79:13 80:20 81:17 82:8 83:19 84:13 85:14 86:17 87:7 88:19 89:53 90:17 91:16 92:16 93:5 94:23 95:11 96:13 97:12 98:9 99:9 100:5 101:8 102:29 103:22 104:35 105:45 106:48 107:43 108:14 109:31 110:7 111:10 112:10 113:9 114:8 115:18 116:19 117:2 118:29 119:176 120:7 121:8 122:9 123:4 124:8 125:5 126:6 127:5 128:6 129:8 130:8 131:3 132:18 133:3 134:3 135:21 136:26 137:9 138:8 139:24 140:14 141:10 142:8 143:12 144:15 145:21 146:10 147:20 148:14 149:9 150:6\nPRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14\nSNG 1:17 2:17 3:11 4:16 5:16 6:12 7:14 8:14\nISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:23 9:20 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:11 65:25 66:24\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:23 9:25 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:44 21:37 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\nDAN 1:21 2:49 3:33 4:34 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\nHOS 1:9 2:25 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:11 12:15 13:15 14:10\nJOL 1:20 2:27 3:5 4:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15\nOBA 1:21\nJON 1:16 2:11 3:10 4:11\nMIC 1:16 2:13 3:12 4:14 5:14 6:16 7:20\nNAM 1:14 2:14 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:15 2:23\nZEC 1:17 2:17 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:24\n#---------------------------------------------------------\n# New Testament books\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n#------------------------------------------------\n# Deuterocanonical books from the LXX which are in the Catholic tradition\nTOB 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\nJDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25\nESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13\nWIS 1:16 2:24 3:19 4:20 5:23 6:25 7:30 8:21 9:18 10:21 11:26 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:22\nSIR 1:30 2:18 3:31 4:31 5:15 6:37 7:36 8:19 9:18 10:31 11:34 12:18 13:26 14:27 15:20 16:30 17:32 18:33 19:30 20:31 21:28 22:27 23:27 24:34 25:26 26:29 27:30 28:26 29:28 30:25 31:31 32:24 33:33 34:26 35:24 36:27 37:31 38:34 39:35 40:30 41:27 42:25 43:33 44:23 45:26 46:20 47:25 48:25 49:16 50:29 51:30\nBAR 1:22 2:35 3:38 4:37 5:9\nLJE 1:72\nS3Y 1:67\nSUS 1:64\nBEL 1:42\n1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24\n2MA 1:36 2:32 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39\n#---------------------------------------------------\n# Additional Orthodox books from the LXX\n3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23\n4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24\n1ES 1:55 2:26 3:24 4:63 5:71 6:33 7:15 8:92 9:55\n# This was the wrong definition for 2ES\n# 2ES 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44 11:11 12:20 13:37 14:17 15:19 16:19 17:73 18:18 19:37 20:40 21:36 22:47 23:31\n# This is the correct definition of 2ES, the "original" book was EZA\n2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:140 8:63 9:47 10:59 11:46 12:51 13:58 14:48 15:63 16:78\nMAN 1:15\nPS2 1:7\n#-------------------------------------------------------\n# ODA and PSS are only in the LXX and SYR projects. \nODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46\nPSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12\n#-------------------------------------------------------\n# the following codes are for obselete LXX variants only in LXX and not supported in PT 7\nJSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nTBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\nSST 1:64\nDNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\nBLT 1:42\n#\n# No mappings are present for this versification since it represents\n# the "standard" versification to which all OT and NT texts are mapped in these files.\n# (DC texts follow the LXX)\n#\n#-------------------------------------------------------\n# Apocalypse of Ezra [Studge]\nEZA 1:36 2:52 3:56 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:48\n#--------------------------------------------------------\n# Jubilees and Enoch have both been found in the Hebrew [Studge]\n# might be needed if we add Dead Sea Scrolls\n# Jubilees (Ethiopian canon)\nJUB 1:26 2:17 3:19 4:24 5:36 6:34 7:37 8:40 9:27 10:48 11:39 12:56 13:34 14:55 15:20 16:28 17:30 18:31 19:59 20:66 21:30 22:38 23:59 24:30 25:50 26:48 27:37 28:38 29:27 30:29 31:31 32:24 33:30 34:20\n# Enoch (Ethiopian canon)\nENO 1:28 2:42 3:30 4:88 5:40 6:42 7:39 8:46 9:42 10:16 11:19 12:40 13:34 14:35 15:45 16:41 17:69 18:42 19:29 20:53 21:57 22:14 23:26 24:16 25:30 26:37 27:21 28:34 29:28 30:23 31:29 32:82 33:59 34:49 35:36 36:30 37:34 38:36 39:24 40:40 41:22 42:16\n#\n# S3Y is a small section of the DAG LXX pulled out and translated as a separate book.\n# Map it back to the LXX.  This section allow\'s texts such as TOB (French) which do\n# this to scroll correctly with the LXX.\n# S3Y is not present in the GRK, HEB, or LXX(Ralphs) text.\n# If a text has DAG present, this section must NOT be included in its versification file because\n# that would cause references in other texts to DAG to be redirected to a non-existant S3Y.\nS3Y 1:1-29 = DAG 3:24-52\nS3Y 1:30-31 = DAG 3:52-53\nS3Y 1:33 = DAG 3:54\nS3Y 1:32 = DAG 3:55\nS3Y 1:34-35 = DAG 3:56-57\nS3Y 1:37 = DAG 3:58\nS3Y 1:36 = DAG 3:59\nS3Y 1:38-68 = DAG 3:60-90\n'},rsc:{raw:'# Versification  "Russian Protestant"\n# Version=1.4\n#\n# This is the versification used by the "Canonical" (Protestant) edition of the Russian Synodal Bible\n# Initial version provided by Peter_Kirk@sil.org\n# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:\n#   Number of vss: ISA 3; REV 12\n#   Mappings: LEV 14; 1KI 22; 1CH 12; NEH 7; ISA 3; 2CO 11; REV 13\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing =\'s below for verse mappings.\n#\n#------------------------------------------------------------\n# Old Testament\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38\nLEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\nJDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25\n1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44\nNEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31\nEST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17\nPSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6\nPRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14\nSNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14\nISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\nDAN 1:21 2:49 3:33 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13\nHOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10\nJOL 1:20 2:32 3:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15\nOBA 1:21\nJON 1:16 2:11 3:10 4:11\nMIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20\nNAM 1:15 2:13 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:15 2:23\nZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:18 4:6\n#-------------------------------------------------------\n# New Testament books\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n#\n#------------------------------------------------------------\n# Mapping\n#-------------------------------------------------------------\n# Russian = BHS (see org.vrs)\n#\n# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)\n#\nGEN 31:55 = GEN 32:1\nGEN 32:1-32 = GEN 32:2-33\nEXO 8:1-4 = EXO 7:26-29\nEXO 8:5-32 = EXO 8:1-28\nEXO 22:1 = EXO 21:37\nEXO 22:2-31 = EXO 22:1-30\nLEV 6:1-7 = LEV 5:20-26\nLEV 6:8-30 = LEV 6:1-23\n# LEV 14:55b = LEV 14:56   # cant handle split verses yet\nLEV 14:55 = LEV 14:55\nLEV 14:55 = LEV 14:56\nLEV 14:56 = LEV 14:57\nNUM 13:1 = NUM 12:16\nNUM 13:2-34 = NUM 13:1-33\nNUM 16:36-50 = NUM 17:1-15\nNUM 17:1-13 = NUM 17:16-28\nNUM 26:1 = NUM 25:19\nNUM 26:1 = NUM 26:1\nDEU 12:32 = DEU 13:1\nDEU 13:1-18 = DEU 13:2-19\nDEU 22:30 = DEU 23:1\nDEU 23:1-25 = DEU 23:2-26\nDEU 29:1 = DEU 28:69\nDEU 29:2-29 = DEU 29:1-28\nJOS 5:16 = JOS 6:1\nJOS 6:1-26 = JOS 6:2-27\n1SA 20:43 = 1SA 21:1\n1SA 21:1-15 = 1SA 21:2-16\n2SA 18:33 = 2SA 19:1\n2SA 19:1-43 = 2SA 19:2-44\n1KI 4:21-34 = 1KI 5:1-14\n1KI 5:1-18 = 1KI 5:15-32\n#1KI 22:43b = 1KI 22:44   # cant handle split verses yet\n1KI 22:43 = 1KI 22:43\n1KI 22:43 = 1KI 22:44\n1KI 22:44-53 = 1KI 22:45-54\n2KI 11:21 = 2KI 12:1\n2KI 12:1-21 = 2KI 12:2-22\n1CH 6:1-15 = 1CH 5:27-41\n1CH 6:16-81 = 1CH 6:1-66\n# 1CH 12:4b = 1CH 12:5   # cant handle split verses yet\n1CH 12:4 = 1CH 12:4\n1CH 12:4 = 1CH 12:5\n1CH 12:5-40 = 1CH 12:6-41\n2CH 2:1 = 2CH 1:18\n2CH 2:2-18 = 2CH 2:1-17\n2CH 14:1 = 2CH 13:23\n2CH 14:2-15 = 2CH 14:1-14\nNEH 4:1-6 = NEH 3:33-38\nNEH 4:7-23 = NEH 4:1-17\n# NEH 7:68 = NEH 7:67b   # cant handle split verses yet\nNEH 7:67 = NEH 7:67\nNEH 7:68 = NEH 7:67\nNEH 7:69-73 = NEH 7:68-72\nNEH 9:38 = NEH 10:1\nNEH 10:1-39 = NEH 10:2-40\nJOB 39:31-35 = JOB 40:1-5\nJOB 40:1-19 = JOB 40:6-24\nJOB 40:20-27 = JOB 40:25-32\n# PSA 9 = 9+10\nPSA 9:22 = PSA 10:0\nPSA 9:22-39 = PSA 10:1-18\nPSA 10:0-7 = PSA 11:0-7\nPSA 11:0-9 = PSA 12:0-9\nPSA 12:0-6 = PSA 13:0-6\nPSA 13:0-7 = PSA 14:0-7\nPSA 14:0-5 = PSA 15:0-5\nPSA 15:0-11 = PSA 16:0-11\nPSA 16:0-15 = PSA 17:0-15\nPSA 17:0-51 = PSA 18:0-51\nPSA 18:0-15 = PSA 19:0-15\nPSA 19:0-10 = PSA 20:0-10\nPSA 20:0-14 = PSA 21:0-14\nPSA 21:0-32 = PSA 22:0-32\nPSA 22:0-6 = PSA 23:0-6\nPSA 23:0-10 = PSA 24:0-10\nPSA 24:0-22 = PSA 25:0-22\nPSA 25:0-12 = PSA 26:0-12\nPSA 26:0-14 = PSA 27:0-14\nPSA 27:0-9 = PSA 28:0-9\nPSA 28:0-11 = PSA 29:0-11\nPSA 29:0-13 = PSA 30:0-13\nPSA 30:0-25 = PSA 31:0-25\nPSA 31:0-11 = PSA 32:0-11\nPSA 32:0-22 = PSA 33:0-22\nPSA 33:0-23 = PSA 34:0-23\nPSA 34:0-28 = PSA 35:0-28\nPSA 35:0-13 = PSA 36:0-13\nPSA 36:0-40 = PSA 37:0-40\nPSA 37:0-23 = PSA 38:0-23\nPSA 38:0-14 = PSA 39:0-14\nPSA 39:0-18 = PSA 40:0-18\nPSA 40:0-14 = PSA 41:0-14\nPSA 41:0-12 = PSA 42:0-12\nPSA 42:0-5 = PSA 43:0-5\nPSA 43:0-27 = PSA 44:0-27\nPSA 44:0-18 = PSA 45:0-18\nPSA 45:0-12 = PSA 46:0-12\nPSA 46:0-10 = PSA 47:0-10\nPSA 47:0-15 = PSA 48:0-15\nPSA 48:0-21 = PSA 49:0-21\nPSA 49:0-23 = PSA 50:0-23\nPSA 50:0-21 = PSA 51:0-21\nPSA 51:0-11 = PSA 52:0-11\nPSA 52:0-7 = PSA 53:0-7\nPSA 53:0-9 = PSA 54:0-9\nPSA 54:0-24 = PSA 55:0-24\nPSA 55:0-14 = PSA 56:0-14\nPSA 56:0-12 = PSA 57:0-12\nPSA 57:0-12 = PSA 58:0-12\nPSA 58:0-18 = PSA 59:0-18\nPSA 59:0-14 = PSA 60:0-14\nPSA 60:0-9 = PSA 61:0-9\nPSA 61:0-13 = PSA 62:0-13\nPSA 62:0-12 = PSA 63:0-12\nPSA 63:0-11 = PSA 64:0-11\nPSA 64:0-14 = PSA 65:0-14\nPSA 65:0-20 = PSA 66:0-20\nPSA 66:0-8 = PSA 67:0-8\nPSA 67:0-36 = PSA 68:0-36\nPSA 68:0-37 = PSA 69:0-37\nPSA 69:0-6 = PSA 70:0-6\nPSA 70:0-24 = PSA 71:0-24\nPSA 71:0-20 = PSA 72:0-20\nPSA 72:0-28 = PSA 73:0-28\nPSA 73:0-23 = PSA 74:0-23\nPSA 74:0-11 = PSA 75:0-11\nPSA 75:0-13 = PSA 76:0-13\nPSA 76:0-21 = PSA 77:0-21\nPSA 77:0-72 = PSA 78:0-72\nPSA 78:0-13 = PSA 79:0-13\nPSA 79:0-20 = PSA 80:0-20\nPSA 80:0-17 = PSA 81:0-17\nPSA 81:0-8 = PSA 82:0-8\nPSA 82:0-19 = PSA 83:0-19\nPSA 83:0-13 = PSA 84:0-13\nPSA 84:0-14 = PSA 85:0-14\nPSA 85:0-17 = PSA 86:0-17\nPSA 86:0-1 = PSA 87:0-1\nPSA 86:2 = PSA 87:1\nPSA 86:2-7 = PSA 87:2-7\nPSA 87:0-19 = PSA 88:0-19\nPSA 88:0-53 = PSA 89:0-53\nPSA 89:0-1 = PSA 90:0\nPSA 89:2-6 = PSA 90:1-5\nPSA 89:6 = PSA 90:6\nPSA 89:7-17 = PSA 90:7-17\nPSA 90:0-16 = PSA 91:0-16\nPSA 91:0-16 = PSA 92:0-16\nPSA 92:0-5 = PSA 93:0-5\nPSA 93:0-23 = PSA 94:0-23\nPSA 94:0-11 = PSA 95:0-11\nPSA 95:0-13 = PSA 96:0-13\nPSA 96:0-12 = PSA 97:0-12\nPSA 97:0-9 = PSA 98:0-9\nPSA 98:0-9 = PSA 99:0-9\nPSA 99:0-5 = PSA 100:0-5\nPSA 100:0-8 = PSA 101:0-8\nPSA 101:0-29 = PSA 102:0-29\nPSA 102:0-22 = PSA 103:0-22\nPSA 103:0-35 = PSA 104:0-35\nPSA 104:0-45 = PSA 105:0-45\nPSA 105:0-48 = PSA 106:0-48\nPSA 106:0-43 = PSA 107:0-43\nPSA 107:0-14 = PSA 108:0-14\nPSA 108:0-31 = PSA 109:0-31\nPSA 109:0-7 = PSA 110:0-7\nPSA 110:0-10 = PSA 111:0-10\nPSA 111:0-10 = PSA 112:0-10\nPSA 112:0-9 = PSA 113:0-9\nPSA 113:0-8 = PSA 114:0-8\nPSA 113:9 = PSA 115:0\nPSA 113:9-26 = PSA 115:1-18\nPSA 114:0-9 = PSA 116:0-9\nPSA 115:0 = PSA 116:10\nPSA 115:1-10 = PSA 116:10-19\t\nPSA 116:0-2 = PSA 117:0-2\nPSA 117:0-29 = PSA 118:0-29\nPSA 118:0-176 = PSA 119:0-176\nPSA 119:0-7 = PSA 120:0-7\nPSA 120:0-8 = PSA 121:0-8\nPSA 121:0-9 = PSA 122:0-9\nPSA 122:0-4 = PSA 123:0-4\nPSA 123:0-8 = PSA 124:0-8\nPSA 124:0-5 = PSA 125:0-5\nPSA 125:0-6 = PSA 126:0-6\nPSA 126:0-5 = PSA 127:0-5\nPSA 127:0-6 = PSA 128:0-6\nPSA 128:0-8 = PSA 129:0-8\nPSA 129:0-8 = PSA 130:0-8\nPSA 130:0-3 = PSA 131:0-3\nPSA 131:0-18 = PSA 132:0-18\nPSA 132:0-3 = PSA 133:0-3\nPSA 133:0-3 = PSA 134:0-3\nPSA 134:0-21 = PSA 135:0-21\nPSA 135:0-26 = PSA 136:0-26\nPSA 136:0-9 = PSA 137:0-9\nPSA 137:0-8 = PSA 138:0-8\nPSA 138:0-24 = PSA 139:0-24\nPSA 139:0-14 = PSA 140:0-14\nPSA 140:0-10 = PSA 141:0-10\nPSA 141:0 = PSA 142:0-1\nPSA 141:1-7 = PSA 142:2-8\nPSA 142:0-12 = PSA 143:0-12\nPSA 143:0-15 = PSA 144:0-15\nPSA 144:0-21 = PSA 145:0-21\nPSA 145:0-10 = PSA 146:0-10\n# 146 + 147 -> 147\nPSA 146:0-11 = PSA 147:0-11\nPSA 147:0 = PSA 147:12\nPSA 147:1-9 = PSA 147:12-20\nSNG 1:1-16 = SNG 1:2-17\n# ISA 3:19b = ISA 3:20   # cant handle split verses yet\nISA 3:19 = ISA 3:19\nISA 3:19 = ISA 3:20\nISA 3:20-25 = ISA 3:21-26\nISA 9:1 = ISA 8:23\nISA 9:2-21 = ISA 9:1-20\nISA 63:19 = ISA 63:19\nISA 64:1 = ISA 63:19\nISA 64:2-12 = ISA 64:1-11\nJER 9:1 = JER 8:23\nJER 9:2-26 = JER 9:1-25\nEZK 20:45-49 = EZK 21:1-5\nEZK 21:1-32 = EZK 21:6-37\nDAN 5:31 = DAN 6:1\nDAN 6:1-28 = DAN 6:2-29\nHOS 1:10-11 = HOS 2:1-2\nHOS 2:1-23 = HOS 2:3-25\nHOS 11:12 = HOS 12:1\nHOS 12:1-14 = HOS 12:2-15\nJOL 2:28-32 = JOL 3:1-5\nJOL 3:1-21 = JOL 4:1-21\nMIC 5:1 = MIC 4:14\nMIC 5:2-15 = MIC 5:1-14\nNAM 1:15 = NAM 2:1\nNAM 2:1-13 = NAM 2:2-14\nZEC 1:18-21 = ZEC 2:1-4\nZEC 2:1-13 = ZEC 2:5-17\nMAL 4:1-6 = MAL 3:19-24\nROM 14:24-26 = ROM 16:25-27\n# 2CO 11:32b = 2CO 11:33   # cant handle split verses yet\n2CO 11:32 = 2CO 11:32\n2CO 11:32 = 2CO 11:33\n# REV 13:1a = REV 12:18   # cant handle split verses yet\n# REV 13:1b = REV 13:1    # cant handle split verses yet\nREV 13:1 = REV 12:18\nREV 13:1 = REV 13:1\n'},rso:{raw:'# Versification  "Russian Orthodox"\n# Version=1.3\n#\n# This is the versification used by the Orthodox (or "non-canonical") edition of the Russian Synodal Bible\n# Initial version provided by Peter_Kirk@sil.org\n# Corrected 27/May/2003 by matjaz.crnivec@drustvo-svds.si:\n#   Number of vss: 2CH 37; PSA 114; ISA 3; REV 12; 2ES (whole book added),\n#   Mappings: LEV 14; 1KI 22; 1CH 12; 2CH 37; NEH 7; PSA 114; ISA 3; 2CO 11; REV 13; 2ES 7; 10\n#\n# modifications by Studge 26/June/2009\n# amended by HAB April 2010\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing =\'s below for verse mappings.\n#\n#----------------------------------------------------------\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:33 50:26\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:38\nLEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:56 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:46 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:35 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:29 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:24 5:16 6:26 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:36\nJDG 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25\n1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:53\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:47 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:8 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23 37:12\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44\nNEH 1:11 2:20 3:32 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:47 13:31\n#--------------\n# Notes EST is the Greek Esther which should have been under ESG\nEST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\n#--------------\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:22 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:27 41:26 42:17\nPSA 1:6 2:12 3:9 4:9 5:13 6:11 7:18 8:10 9:39 10:7 11:9 12:6 13:7 14:5 15:11 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:27 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:14 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:8 115:10 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:7 142:12 143:15 144:21 145:10 146:11 147:9 148:14 149:9 150:6 151:7\nPRO 1:33 2:22 3:35 4:29 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:26 14:35 15:33 16:33 17:28 18:25 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:17 5:19 6:12 7:29 8:17 9:18 10:20 11:10 12:14\nSNG 1:16 2:17 3:11 4:16 5:16 6:12 7:14 8:14\nISA 1:31 2:22 3:25 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:21 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:10 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\nDAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42\nHOS 1:11 2:23 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10\nJOL 1:20 2:32 3:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:14 7:17 8:14 9:15\nOBA 1:21\nJON 1:16 2:11 3:10 4:11\nMIC 1:16 2:13 3:12 4:13 5:15 6:16 7:20\nNAM 1:15 2:13 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:15 2:23\nZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:18 4:6\n#----------------------------------------------------\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:27 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:41 5:43 6:56 7:37 8:38 9:50 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:71 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:60 8:40 9:43 10:48 11:30 12:25 13:52 14:28 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:26 15:33 16:24\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:32 12:21 13:13\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:17 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n#---------------------------------------------\nTOB 1:22 2:14 3:17 4:21 5:22 6:18 7:17 8:21 9:6 10:13 11:18 12:22 13:18 14:15\nJDT 1:16 2:28 3:10 4:15 5:24 6:21 7:32 8:36 9:14 10:23 11:23 12:20 13:20 14:19 15:14 16:25\n# ESG added which ought to replace EST\nESG 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:3\nWIS 1:16 2:24 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:28 13:19 14:31 15:19 16:29 17:20 18:25 19:21\nSIR 1:30 2:18 3:31 4:35 5:18 6:37 7:39 8:22 9:23 10:34 11:34 12:18 13:32 14:27 15:20 16:31 17:31 18:33 19:28 20:31 21:31 22:31 23:37 24:37 25:29 26:27 27:33 28:30 29:31 30:27 31:37 32:25 33:33 34:26 35:23 36:29 37:34 38:39 39:42 40:32 41:29 42:26 43:36 44:27 45:31 46:23 47:31 48:28 49:18 50:31 51:38\nBAR 1:22 2:35 3:38 4:37 5:9\nLJE 1:72\n1MA 1:64 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:53 13:53 14:49 15:41 16:24\n2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:45 13:26 14:46 15:39\n3MA 1:25 2:24 3:22 4:16 5:36 6:37 7:20\n1ES 1:58 2:31 3:24 4:63 5:70 6:34 7:15 8:92 9:55\n# in the Russian tradition the book of 1ES is called 2 Esdras [Studge]\n2ES 1:40 2:48 3:36 4:52 5:56 6:59 7:70 8:63 9:47 10:60 11:46 12:51 13:58 14:48 15:63 16:78\n# in the Russian tradition the book of 2ES is called 3 Esdras [Studge]\n# added Prayer of Manasseh which is appended to 2 Chronicles in RSO\nMAN 1:15\n#\n#----------------------------------------------\n# Mapping\n#----------------------------------------------\n# Russian = BHS (see org.vrs)\n#\n# (Note: ranges must not span a chapter, e.g. 4:10-5:11 is illegal)\n#\nGEN 31:55 = GEN 32:1\nGEN 32:1-32 = GEN 32:2-33\nEXO 8:1-4 = EXO 7:26-29\nEXO 8:5-32 = EXO 8:1-28\nEXO 22:1 = EXO 21:37\nEXO 22:2-31 = EXO 22:1-30\nLEV 6:1-7 = LEV 5:20-26\nLEV 6:8-30 = LEV 6:1-23\n# LEV 14:55 = LEV 14:55-56\nLEV 14:55 = LEV 14:55\nLEV 14:55 = LEV 14:56\nLEV 14:56 = LEV 14:57\nNUM 13:1 = NUM 12:16\nNUM 13:2-34 = NUM 13:1-33\nNUM 16:36-50 = NUM 17:1-15\nNUM 17:1-13 = NUM 17:16-28\nNUM 26:1 = NUM 25:19\nNUM 26:1 = NUM 26:1\nDEU 12:32 = DEU 13:1\nDEU 13:1-18 = DEU 13:2-19\nDEU 22:30 = DEU 23:1\nDEU 23:1-25 = DEU 23:2-26\nDEU 29:1 = DEU 28:69\nDEU 29:2-29 = DEU 29:1-28\nJOS 5:16 = JOS 6:1\nJOS 6:1-26 = JOS 6:2-27\n1SA 20:43 = 1SA 21:1\n1SA 21:1-15 = 1SA 21:2-16\n2SA 18:33 = 2SA 19:1\n2SA 19:1-43 = 2SA 19:2-44\n1KI 4:21-34 = 1KI 5:1-14\n1KI 5:1-18 = 1KI 5:15-32\n# 1KI 22:43 = 1KI 22:43-44\n1KI 22:43 = 1KI 22:43\n1KI 22:43 = 1KI 22:44\n1KI 22:44-53 = 1KI 22:45-54\n2KI 11:21 = 2KI 12:1\n2KI 12:1-21 = 2KI 12:2-22\n1CH 6:1-15 = 1CH 5:27-41\n1CH 6:16-81 = 1CH 6:1-66\n# 1CH 12:4 = 1CH 12:4-5\n1CH 12:4 = 1CH 12:4\n1CH 12:4 = 1CH 12:5\n1CH 12:5-40 = 1CH 12:6-41\n2CH 2:1 = 2CH 1:18\n2CH 2:2-18 = 2CH 2:1-17\n2CH 14:1 = 2CH 13:23\n2CH 14:2-15 = 2CH 14:1-14\n# All the 37th chapter maps across verse boundaries!\n#-----------------------\n# Prayer of Manasseh\n2CH 37:1 = MAN 1:1\n2CH 37:2 = MAN 1:2\n2CH 37:2 = MAN 1:3\n2CH 37:2 = MAN 1:4\n2CH 37:2 = MAN 1:5\n2CH 37:3 = MAN 1:5\n2CH 37:4 = MAN 1:6\n2CH 37:5 = MAN 1:7\n2CH 37:6 = MAN 1:7\n2CH 37:6 = MAN 1:8\n2CH 37:7 = MAN 1:8\n2CH 37:7 = MAN 1:9\n2CH 37:8 = MAN 1:9\n2CH 37:8 = MAN 1:10\n2CH 37:9 = MAN 1:10\n2CH 37:10 = MAN 1:10\n2CH 37:10 = MAN 1:11\n2CH 37:11 = MAN 1:12\n2CH 37:11 = MAN 1:13\n2CH 37:11 = MAN 1:14\n2CH 37:11 = MAN 1:15\n2CH 37:12 = MAN 1:15\n#--------------------------\nNEH 4:1-6 = NEH 3:33-38\nNEH 4:7-23 = NEH 4:1-17\n# NEH 7:67-68 = NEH 7:67\nNEH 7:67 = NEH 7:67\nNEH 7:68 = NEH 7:67\nNEH 7:69-73 = NEH 7:68-72\nNEH 9:38 = NEH 10:1\nNEH 10:1-39 = NEH 10:2-40\nJOB 39:31-35 = JOB 40:1-5\nJOB 40:1-19 = JOB 40:6-24\nJOB 40:20-27 = JOB 40:25-32\n# PSA 9 = 9+10\nPSA 9:22 = PSA 10:0\nPSA 9:22-39 = PSA 10:1-18\nPSA 10:0-7 = PSA 11:0-7\nPSA 11:0-9 = PSA 12:0-9\nPSA 12:0-6 = PSA 13:0-6\nPSA 13:0-7 = PSA 14:0-7\nPSA 14:0-5 = PSA 15:0-5\nPSA 15:0-11 = PSA 16:0-11\nPSA 16:0-15 = PSA 17:0-15\nPSA 17:0-51 = PSA 18:0-51\nPSA 18:0-15 = PSA 19:0-15\nPSA 19:0-10 = PSA 20:0-10\nPSA 20:0-14 = PSA 21:0-14\nPSA 21:0-32 = PSA 22:0-32\nPSA 22:0-6 = PSA 23:0-6\nPSA 23:0-10 = PSA 24:0-10\nPSA 24:0-22 = PSA 25:0-22\nPSA 25:0-12 = PSA 26:0-12\nPSA 26:0-14 = PSA 27:0-14\nPSA 27:0-9 = PSA 28:0-9\nPSA 28:0-11 = PSA 29:0-11\nPSA 29:0-13 = PSA 30:0-13\nPSA 30:0-25 = PSA 31:0-25\nPSA 31:0-11 = PSA 32:0-11\nPSA 32:0-22 = PSA 33:0-22\nPSA 33:0-23 = PSA 34:0-23\nPSA 34:0-28 = PSA 35:0-28\nPSA 35:0-13 = PSA 36:0-13\nPSA 36:0-40 = PSA 37:0-40\nPSA 37:0-23 = PSA 38:0-23\nPSA 38:0-14 = PSA 39:0-14\nPSA 39:0-18 = PSA 40:0-18\nPSA 40:0-14 = PSA 41:0-14\nPSA 41:0-12 = PSA 42:0-12\nPSA 42:0-5 = PSA 43:0-5\nPSA 43:0-27 = PSA 44:0-27\nPSA 44:0-18 = PSA 45:0-18\nPSA 45:0-12 = PSA 46:0-12\nPSA 46:0-10 = PSA 47:0-10\nPSA 47:0-15 = PSA 48:0-15\nPSA 48:0-21 = PSA 49:0-21\nPSA 49:0-23 = PSA 50:0-23\nPSA 50:0-21 = PSA 51:0-21\nPSA 51:0-11 = PSA 52:0-11\nPSA 52:0-7 = PSA 53:0-7\nPSA 53:0-9 = PSA 54:0-9\nPSA 54:0-24 = PSA 55:0-24\nPSA 55:0-14 = PSA 56:0-14\nPSA 56:0-12 = PSA 57:0-12\nPSA 57:0-12 = PSA 58:0-12\nPSA 58:0-18 = PSA 59:0-18\nPSA 59:0-14 = PSA 60:0-14\nPSA 60:0-9 = PSA 61:0-9\nPSA 61:0-13 = PSA 62:0-13\nPSA 62:0-12 = PSA 63:0-12\nPSA 63:0-11 = PSA 64:0-11\nPSA 64:0-14 = PSA 65:0-14\nPSA 65:0-20 = PSA 66:0-20\nPSA 66:0-8 = PSA 67:0-8\nPSA 67:0-36 = PSA 68:0-36\nPSA 68:0-37 = PSA 69:0-37\nPSA 69:0-6 = PSA 70:0-6\nPSA 70:0-24 = PSA 71:0-24\nPSA 71:0-20 = PSA 72:0-20\nPSA 72:0-28 = PSA 73:0-28\nPSA 73:0-23 = PSA 74:0-23\nPSA 74:0-11 = PSA 75:0-11\nPSA 75:0-13 = PSA 76:0-13\nPSA 76:0-21 = PSA 77:0-21\nPSA 77:0-72 = PSA 78:0-72\nPSA 78:0-13 = PSA 79:0-13\nPSA 79:0-20 = PSA 80:0-20\nPSA 80:0-17 = PSA 81:0-17\nPSA 81:0-8 = PSA 82:0-8\nPSA 82:0-19 = PSA 83:0-19\nPSA 83:0-13 = PSA 84:0-13\nPSA 84:0-14 = PSA 85:0-14\nPSA 85:0-17 = PSA 86:0-17\nPSA 86:0-1 = PSA 87:1\nPSA 86:2 = PSA 87:1\nPSA 86:2-7 = PSA 87:2-7\nPSA 87:0-19 = PSA 88:0-19\nPSA 88:0-53 = PSA 89:0-53\nPSA 89:0-1 = PSA 90:0-1\nPSA 89:2-6 = PSA 90:1-6\nPSA 89:7-17 = PSA 90:7-17\nPSA 90:0-16 = PSA 91:0-16\nPSA 91:0-16 = PSA 92:0-16\nPSA 92:0-5 = PSA 93:0-5\nPSA 93:0-23 = PSA 94:0-23\nPSA 94:0-11 = PSA 95:0-11\nPSA 95:0-13 = PSA 96:0-13\nPSA 96:0-12 = PSA 97:0-12\nPSA 97:0-9 = PSA 98:0-9\nPSA 98:0-9 = PSA 99:0-9\nPSA 99:0-5 = PSA 100:0-5\nPSA 100:0-8 = PSA 101:0-8\nPSA 101:0-29 = PSA 102:0-29\nPSA 102:0-22 = PSA 103:0-22\nPSA 103:0-35 = PSA 104:0-35\nPSA 104:0-45 = PSA 105:0-45\nPSA 105:0-48 = PSA 106:0-48\nPSA 106:0-43 = PSA 107:0-43\nPSA 107:0-14 = PSA 108:0-14\nPSA 108:0-31 = PSA 109:0-31\nPSA 109:0-7 = PSA 110:0-7\nPSA 110:0-10 = PSA 111:0-10\nPSA 111:0-10 = PSA 112:0-10\nPSA 112:0-9 = PSA 113:0-9\nPSA 113:0-8 = PSA 114:0-8\nPSA 113:9 = PSA 115:0\nPSA 113:9-26 = PSA 115:1-18\nPSA 114:0-8 = PSA 116:0-8\nPSA 114:8 = PSA 116:9\nPSA 115:0-10 = PSA 116:10-19\t\nPSA 116:0-2 = PSA 117:0-2\nPSA 117:0-29 = PSA 118:0-29\nPSA 118:0-176 = PSA 119:0-176\nPSA 119:0-7 = PSA 120:0-7\nPSA 120:0-8 = PSA 121:0-8\nPSA 121:0-9 = PSA 122:0-9\nPSA 122:0-4 = PSA 123:0-4\nPSA 123:0-8 = PSA 124:0-8\nPSA 124:0-5 = PSA 125:0-5\nPSA 125:0-6 = PSA 126:0-6\nPSA 126:0-5 = PSA 127:0-5\nPSA 127:0-6 = PSA 128:0-6\nPSA 128:0-8 = PSA 129:0-8\nPSA 129:0-8 = PSA 130:0-8\nPSA 130:0-3 = PSA 131:0-3\nPSA 131:0-18 = PSA 132:0-18\nPSA 132:0-3 = PSA 133:0-3\nPSA 133:0-3 = PSA 134:0-3\nPSA 134:0-21 = PSA 135:0-21\nPSA 135:0-26 = PSA 136:0-26\nPSA 136:0-9 = PSA 137:0-9\nPSA 137:0-8 = PSA 138:0-8\nPSA 138:0-24 = PSA 139:0-24\nPSA 139:0-14 = PSA 140:0-14\nPSA 140:0-10 = PSA 141:0-10\nPSA 141:0 = PSA 142:0\nPSA 141:1-7 = PSA 142:2-8\nPSA 142:0-12 = PSA 143:0-12\nPSA 143:0-15 = PSA 144:0-15\nPSA 144:0-21 = PSA 145:0-21\nPSA 145:0-10 = PSA 146:0-10\n# 146 + 147 -> 147\nPSA 146:0-11 = PSA 147:0-11\nPSA 147:0 = PSA 147:12\nPSA 147:1-9 = PSA 147:12-20\n#---------------------------\n# additional LXX Psalm\nPSA 151:1-7 = PS2 1:1-7\n#----------------------------\nPRO 13:15-26 = PRO 13:14-25\nPRO 18:9-25 = PRO 18:8-24\nSNG 1:1-16 = SNG 1:2-17\n# ISA 3:19 = ISA 3:19-20\nISA 3:19 = ISA 3:19\nISA 3:19 = ISA 3:20\nISA 3:20-25 = ISA 3:16-21\nISA 9:1 = ISA 8:23\nISA 9:2-21 = ISA 9:1-20\nISA 63:19 = ISA 63:19\nISA 64:1 = ISA 63:19\nISA 64:2-12 = ISA 64:1-11\nJER 9:1 = JER 8:23\nJER 9:2-26 = JER 9:1-25\nEZK 20:45-49 = EZK 21:1-5\nEZK 21:1-32 = EZK 21:6-37\nHOS 1:10-11 = HOS 2:1-2\nHOS 2:1-23 = HOS 2:3-25\nHOS 11:12 = HOS 12:1\nHOS 12:1-14 = HOS 12:2-15\nJOL 2:28-32 = JOL 3:1-5\nJOL 3:1-21 = JOL 4:1-21\nMIC 5:1 = MIC 4:14\nMIC 5:2-15 = MIC 5:1-14\nNAM 1:15 = NAM 2:1\nNAM 2:1-13 = NAM 2:2-14\nZEC 1:18-21 = ZEC 2:1-4\nZEC 2:1-13 = ZEC 2:5-17\nMAL 4:1-6 = MAL 3:19-24\nROM 14:24-26 = ROM 16:25-27\n# 2CO 11:32 = 2CO 11:32-33\n2CO 11:32 = 2CO 11:32\n2CO 11:32 = 2CO 11:33\n# REV 13:1 = REV 12:18-13:1\nREV 13:1 = REV 12:18\nREV 13:1 = REV 13:1\n#----------------------------\n2ES 7:36-70 = 2ES 7:106-140\n# 2ES 10:59-60 = 2ES 10:59\n2ES 10:59 = 2ES 10:59\n2ES 10:60 = 2ES 10:59\n#---------------------------------------------------------\n# Mapping 2 Esdras onto the older Apocalypse of Ezra [Studge]\n2ES 3:1-36 = EZA 1:1-36\n2ES 4:1-52 = EZA 2:1-52\n2ES 5:1-56 = EZA 3:1-56\n2ES 6:1-59 = EZA 4:1-59\n2ES 7:1-35 = EZA 5:1-35\n2ES 7:106-140 = EZA 5:36-70\n2ES 8:1-63 = EZA 6:1-63\n2ES 9:1-47 = EZA 7:1-47\n2ES 10:1-60 = EZA 8:1-60\n2ES 11:1-46 = EZA 9:1-46\n2ES 12:1-51 = EZA 10:1-51\n2ES 13:1-58 = EZA 11:1-58\n2ES 14:1-48 = EZA 12:1-48\n#----------------------------------------------------\n# Mapping Daniel to Hebrew Daniel and Greek additions [HAB]\nDAN 3:24-90 = DAG 3:24-90\nDAN 3:91-100 = DAN 3:24-33\n# Susanna\nDAN 13:1-64 = SUS 1:1-64\n# Bel and the Dragon\nDAN 14:1-42 = BEL 1:1-42\n#--------------------------------------------------\n# Mapping Esther Greek onto LXX Esther Greek\n#\n# This maps the standard verses generated by Create Book\n# to the actual verse numbers and segments found in the LXX\n# ESG chapter 1\nESG 1:1 = ESG 1:1a\nESG 1:2 = ESG 1:1b\nESG 1:3 = ESG 1:1c\nESG 1:4 = ESG 1:1d\nESG 1:5 = ESG 1:1e\nESG 1:6 = ESG 1:1f\nESG 1:7 = ESG 1:1g\nESG 1:8 = ESG 1:1h\nESG 1:9 = ESG 1:1i\nESG 1:10 = ESG 1:1k\nESG 1:11 = ESG 1:1l\nESG 1:12 = ESG 1:1m\nESG 1:13 = ESG 1:1n\nESG 1:14 = ESG 1:1o\nESG 1:15 = ESG 1:1p\nESG 1:16 = ESG 1:1q\nESG 1:17 = ESG 1:1r\nESG 1:18 = ESG 1:1s\nESG 1:19-39 = ESG 1:2-22\n# ESG chapter 3\nESG 3:14 = ESG 3:13a\nESG 3:15 = ESG 3:13b\nESG 3:16 = ESG 3:13c\nESG 3:17 = ESG 3:13d\nESG 3:18 = ESG 3:13e\nESG 3:19 = ESG 3:13f\nESG 3:20 = ESG 3:13g\nESG 3:21 = ESG 3:14\nESG 3:22 = ESG 3:15\n# ESG chapter 4\nESG 4:18 = ESG 4:17a\nESG 4:19 = ESG 4:17b\nESG 4:20 = ESG 4:17c\nESG 4:21 = ESG 4:17c\nESG 4:22 = ESG 4:17d\nESG 4:23 = ESG 4:17d\nESG 4:24 = ESG 4:17e\nESG 4:25 = ESG 4:17f\nESG 4:26 = ESG 4:17g\nESG 4:27 = ESG 4:17h\nESG 4:28 = ESG 4:17i\nESG 4:29 = ESG 4:17k\nESG 4:30 = ESG 4:17k\nESG 4:31 = ESG 4:17k\nESG 4:32 = ESG 4:17l\nESG 4:33 = ESG 4:17m\nESG 4:34 = ESG 4:17n\nESG 4:35 = ESG 4:17n\nESG 4:36 = ESG 4:17o\nESG 4:37 = ESG 4:17o\nESG 4:38 = ESG 4:17p\nESG 4:39 = ESG 4:17q\nESG 4:40 = ESG 4:17r\nESG 4:41 = ESG 4:17s\nESG 4:42 = ESG 4:17t\nESG 4:43 = ESG 4:17u\nESG 4:44 = ESG 4:17w\nESG 4:45 = ESG 4:17x\nESG 4:46 = ESG 4:17y\nESG 4:47 = ESG 4:17z\n# ESG chapter 5\nESG 5:2 = ESG 5:1a\nESG 5:3 = ESG 5:1a\nESG 5:4 = ESG 5:1a\nESG 5:5 = ESG 5:1b\nESG 5:6 = ESG 5:1c\nESG 5:7 = ESG 5:1d\nESG 5:8 = ESG 5:1e\nESG 5:9 = ESG 5:1f\nESG 5:10 = ESG 5:1f\nESG 5:11 = ESG 5:2\nESG 5:12 = ESG 5:2\nESG 5:13 = ESG 5:2a\nESG 5:14 = ESG 5:2a\nESG 5:15 = ESG 5:2b\nESG 5:16 = ESG 5:2b\nESG 5:17-28 = ESG 5:3-14\n# ESG chapter 8\nESG 8:13 = ESG 8:12a\nESG 8:14 = ESG 8:12b\nESG 8:15 = ESG 8:12c\nESG 8:16 = ESG 8:12d\nESG 8:17 = ESG 8:12e\nESG 8:18 = ESG 8:12f\nESG 8:19 = ESG 8:12g\nESG 8:20 = ESG 8:12h\nESG 8:21 = ESG 8:12i\nESG 8:22 = ESG 8:12k\nESG 8:23 = ESG 8:12l\nESG 8:24 = ESG 8:12m\nESG 8:25 = ESG 8:12n\nESG 8:26 = ESG 8:12o\nESG 8:27 = ESG 8:12p\nESG 8:28 = ESG 8:12q\nESG 8:29 = ESG 8:12r\nESG 8:30 = ESG 8:12s\nESG 8:31 = ESG 8:12t\nESG 8:32 = ESG 8:12u\nESG 8:33 = ESG 8:12x\nESG 8:34 = ESG 8:12y\nESG 8:35 = ESG 8:12y\nESG 8:36 = ESG 8:12y\nESG 8:37-41 = ESG 8:13-17\n# ESG chapter 10\nESG 10:4 = ESG 10:3a\nESG 10:5 = ESG 10:3b\nESG 10:6 = ESG 10:3c\nESG 10:7 = ESG 10:3d\nESG 10:8 = ESG 10:3e\nESG 10:9 = ESG 10:3f\nESG 10:10 = ESG 10:3g\nESG 10:11 = ESG 10:3h\nESG 10:12 = ESG 10:3i\nESG 10:13 = ESG 10:3k\nESG 10:14 = ESG 10:3l\n'},vul:{raw:"# Versification  \"Vulgate\"\n# Version=1.5\n# \n# modifications by Studge 26/June/2009\n# this is for Bibles which follow the versification of the Vulgate, mainly Catholic Bibles\n# therefore this includes deuterocanonical books from Vulgate and Latin manuscripts\n# Vulgate projects in Paratext are VUL83 (Stuttgart text) and NVL98 (Nova Vulgata) [Studge]\n#\n# mapping for XXA -> PSA has been deleted  [requested by RdB - Barb]\n# XXB has been moved to LAO [Barb] Jan 2011\n#\n# No mapping done for TOB, JDT and SIR, since they seem to follow another 'vorlage' than LXX\n# The versification of 2ES present here should become THE standard/original versification of this book! (Vulgate is 'the original' text of this book)\n#\n# List of books, chapters, verses\n# One line per book.\n# One entry for each chapter.\n# Verse number is the maximum verse number for that chapter.\n# See the lines containing ='s below for verse mappings.\n#\n#-----------------------------------------------------------\n# Old Testament\nGEN 1:31 2:25 3:24 4:26 5:32 6:22 7:24 8:22 9:29 10:32 11:32 12:20 13:18 14:24 15:21 16:16 17:27 18:33 19:38 20:18 21:34 22:24 23:20 24:67 25:34 26:35 27:46 28:22 29:35 30:43 31:55 32:32 33:20 34:31 35:29 36:43 37:36 38:30 39:23 40:23 41:57 42:38 43:34 44:34 45:28 46:34 47:31 48:22 49:32 50:25\nEXO 1:22 2:25 3:22 4:31 5:23 6:30 7:25 8:32 9:35 10:29 11:10 12:51 13:22 14:31 15:27 16:36 17:16 18:27 19:25 20:26 21:36 22:31 23:33 24:18 25:40 26:37 27:21 28:43 29:46 30:38 31:18 32:35 33:23 34:35 35:35 36:38 37:29 38:31 39:43 40:36\nLEV 1:17 2:16 3:17 4:35 5:19 6:30 7:38 8:36 9:24 10:20 11:47 12:8 13:59 14:57 15:33 16:34 17:16 18:30 19:37 20:27 21:24 22:33 23:44 24:23 25:55 26:45 27:34\nNUM 1:54 2:34 3:51 4:49 5:31 6:27 7:89 8:26 9:23 10:36 11:34 12:15 13:34 14:45 15:41 16:50 17:13 18:32 19:22 20:30 21:35 22:41 23:30 24:25 25:18 26:65 27:23 28:31 29:39 30:17 31:54 32:42 33:56 34:29 35:34 36:13\nDEU 1:46 2:37 3:29 4:49 5:33 6:25 7:26 8:20 9:29 10:22 11:32 12:32 13:18 14:29 15:23 16:22 17:20 18:22 19:21 20:20 21:23 22:30 23:25 24:22 25:19 26:19 27:26 28:68 29:29 30:20 31:30 32:52 33:29 34:12\nJOS 1:18 2:24 3:17 4:25 5:16 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:43 22:34 23:16 24:33\nJDG 1:36 2:23 3:31 4:24 5:32 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:24\nRUT 1:22 2:23 3:18 4:22\n1SA 1:28 2:36 3:21 4:22 5:12 6:21 7:17 8:22 9:27 10:27 11:15 12:25 13:23 14:52 15:35 16:23 17:58 18:30 19:24 20:43 21:15 22:23 23:28 24:23 25:44 26:25 27:12 28:25 29:11 30:31 31:13\n2SA 1:27 2:32 3:39 4:12 5:25 6:23 7:29 8:18 9:13 10:19 11:27 12:31 13:39 14:33 15:37 16:23 17:29 18:33 19:43 20:26 21:22 22:51 23:39 24:25\n1KI 1:53 2:46 3:28 4:34 5:18 6:38 7:51 8:66 9:28 10:29 11:43 12:33 13:34 14:31 15:34 16:34 17:24 18:46 19:21 20:43 21:29 22:54\n2KI 1:18 2:25 3:27 4:44 5:27 6:33 7:20 8:29 9:37 10:36 11:21 12:21 13:25 14:29 15:38 16:20 17:41 18:37 19:37 20:21 21:26 22:20 23:37 24:20 25:30\n1CH 1:54 2:55 3:24 4:43 5:26 6:81 7:40 8:40 9:44 10:14 11:46 12:40 13:14 14:17 15:29 16:43 17:27 18:17 19:19 20:7 21:30 22:19 23:32 24:31 25:31 26:32 27:34 28:21 29:30\n2CH 1:17 2:18 3:17 4:22 5:14 6:42 7:22 8:18 9:31 10:19 11:23 12:16 13:22 14:15 15:19 16:14 17:19 18:34 19:11 20:37 21:20 22:12 23:21 24:27 25:28 26:23 27:9 28:27 29:36 30:27 31:21 32:33 33:25 34:33 35:27 36:23\nEZR 1:11 2:70 3:13 4:24 5:17 6:22 7:28 8:36 9:15 10:44\n# EZR is for the Vulgate book called 1 Esdras\nNEH 1:11 2:20 3:31 4:23 5:19 6:19 7:73 8:18 9:38 10:39 11:36 12:46 13:31\n# NEH is for the Vulgate book called 2 Esdras\n#------------------------------------\n# In the Vulgate projects VUL83 Esther is the Greek Esther not Hebrew Esther, this definition is for Greek Esther. The book has been put under EST instead of ESG [Studge]\n# in VUL83 the definition of EST is\n#EST 1:22 2:23 3:15 4:17 5:14 6:14 7:10 8:17 9:32 10:13 11:12 12:6 13:18 14:19 15:19 16:24\n# in NVL98 Nova Vulgata the definition of EST is\nEST 1:32 2:23 3:15 4:47 5:28 6:14 7:10 8:41 9:32 10:13 \n# Note that chapter 3 v 15 is 15a-i\n# Note that chapter 4 v 47 is 17aa-kk\n#-----------------------------------\nJOB 1:22 2:13 3:26 4:21 5:27 6:30 7:21 8:22 9:35 10:22 11:20 12:25 13:28 14:22 15:35 16:23 17:16 18:21 19:29 20:29 21:34 22:30 23:17 24:25 25:6 26:14 27:23 28:28 29:25 30:31 31:40 32:22 33:33 34:37 35:16 36:33 37:24 38:41 39:35 40:28 41:25 42:16\nPSA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6\nPRO 1:33 2:22 3:35 4:27 5:23 6:35 7:27 8:36 9:18 10:32 11:31 12:28 13:25 14:35 15:33 16:33 17:28 18:24 19:29 20:30 21:31 22:29 23:35 24:34 25:28 26:28 27:27 28:28 29:27 30:33 31:31\nECC 1:18 2:26 3:22 4:17 5:19 6:11 7:30 8:17 9:18 10:20 11:10 12:14\nSNG 1:16 2:17 3:11 4:16 5:17 6:12 7:13 8:14\nISA 1:31 2:22 3:26 4:6 5:30 6:13 7:25 8:22 9:21 10:34 11:16 12:6 13:22 14:32 15:9 16:14 17:14 18:7 19:25 20:6 21:17 22:25 23:18 24:23 25:12 26:21 27:13 28:29 29:24 30:33 31:9 32:20 33:24 34:17 35:10 36:22 37:38 38:22 39:8 40:31 41:29 42:25 43:28 44:28 45:25 46:13 47:15 48:22 49:26 50:11 51:23 52:15 53:12 54:17 55:13 56:12 57:21 58:14 59:21 60:22 61:11 62:12 63:19 64:12 65:25 66:24\nJER 1:19 2:37 3:25 4:31 5:31 6:30 7:34 8:22 9:26 10:25 11:23 12:17 13:27 14:22 15:21 16:21 17:27 18:23 19:15 20:18 21:14 22:30 23:40 24:10 25:38 26:24 27:22 28:17 29:32 30:24 31:40 32:44 33:26 34:22 35:19 36:32 37:20 38:28 39:18 40:16 41:18 42:22 43:13 44:30 45:5 46:28 47:7 48:47 49:39 50:46 51:64 52:34\nLAM 1:22 2:22 3:66 4:22 5:22\nEZK 1:28 2:9 3:27 4:17 5:17 6:14 7:27 8:18 9:11 10:22 11:25 12:28 13:23 14:23 15:8 16:63 17:24 18:32 19:14 20:49 21:32 22:31 23:49 24:27 25:17 26:21 27:36 28:26 29:21 30:26 31:18 32:32 33:33 34:31 35:15 36:38 37:28 38:23 39:29 40:49 41:26 42:20 43:27 44:31 45:25 46:24 47:23 48:35\n#-------------------\n# Daniel in NVL98 has 14 chapters and is Greek LXX Daniel\n# the Additions to Daniel are repeated in S3Y, SUS and BEL in NVL98\n# in NVL98 and VUL83, DAN is used for Greek Daniel and it should be under DAG\nDAN 1:21 2:49 3:100 4:34 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:65 14:41\n#\n#--------------------\nHOS 1:11 2:24 3:5 4:19 5:15 6:11 7:16 8:14 9:17 10:15 11:12 12:14 13:15 14:10\nJOL 1:20 2:32 3:21\nAMO 1:15 2:16 3:15 4:13 5:27 6:15 7:17 8:14 9:15\nOBA 1:21\nJON 1:16 2:11 3:10 4:11\nMIC 1:16 2:13 3:12 4:13 5:14 6:16 7:20\nNAM 1:15 2:13 3:19\nHAB 1:17 2:20 3:19\nZEP 1:18 2:15 3:20\nHAG 1:14 2:24\nZEC 1:21 2:13 3:10 4:14 5:11 6:15 7:14 8:23 9:17 10:12 11:17 12:14 13:9 14:21\nMAL 1:14 2:17 3:18 4:6\n#--------------------------------------\n# New Testament books\nMAT 1:25 2:23 3:17 4:25 5:48 6:34 7:29 8:34 9:38 10:42 11:30 12:50 13:58 14:36 15:39 16:28 17:26 18:35 19:30 20:34 21:46 22:46 23:39 24:51 25:46 26:75 27:66 28:20\nMRK 1:45 2:28 3:35 4:40 5:43 6:56 7:37 8:39 9:49 10:52 11:33 12:44 13:37 14:72 15:47 16:20\nLUK 1:80 2:52 3:38 4:44 5:39 6:49 7:50 8:56 9:62 10:42 11:54 12:59 13:35 14:35 15:32 16:31 17:37 18:43 19:48 20:47 21:38 22:71 23:56 24:53\nJHN 1:51 2:25 3:36 4:54 5:47 6:72 7:53 8:59 9:41 10:42 11:57 12:50 13:38 14:31 15:27 16:33 17:26 18:40 19:42 20:31 21:25\nACT 1:26 2:47 3:26 4:37 5:42 6:15 7:59 8:40 9:43 10:48 11:30 12:25 13:52 14:27 15:41 16:40 17:34 18:28 19:40 20:38 21:40 22:30 23:35 24:27 25:27 26:32 27:44 28:31\nROM 1:32 2:29 3:31 4:25 5:21 6:23 7:25 8:39 9:33 10:21 11:36 12:21 13:14 14:23 15:33 16:27\n1CO 1:31 2:16 3:23 4:21 5:13 6:20 7:40 8:13 9:27 10:33 11:34 12:31 13:13 14:40 15:58 16:24\n2CO 1:24 2:17 3:18 4:18 5:21 6:18 7:16 8:24 9:15 10:18 11:33 12:21 13:13\nGAL 1:24 2:21 3:29 4:31 5:26 6:18\nEPH 1:23 2:22 3:21 4:32 5:33 6:24\nPHP 1:30 2:30 3:21 4:23\nCOL 1:29 2:23 3:25 4:18\n1TH 1:10 2:20 3:13 4:18 5:28\n2TH 1:12 2:17 3:18\n1TI 1:20 2:15 3:16 4:16 5:25 6:21\n2TI 1:18 2:26 3:17 4:22\nTIT 1:16 2:15 3:15\nPHM 1:25\nHEB 1:14 2:18 3:19 4:16 5:14 6:20 7:28 8:13 9:28 10:39 11:40 12:29 13:25\nJAS 1:27 2:26 3:18 4:17 5:20\n1PE 1:25 2:25 3:22 4:19 5:14\n2PE 1:21 2:22 3:18\n1JN 1:10 2:29 3:24 4:21 5:21\n2JN 1:13\n3JN 1:15\nJUD 1:25\nREV 1:20 2:29 3:22 4:11 5:14 6:17 7:17 8:13 9:21 10:11 11:19 12:18 13:18 14:20 15:8 16:21 17:18 18:24 19:21 20:15 21:27 22:21\n#-------------------------------------------------\n# Deuterocanonical books in the Catholic tradition\nTOB 1:25 2:23 3:25 4:23 5:28 6:22 7:20 8:24 9:12 10:13 11:21 12:22 13:23 14:17\nJDT 1:12 2:18 3:15 4:17 5:29 6:21 7:25 8:34 9:19 10:20 11:21 12:20 13:31 14:18 15:15 16:31\n#---------\n# ESG for Esther Greek has been put under EST in NVL98, a blank ESG was included in VUL83\n# this definition for ESG is for the full Esther Greek which is in the Vulgate NVL98 [Studge]\nESG 1:39 2:23 3:22 4:47 5:28 6:14 7:10 8:39 9:32 10:13\n#---------\nWIS 1:16 2:25 3:19 4:20 5:24 6:27 7:30 8:21 9:19 10:21 11:27 12:27 13:19 14:31 15:19 16:29 17:20 18:25 19:20\nSIR 1:40 2:23 3:34 4:36 5:18 6:37 7:40 8:22 9:25 10:34 11:36 12:19 13:32 14:27 15:22 16:31 17:31 18:33 19:28 20:33 21:31 22:33 23:38 24:47 25:36 26:28 27:33 28:30 29:35 30:27 31:42 32:28 33:33 34:31 35:26 36:28 37:34 38:39 39:41 40:32 41:28 42:26 43:37 44:27 45:31 46:23 47:31 48:28 49:19 50:31 51:38 52:13\nBAR 1:22 2:35 3:38 4:37 5:9 6:72\nLJE 1:72\n# NB Letter of Jeremiah is chapter 6 of Baruch in the Vulgate tradition [Studge]\n# the 3 additions to Daniel are part of Daniel in the Vulgate tradition [Studge]\nS3Y 1:67\nSUS 1:64\nBEL 1:42\n1MA 1:67 2:70 3:60 4:61 5:68 6:63 7:50 8:32 9:73 10:89 11:74 12:54 13:54 14:49 15:41 16:24\n2MA 1:36 2:33 3:40 4:50 5:27 6:31 7:42 8:36 9:29 10:38 11:38 12:46 13:26 14:46 15:40\n#--------------------------------------------------\n# Note that 3MA and 4MA are in the LXX tradition but not in the Vulgate, and not in VUL83 Latin critical text, but maybe in Interconfessional editions [Studge]\n3MA 1:29 2:33 3:30 4:21 5:51 6:41 7:23\n4MA 1:35 2:24 3:21 4:26 5:38 6:35 7:23 8:29 9:32 10:21 11:27 12:19 13:27 14:20 15:32 16:25 17:24 18:24\n#----------------------------------------------------\n# 1ES, 2ES, MAN and PS2 are in the Vulgate Apocrypha, but not in modern Catholic Bibles, but maybe in Interconfessional editions [Studge]\n1ES 1:58 2:31 3:24 4:63 5:73 6:34 7:15 8:97 9:56\n# 1ES is for the Vulgate book called 3 Esdras\n2ES 1:40 2:48 3:36 4:52 5:55 6:59 7:139 8:63 9:47 10:60 11:46 12:51 13:58 14:47 15:63 16:78\n# 2ES is for the Vulgate book called 4 Esdras\nMAN 1:15\nPS2 1:7\n#-----------------------------------------------------\n# ODA and PSS are only in LXX and SYR and not needed in any Vulgate manuscripts or any Catholic Bibles, I am not convinced they are needed in this versification file [Studge]\n#ODA 1:19 2:43 3:10 4:19 5:12 6:8 7:20 8:37 9:22 10:9 11:11 12:15 13:4 14:46\n#PSS 1:8 2:37 3:12 4:25 5:19 6:6 7:10 8:34 9:11 10:8 11:9 12:6 13:12 14:10 15:13 16:15 17:46 18:12\n#------------------------------------------------------\n# Variant LXX books, only used in LXX, now obselete in Paratext 7, never part of Vulgate\n# if these codes were used in any Vulgate versification projects they used the wrong code, and so the definitions are not relevant [Studge]\n# JSA 1:18 2:24 3:17 4:24 5:15 6:27 7:26 8:35 9:27 10:43 11:23 12:24 13:33 14:15 15:63 16:10 17:18 18:28 19:51 20:9 21:45 22:34 23:16 24:33\n# JDB 1:36 2:23 3:31 4:24 5:31 6:40 7:25 8:35 9:57 10:18 11:40 12:15 13:25 14:20 15:20 16:31 17:13 18:31 19:30 20:48 21:25\n# TBS 1:22 2:14 3:17 4:21 5:23 6:19 7:17 8:21 9:6 10:14 11:19 12:22 13:18 14:15\n# SST 1:64\n# DNT 1:21 2:49 3:97 4:37 5:30 6:29 7:28 8:27 9:27 10:21 11:45 12:13\n# BLT 1:42\n#------------------------------------------------------\n# add in versifications for 4,5 & 6 Ezra which are in Latin manuscripts [Studge]\n5EZ 1:40 2:48 \nEZA 1:36 2:52 3:55 4:59 5:139 6:63 7:47 8:60 9:46 10:51 11:58 12:47 \n6EZ 1:63 12:78\n#------------------------------------------------------\n# XXA and XXB books in project VUL83, left for backward compatability\n# XXA was used for a variant form of Psalms, but should be in a Latin Variant project [Studge]\n# XXA 1:6 2:13 3:9 4:10 5:13 6:11 7:18 8:10 9:39 10:8 11:9 12:6 13:7 14:5 15:10 16:15 17:51 18:15 19:10 20:14 21:32 22:6 23:10 24:22 25:12 26:14 27:9 28:11 29:13 30:25 31:11 32:22 33:23 34:28 35:13 36:40 37:23 38:14 39:18 40:14 41:12 42:5 43:26 44:18 45:12 46:10 47:15 48:21 49:23 50:21 51:11 52:7 53:9 54:24 55:13 56:12 57:12 58:18 59:14 60:9 61:13 62:12 63:11 64:14 65:20 66:8 67:36 68:37 69:6 70:24 71:20 72:28 73:23 74:11 75:13 76:21 77:72 78:13 79:20 80:17 81:8 82:19 83:13 84:14 85:17 86:7 87:19 88:53 89:17 90:16 91:16 92:5 93:23 94:11 95:13 96:12 97:9 98:9 99:5 100:8 101:29 102:22 103:35 104:45 105:48 106:43 107:14 108:31 109:7 110:10 111:10 112:9 113:26 114:9 115:19 116:2 117:29 118:176 119:7 120:8 121:9 122:4 123:8 124:5 125:6 126:5 127:6 128:8 129:8 130:3 131:18 132:3 133:3 134:21 135:26 136:9 137:8 138:24 139:14 140:10 141:8 142:12 143:15 144:21 145:10 146:11 147:20 148:14 149:9 150:6\n# XXB was used for the Letter to the Laodiceans, but should be under LAO [Studge]\n# XXB 1:20\n#----------------------------------------------------------\n# Daniel Greek is currently under DAN [Studge]\nDAG 1:21 2:49 3:97 4:37 5:31 6:28 7:28 8:27 9:27 10:21 11:45 12:13 13:64 14:42\n# Letter to the Laodiceans in the VUL83 and some mediaeval translations of the Vulgate e.g. John Wycliffe's English Bible, appeared after Revelation [Studge]\nLAO 1:20\n#----------------------------------------------------------\n# Mapping\n#----------------------------------------------------------\n# Vulgate = BHS (see org.vrs)\n#\n# (Note: for performance reasons ranges must not span a chapter, e.g. 4:10-5:11 is illegal)\n#\nGEN 31:55 = GEN 32:1\nGEN 32:1-32 = GEN 32:2-33\n# missing <- GEN 49:32\nGEN 49:31 = GEN 49:31\nGEN 49:31 = GEN 49:32\nGEN 49:32 = GEN 49:33\n# GEN 50:22 <- GEN 50:22-23\nGEN 50:22 = GEN 50:22\nGEN 50:22 = GEN 50:23\nGEN 50:23-25 = GEN 50:24-26\nEXO 8:1-4 = EXO 7:26-29\nEXO 8:5-32 = EXO 8:1-28\nEXO 22:1 = EXO 21:37\nEXO 22:2-31 = EXO 22:1-30\n# EXO 40:13 <- EXO 40:13-15\nEXO 40:13 = EXO 40:13\nEXO 40:13 = EXO 40:14\nEXO 40:13 = EXO 40:15\nEXO 40:14-36 = EXO 40:16-38\nLEV 6:1-7 = LEV 5:20-26\nLEV 6:8-30 = LEV 6:1-23\n# LEV 26:45 <- LEV 26:45-46\nLEV 26:45 = LEV 26:45\nLEV 26:45 = LEV 26:46\n# NUM 11:34 <- NUM 11:34-35\nNUM 11:34 = NUM 11:34\nNUM 11:34 = NUM 11:35\nNUM 13:1 = NUM 12:16\nNUM 13:2-34 = NUM 13:1-33\nNUM 16:36-50 = NUM 17:1-15\nNUM 17:1-13 = NUM 17:16-28\n# NUM 20:28-29 -> NUM 20:28\nNUM 20:28 = NUM 20:28\nNUM 20:29 = NUM 20:28\nNUM 20:30 = NUM 20:29\n# NUM 26:1 <- NUM 25:19--26:1\nNUM 26:1 = NUM 25:19\nNUM 26:1 = NUM 26:1\nDEU 12:32 = DEU 13:1\nDEU 13:1-18 = DEU 13:2-19\nDEU 22:30 = DEU 23:1\nDEU 23:1-25 = DEU 23:2-26\nDEU 29:1 = DEU 28:69\nDEU 29:2-29 = DEU 29:1-28\n# JOS 4:23-24 -> JOS 4:23\nJOS 4:23 = JOS 4:23\nJOS 4:24 = JOS 4:23\nJOS 4:25 = JOS 4:24\n# JOS 5:14-15 -> JOS 5:14\nJOS 5:14 = JOS 5:14\nJOS 5:15 = JOS 5:14\nJOS 5:16 = JOS 5:15\n# JOS 21:36 (missing) <- JOS 21:36-37\nJOS 21:36 = JOS 21:36\nJOS 21:36 = JOS 21:37\n# JOS 21:37 <- JOS 21:38-39\nJOS 21:37 = JOS 21:38\nJOS 21:37 = JOS 21:39\nJOS 21:38-43 = JOS 21:40-45\n# JDG 5:31-32 -> JDG 5:31\nJDG 5:31 = JDG 5:31\nJDG 5:32 = JDG 5:31\n# JDG 21:24 <- JDG 21:24-25\nJDG 21:24 = JDG 21:24\nJDG 21:24 = JDG 21:25\n1SA 20:43 = 1SA 21:1\n1SA 21:1-15 = 1SA 21:2-16\n2SA 18:33 = 2SA 19:1\n2SA 19:1-43 = 2SA 19:2-44\n1KI 4:21-34 = 1KI 5:1-14\n1KI 5:1-18 = 1KI 5:15-32\n2KI 11:21 = 2KI 12:1\n2KI 12:1-21 = 2KI 12:2-22\n1CH 6:1-15 = 1CH 5:27-41\n1CH 6:16-81 = 1CH 6:1-66\n# 1CH 11:46 <- 1CH 11:46-47\n1CH 11:46 = 1CH 11:46\n1CH 11:46 = 1CH 11:47\n# 1CH 12:4 <- 1CH 12:4-5\n1CH 12:4 = 1CH 12:4\n1CH 12:4 = 1CH 12:5\n1CH 12:5-40 = 1CH 12:6-41\n# 1CH 20:7 <- 1CH 20:7-8\n1CH 20:7 = 1CH 20:7\n1CH 20:7 = 1CH 20:8\n2CH 2:1 = 2CH 1:18\n2CH 2:2-18 = 2CH 2:1-17\n2CH 14:1 = 2CH 13:23\n2CH 14:2-15 = 2CH 14:1-14\n# NEH 3:30 <- NEH 3:30-31\nNEH 3:30 = NEH 3:30\nNEH 3:30 = NEH 3:31\nNEH 3:31 = NEH 3:32\nNEH 4:1-6 = NEH 3:33-38\nNEH 4:7-23 = NEH 4:1-17\n# NEH 7:68 (missing) -> NEH 7:67b\nNEH 7:67 = NEH 7:67\nNEH 7:68 = NEH 7:67\nNEH 7:69-73 = NEH 7:68-72\nNEH 9:38 = NEH 10:1\nNEH 10:1-39 = NEH 10:2-40\n# NEH 12:33 <- NEH 12:33-34\nNEH 12:33 = NEH 12:33\nNEH 12:33 = NEH 12:34\nNEH 12:34-46 = NEH 12:35-47\n# mapping EST onto ESG, it should map ESG onto EST\n#EST 10:4-13 = ESG 1:4-13\n#EST 11:1-12 = ESG 2:1-12\n#EST 12:1-6 = ESG 3:1-6\n#EST 13:1-18 = ESG 4:1-18\n#EST 14:1-19 = ESG 5:1-19\n#EST 15:1-16 = ESG 6:1-16\n#EST 16:1-24 = ESG 7:1-24\n# JOB 16:4-5 -> JOB 16:4\nJOB 16:4 = JOB 16:4\nJOB 16:5 = JOB 16:4\nJOB 16:6-23 = JOB 16:5-22\nJOB 39:31-35 = JOB 40:1-5\nJOB 40:1-27 = JOB 40:6-32\nJOB 40:28 = JOB 41:1\nJOB 41:1-25 = JOB 41:2-26\n# JOB 42:16 <- JOB 42:16-17\nJOB 42:16 = JOB 42:16\nJOB 42:16 = JOB 42:17\n# In PSA, the equivalent mappings (in chs. 1-9; 147-150) are given too, because XXA is mapped to PSA as well !!!\n# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)\nPSA 1:0-6 = PSA 1:0-6\nPSA 2:0-11 = PSA 2:0-11\n# PSA 2:12-13 -> PSA 2:12\nPSA 2:12 = PSA 2:12\nPSA 2:13 = PSA 2:12\nPSA 3:0-9 = PSA 3:0-9\nPSA 4:0-8 = PSA 4:0-8\n# PSA 4:9-10 -> PSA 4:9\nPSA 4:9 = PSA 4:9\nPSA 4:10 = PSA 4:9\nPSA 5:0-13 = PSA 5:0-13\nPSA 6:0-11 = PSA 6:0-11\nPSA 7:0-18 = PSA 7:0-18\nPSA 8:0-10 = PSA 8:0-10\nPSA 9:0-21 = PSA 9:0-21\nPSA 9:22 = PSA 10:0\nPSA 9:22-39 = PSA 10:1-18\n# PSA 10:1-2 -> PSA 11:1\nPSA 10:0-1 = PSA 11:0-1\nPSA 10:2 = PSA 11:1\nPSA 10:3-8 = PSA 11:2-7\nPSA 11:0-9 = PSA 12:0-9\n# PSA 12:1 <- PSA 13:1-2\nPSA 12:0-1 = PSA 13:0-1\nPSA 12:1 = PSA 13:2\n# PSA 12:2-3 -> PSA 13:3\nPSA 12:2 = PSA 13:3\nPSA 12:3 = PSA 13:3\nPSA 12:4-6 = PSA 13:4-6\nPSA 13:0-7 = PSA 14:0-7\nPSA 14:0-1 = PSA 15:0-1\n# PSA 14:3a = PSA 15:2b\nPSA 14:2 = PSA 15:2\nPSA 14:3 = PSA 15:2\nPSA 14:3 = PSA 15:3\nPSA 14:4-5 = PSA 15:4-5\nPSA 15:0-9 = PSA 16:0-9\n# PSA 15:10 <- PSA 16:10-11\nPSA 15:10 = PSA 16:10\nPSA 15:10 = PSA 16:11\nPSA 16:0-15 = PSA 17:0-15\nPSA 17:0-51 = PSA 18:0-51\nPSA 18:0-15 = PSA 19:0-15\nPSA 19:0-10 = PSA 20:0-10\nPSA 20:0-14 = PSA 21:0-14\nPSA 21:0-32 = PSA 22:0-32\nPSA 22:0-6 = PSA 23:0-6\nPSA 23:0-10 = PSA 24:0-10\nPSA 24:0-22 = PSA 25:0-22\nPSA 25:0-12 = PSA 26:0-12\nPSA 26:0-14 = PSA 27:0-14\nPSA 27:0-9 = PSA 28:0-9\nPSA 28:0-11 = PSA 29:0-11\nPSA 29:0-13 = PSA 30:0-13\nPSA 30:0-25 = PSA 31:0-25\nPSA 31:0-11 = PSA 32:0-11\nPSA 32:0-22 = PSA 33:0-22\nPSA 33:0-23 = PSA 34:0-23\nPSA 34:0-28 = PSA 35:0-28\nPSA 35:0-13 = PSA 36:0-13\nPSA 36:0-40 = PSA 37:0-40\nPSA 37:0-23 = PSA 38:0-23\nPSA 38:0-14 = PSA 39:0-14\nPSA 39:0-18 = PSA 40:0-18\nPSA 40:0-14 = PSA 41:0-14\nPSA 41:0-12 = PSA 42:0-12\nPSA 42:0-5 = PSA 43:0-5\nPSA 43:0-21 = PSA 44:0-21\n# PSA 43:22 <- PSA 44:22-23\nPSA 43:22 = PSA 44:22\nPSA 43:22 = PSA 44:23\nPSA 43:23-26 = PSA 44:24-27\nPSA 44:0-18 = PSA 45:0-18\nPSA 45:0-12 = PSA 46:0-12\nPSA 46:0-10 = PSA 47:0-10\nPSA 47:0-15 = PSA 48:0-15\nPSA 48:0-21 = PSA 49:0-21\nPSA 49:0-23 = PSA 50:0-23\nPSA 50:0-21 = PSA 51:0-21\nPSA 51:0-11 = PSA 52:0-11\nPSA 52:0-7 = PSA 53:0-7\nPSA 53:0-9 = PSA 54:0-9\nPSA 54:0-24 = PSA 55:0-24\nPSA 55:0-10 = PSA 56:0-10\n# PSA 55:11 <- PSA 56:11-12\nPSA 55:11 = PSA 56:11\nPSA 55:11 = PSA 56:12\nPSA 55:12-13 = PSA 56:13-14\nPSA 56:0-12 = PSA 57:0-12\nPSA 57:0-12 = PSA 58:0-12\nPSA 58:0-18 = PSA 59:0-18\nPSA 59:0-14 = PSA 60:0-14\nPSA 60:0-9 = PSA 61:0-9\nPSA 61:0-13 = PSA 62:0-13\nPSA 62:0-12 = PSA 63:0-12\nPSA 63:0-11 = PSA 64:0-11\nPSA 64:0-14 = PSA 65:0-14\nPSA 65:0-20 = PSA 66:0-20\nPSA 66:0-8 = PSA 67:0-8\nPSA 67:0-36 = PSA 68:0-36\nPSA 68:0-37 = PSA 69:0-37\nPSA 69:0-6 = PSA 70:0-6\nPSA 70:0-24 = PSA 71:0-24\nPSA 71:0-20 = PSA 72:0-20\nPSA 72:0-28 = PSA 73:0-28\nPSA 73:0-23 = PSA 74:0-23\nPSA 74:0-11 = PSA 75:0-11\nPSA 75:0-13 = PSA 76:0-13\nPSA 76:0-21 = PSA 77:0-21\nPSA 77:0-72 = PSA 78:0-72\nPSA 78:0-13 = PSA 79:0-13\nPSA 79:0-20 = PSA 80:0-20\nPSA 80:0-17 = PSA 81:0-17\nPSA 81:0-8 = PSA 82:0-8\nPSA 82:0-19 = PSA 83:0-19\nPSA 83:0-13 = PSA 84:0-13\nPSA 84:0-14 = PSA 85:0-14\nPSA 85:0-17 = PSA 86:0-17\nPSA 86:0-7 = PSA 87:0-7\nPSA 87:0-19 = PSA 88:0-19\nPSA 88:0-53 = PSA 89:0-53\nPSA 89:0-17 = PSA 90:0-17\nPSA 90:0-16 = PSA 91:0-16\nPSA 91:0-16 = PSA 92:0-16\nPSA 92:0-5 = PSA 93:0-5\nPSA 93:0-23 = PSA 94:0-23\nPSA 94:0-11 = PSA 95:0-11\nPSA 95:0-13 = PSA 96:0-13\nPSA 96:0-12 = PSA 97:0-12\nPSA 97:0-9 = PSA 98:0-9\nPSA 98:0-9 = PSA 99:0-9\nPSA 99:0-5 = PSA 100:0-5\nPSA 100:0-8 = PSA 101:0-8\nPSA 101:0-29 = PSA 102:0-29\nPSA 102:0-22 = PSA 103:0-22\nPSA 103:0-35 = PSA 104:0-35\nPSA 104:0-45 = PSA 105:0-45\nPSA 105:0-48 = PSA 106:0-48\nPSA 106:0-43 = PSA 107:0-43\nPSA 107:0-14 = PSA 108:0-14\nPSA 108:0-31 = PSA 109:0-31\nPSA 109:0-7 = PSA 110:0-7\nPSA 110:0-10 = PSA 111:0-10\nPSA 111:0-10 = PSA 112:0-10\nPSA 112:0-9 = PSA 113:0-9\nPSA 113:0-8 = PSA 114:0-8\nPSA 113:9 = PSA 115:0\nPSA 113:9-26 = PSA 115:1-18\nPSA 114:1-9 = PSA 116:1-9\n# What does 115:1-9 map to?  this seems very wrong\nPSA 115:10-19 = PSA 116:10-19\nPSA 116:0-2 = PSA 117:0-2\nPSA 117:0-29 = PSA 118:0-29\nPSA 118:0-176 = PSA 119:0-176\nPSA 119:0-7 = PSA 120:0-7\nPSA 120:0-8 = PSA 121:0-8\nPSA 121:0-9 = PSA 122:0-9\nPSA 122:0-4 = PSA 123:0-4\nPSA 123:0-8 = PSA 124:0-8\nPSA 124:0-5 = PSA 125:0-5\nPSA 125:0-6 = PSA 126:0-6\nPSA 126:0-5 = PSA 127:0-5\nPSA 127:0-6 = PSA 128:0-6\nPSA 128:0-8 = PSA 129:0-8\nPSA 129:0-8 = PSA 130:0-8\nPSA 130:0-3 = PSA 131:0-3\nPSA 131:0-18 = PSA 132:0-18\nPSA 132:0-3 = PSA 133:0-3\nPSA 133:0-3 = PSA 134:0-3\nPSA 134:0-21 = PSA 135:0-21\nPSA 135:0-26 = PSA 136:0-26\nPSA 136:0-9 = PSA 137:0-9\nPSA 137:0-8 = PSA 138:0-8\nPSA 138:0-24 = PSA 139:0-24\nPSA 139:0-14 = PSA 140:0-14\nPSA 140:0-10 = PSA 141:0-10\nPSA 141:0-8 = PSA 142:0-8\nPSA 142:0-12 = PSA 143:0-12\nPSA 143:0-15 = PSA 144:0-15\nPSA 144:0-21 = PSA 145:0-21\n# PSA 145:2a = PSA 146:1b\nPSA 145:0-1 = PSA 146:0-1\nPSA 145:2 = PSA 146:1\nPSA 145:2 = PSA 146:2\nPSA 145:3-10 = PSA 146:3-10\nPSA 146:0-11 = PSA 147:0-11\nPSA 147:12-20 = PSA 147:12-20\nPSA 148:0-14 = PSA 148:0-14\nPSA 149:0-9 = PSA 149:0-9\nPSA 150:0-6 = PSA 150:0-6\nECC 7:1 = ECC 6:12\nECC 7:2-30 = ECC 7:1-29\nSNG 1:1 = SNG 1:1\nSNG 1:1-16 = SNG 1:2-17\nSNG 5:17 = SNG 6:1\nSNG 6:1-11 = SNG 6:2-12\n# SNG 6:12 -> SNG 7:1a\n# SNG 7:1 <- SNG 7:1b-2\n# or:  SNG 6:12--7:1 = SNG 7:1-2\nSNG 6:12 = SNG 7:1\nSNG 7:1 = SNG 7:1\nSNG 7:1 = SNG 7:2\nSNG 7:2-13 = SNG 7:3-14\n# ISA 8:22d = ISA 8:23a\nISA 8:22 = ISA 8:22\nISA 8:22 = ISA 8:23\nISA 9:1 = ISA 8:23\nISA 9:2-21 = ISA 9:1-20\n# ISA 9:20d = ISA 9:20ab\nISA 9:20 = ISA 9:19\nISA 9:20 = ISA 9:20\nISA 9:21 = ISA 9:20\n# ISA 64:1 -> ISA 63:19cd\nISA 63:19 = ISA 63:19\nISA 64:1 = ISA 63:19\nISA 64:2-12 = ISA 64:1-11\nJER 9:1 = JER 8:23\nJER 9:2-26 = JER 9:1-25\n# JER 37:4 <- JER 37:4-5\nJER 37:4 = JER 37:4\nJER 37:4 = JER 37:5\nJER 37:5-20 = JER 37:6-21\n# EZK 2:9 <- EZK 2:9-10\nEZK 2:9 = EZK 2:9\nEZK 2:9 = EZK 2:10\nEZK 20:45-49 = EZK 21:1-5\nEZK 21:1-32 = EZK 21:6-37\nDAN 3:24-90 = S3Y 1:1-67\nDAN 3:91-100 = DAN 3:24-33\nDAN 5:31 = DAN 6:1\nDAN 6:1-28 = DAN 6:2-29\nDAN 13:1-64 = SUS 1:1-64\nDAN 13:65 = BEL 1:1\nDAN 14:1 = BEL 1:1\nDAN 14:2-41 = BEL 1:2-41\nHOS 1:10-11 = HOS 2:1-2\nHOS 2:1-22 = HOS 2:3-24\n# HOS 2:23-24 -> HOS 2:25\nHOS 2:23 = HOS 2:25\nHOS 2:24 = HOS 2:25\nHOS 11:12 = HOS 12:1\nHOS 12:1-14 = HOS 12:2-15\nJOL 2:28-32 = JOL 3:1-5\nJOL 3:1-21 = JOL 4:1-21\n# AMO 6:10-11 -> AMO 6:10\nAMO 6:10 = AMO 6:10\nAMO 6:11 = AMO 6:10\nAMO 6:12-15 = AMO 6:11-14\nMIC 5:1 = MIC 4:14\nMIC 5:2-10 = MIC 5:1-9\n# MIC 5:11 <- MIC 5:10-11\nMIC 5:11 = MIC 5:10\nMIC 5:11 = MIC 5:11\n# MIC 5:12-14 = MIC 5:12-14\nJON 1:17 = JON 2:1\nJON 2:1-10 = JON 2:2-11\nNAM 1:15 = NAM 2:1\nNAM 2:1-13 = NAM 2:2-14\nHAG 2:1 = HAG 1:15\nHAG 2:2-24 = HAG 2:1-23\nZEC 1:18-21 = ZEC 2:1-4\nZEC 2:1-13 = ZEC 2:5-17\nMAL 4:1-6 = MAL 3:19-24\n#\n#\n# Mapping\n# Vulgate = UBS GNT\n#\n#\n# MAT 17:14 <- MAT 17:14-15\nMAT 17:15-26 = MAT 17:16-27\n# MRK 4:40 <- MRK 4:40-41\nMRK 4:40 = MRK 4:40\nMRK 4:40 = MRK 4:41\nMRK 8:39 = MRK 9:1\nMRK 9:1-49 = MRK 9:2-50\n# JHN 6:51-52 -> JHN 6:51\nJHN 6:51 = JHN 6:51\nJHN 6:52 = JHN 6:51\nJHN 6:53-72 = JHN 6:52-71\n# ACT 7:55 <- ACT 7:55-56\nACT 7:55 = ACT 7:55\nACT 7:55 = ACT 7:56\nACT 7:56-59 = ACT 7:57-60\n# ACT 14:6 <- ACT 14:6-7\nACT 14:6 = ACT 14:6\nACT 14:6 = ACT 14:7\nACT 14:7-27 = ACT 14:8-28\n#\n#\n#\n# Mapping\n# Vulgate = +/-LXX\n#\n#\n# WIS 2:24-25 -> WIS 2:24\nWIS 2:24 = WIS 2:24\nWIS 2:25 = WIS 2:24\n# WIS 5:13-14 -> WIS 5:13\nWIS 5:13 = WIS 5:13\nWIS 5:14 = WIS 5:13\nWIS 5:15-24 = WIS 5:14-23\n# WIS 6:1 -> missing\nWIS 6:2-21 = WIS 6:1-20\nWIS 6:22 = WIS 6:21\nWIS 6:23 = WIS 6:21\n# WIS 6:23 -> missing\nWIS 6:24-27 = WIS 6:22-25\n# WIS 9:18-19 -> WIS 9:18\nWIS 9:18 = WIS 9:18\nWIS 9:19 = WIS 9:18\n# WIS 11:5-6 -> WIS 11:5\nWIS 11:5 = WIS 11:5\nWIS 11:6 = WIS 11:5\nWIS 11:7-27 = WIS 11:6-26\n# WIS 19:12 <- WIS 19:12-13\nWIS 19:12 = WIS 19:12\nWIS 19:12 = WIS 19:13\nWIS 19:13-19 = WIS 19:14-20\n# WIS 19:20 <- WIS 19:21-22\nWIS 19:20 = WIS 19:21\nWIS 19:20 = WIS 19:22\nBAR 6:1-72 = LJE 1:1-72\n# 1MA 1:4-5 -> 1MA 1:4\n1MA 1:4 = 1MA 1:4\n1MA 1:5 = 1MA 1:4\n1MA 1:6-31 = 1MA 1:5-30\n# 1MA 1:31-32 -> 1MA 1:30\n1MA 1:31 = 1MA 1:30\n1MA 1:32 = 1MA 1:30\n1MA 1:33-35 = 1MA 1:31-33\n# 1MA 1:36ab <- 1MA 1:34\n# 1MA 1:36bc = 1MA 1:35a\n# 1MA 1:37 -> 1MA 1:35b\n1MA 1:36 = 1MA 1:34\n1MA 1:36 = 1MA 1:35\n1MA 1:37 = 1MA 1:35\n1MA 1:38-46 = 1MA 1:36-44\n# 1MA 1:47-48 -> 1MA 1:45\n1MA 1:47 = 1MA 1:45\n1MA 1:48 = 1MA 1:45\n1MA 1:49-67 = 1MA 1:46-64\n# 1MA 12:53-54 -> 1MA 12:53\n1MA 12:53 = 1MA 12:53\n1MA 12:54 = 1MA 12:53\n# 1MA 13:52-53 -> 1MA 13:52\n1MA 13:52 = 1MA 13:52\n1MA 13:53 = 1MA 13:52\n1MA 13:54 = 1MA 13:53\n# 2MA 2:18-19 -> 2MA 2:18\n2MA 2:18 = 2MA 2:18\n2MA 2:19 = 2MA 2:18\n2MA 2:20-33 = 2MA 2:19-32\n# 2MA 12:45-46 -> 2MA 12:45\n2MA 12:45 = 2MA 12:45\n2MA 12:46 = 2MA 12:45\n# 2MA 15:36-37 -> 2MA 15:36\n2MA 15:36 = 2MA 15:36\n2MA 15:37 = 2MA 15:36\n2MA 15:38-40 = 2MA 15:37-39\n#\n#\n# For 1ES the mapping info is taken from the Bible Works program\n# mapping Vulgate onto LXX\n#\n1ES 1:4 = 1ES 1:3\n1ES 1:4 = 1ES 1:4\n1ES 1:5 = 1ES 1:4\n1ES 1:5 = 1ES 1:5\n1ES 1:10 = 1ES 1:10\n1ES 1:10 = 1ES 1:11\n1ES 1:11 = 1ES 1:12\n1ES 1:12 = 1ES 1:13\n1ES 1:13 = 1ES 1:13\n1ES 1:13 = 1ES 1:14\n1ES 1:14 = 1ES 1:14\n1ES 1:15 = 1ES 1:15\n1ES 1:16 = 1ES 1:15\n1ES 1:17 = 1ES 1:16\n1ES 1:18 = 1ES 1:16\n1ES 1:19-50 = 1ES 1:17-48\n1ES 1:51 = 1ES 1:49\n1ES 1:52 = 1ES 1:49\n1ES 1:53-58 = 1ES 1:50-55\n1ES 2:1 = 1ES 2:1\n1ES 2:2 = 1ES 2:1\n1ES 2:3 = 1ES 2:2\n1ES 2:4 = 1ES 2:2\n1ES 2:5 = 1ES 2:3\n1ES 2:6 = 1ES 2:4\n1ES 2:7 = 1ES 2:4\n1ES 2:8 = 1ES 2:5\n1ES 2:9 = 1ES 2:6\n1ES 2:10 = 1ES 2:7\n1ES 2:11 = 1ES 2:8\n1ES 2:12 = 1ES 2:8\n1ES 2:13 = 1ES 2:9\n1ES 2:13 = 1ES 2:10\n1ES 2:14 = 1ES 2:11\n1ES 2:15 = 1ES 2:11\n1ES 2:16-19 = 1ES 2:12-15\n1ES 2:20 = 1ES 2:16\n1ES 2:21 = 1ES 2:16\n1ES 2:22 = 1ES 2:17\n1ES 2:23 = 1ES 2:17\n1ES 2:24 = 1ES 2:18\n1ES 2:25 = 1ES 2:19\n1ES 2:26 = 1ES 2:20\n1ES 2:26 = 1ES 2:21\n1ES 2:27 = 1ES 2:21\n1ES 2:27 = 1ES 2:22\n1ES 2:28 = 1ES 2:23\n1ES 2:29 = 1ES 2:24\n1ES 2:30 = 1ES 2:25\n1ES 2:30 = 1ES 2:26\n1ES 3:14 = 1ES 3:14\n1ES 3:15 = 1ES 3:14\n1ES 3:16 = 1ES 3:15\n1ES 3:17 = 1ES 3:16\n1ES 3:17 = 1ES 3:17\n1ES 4:10 = 1ES 4:10\n1ES 4:10 = 1ES 4:11\n1ES 4:11 = 1ES 4:11\n1ES 4:33 = 1ES 4:33\n1ES 4:33 = 1ES 4:34\n1ES 4:39 = 1ES 4:39\n1ES 4:40 = 1ES 4:39\n1ES 4:40 = 1ES 4:40\n1ES 5:41 = 1ES 5:41\n1ES 5:42 = 1ES 5:41\n1ES 5:43-53 = 1ES 5:42-52\n1ES 5:54 = 1ES 5:53\n1ES 5:55 = 1ES 5:53\n1ES 5:56 = 1ES 5:54\n1ES 5:57 = 1ES 5:55\n1ES 5:58 = 1ES 5:56\n1ES 5:58 = 1ES 5:57\n1ES 5:59 = 1ES 5:57\n1ES 5:60 = 1ES 5:57\n1ES 5:61-72 = 1ES 5:58-69\n1ES 5:73 = 1ES 5:70\n1ES 5:73 = 1ES 5:71\n1ES 6:8 = 1ES 6:8\n1ES 6:9 = 1ES 6:8\n1ES 6:10-34 = 1ES 6:9-33\n1ES 8:5 = 1ES 8:5\n1ES 8:6 = 1ES 8:5\n1ES 8:6 = 1ES 8:6\n1ES 8:13 = 1ES 8:13\n1ES 8:14 = 1ES 8:13\n1ES 8:14 = 1ES 8:14\n1ES 8:19 = 1ES 8:19\n1ES 8:20 = 1ES 8:19\n1ES 8:20 = 1ES 8:20\n1ES 8:43 = 1ES 8:43\n1ES 8:44 = 1ES 8:43\n1ES 8:45-49 = 1ES 8:44-48\n1ES 8:50 = 1ES 8:49\n1ES 8:50 = 1ES 8:50\n1ES 8:56 = 1ES 8:56\n1ES 8:57 = 1ES 8:56\n1ES 8:58-62 = 1ES 8:57-61\n1ES 8:63 = 1ES 8:62\n1ES 8:64 = 1ES 8:62\n1ES 8:65 = 1ES 8:63\n1ES 8:66 = 1ES 8:63\n1ES 8:67-85 = 1ES 8:64-82\n1ES 8:86 = 1ES 8:83\n1ES 8:86 = 1ES 8:84\n1ES 8:87 = 1ES 8:84\n1ES 8:88-92 = 1ES 8:85-89\n1ES 8:93 = 1ES 8:90\n1ES 8:94 = 1ES 8:90\n1ES 8:95 = 1ES 8:91\n1ES 8:96 = 1ES 8:92\n#\n#--------------------------------------------------------------------------\n# mapping XXA onto PSA, XXA should be in a variant Vulgate project [Studge]\n# Both PSA and XXA are synchronized to PSA in the original versification.\n# Is this allowed???\n# by request of RdB, XXA mapping to PSA has been deleted - [Barb] 20110127\n# XXA has been moved to PSA and the old PSA is now the Resource VULGP83 [Barb]\n# There could still be some errors regarding the irregular mapping of psalm titles (like in PSA 12:1 <- PSA 13:1-2)\n#\n#\n#-------------------------------------------------------\n# Removing the following lines (FB 52696)\n#2ES 3:1-36 = EZA 1:1-36\n#2ES 4:1-52 = EZA 2:1-52\n#2ES 5:1-56 = EZA 3:1-56\n#2ES 6:1-59 = EZA 4:1-59\n#2ES 7:1-35 = EZA 5:1-35\n#2ES 7:106-140 = EZA 5:36-70\n#2ES 8:1-63 = EZA 6:1-63\n#2ES 9:1-47 = EZA 7:1-47\n#2ES 10:1-60 = EZA 8:1-60\n#2ES 11:1-46 = EZA 9:1-46\n#2ES 12:1-51 = EZA 10:1-51\n#2ES 13:1-58 = EZA 11:1-58\n#2ES 14:1-48 = EZA 12:1-48\n#-----------------------------------------------------\n# map Letter to the Laodiceans [Studge]\n# XXB 1:1-7 = LAO 1:1-7\n#-----------------------------------------------------\n# map Esther Greek onto Hebrew Esther [Studge]\n# to be added in\n#-----------------------------------------------------\n# Mapping Additions to Daniel onto Hebrew Daniel [Studge]\nDAG 1:1-21 = DAN 1:1-21\nDAG 2:1-49 = DAN 2:1-49\nDAG 3:24-52 = S3Y 1:1-29\nDAG 3:52-23 = S3Y 1:30-31\nDAG 3:54 = S3Y 1:33\nDAG 3:55 = S3Y 1:32\nDAG 3:56-57 = S3Y 1:34-35\nDAG 3:58 = S3Y 1:37\nDAG 3:59 = S3Y 1:36\nDAG 3:60-90 = S3Y 1:38-68\nDAG 3:91-97 = DAN 3:24-30\nDAG 4:1-3 = DAN 3:31-33\nDAG 4:4-37 = DAN 4:1-34\nDAG 5:1-31 = DAN 5:1-31\nDAG 6:1-28 = DAN 6:1-28\nDAG 7:1-28 = DAN 7:1-28\nDAG 8:1-27 = DAN 8:1-27\nDAG 9:1-27 = DAN 9:1-27\nDAG 10:1-21 = DAN 10:1-21\nDAG 11:1-45 = DAN 11:1-45 \nDAG 12:1-13 = DAN 12:1-13\n# Susanna\nDAG 13:1-63 = SUS 1:63\n# Bel and the Dragon\nDAG 14:1-42 = BEL 1:42\n#-------------------------------------------------------\n"}},Fg=/^([A-Z0-9]{3}) (([0-9]+:[0-9]+) ?)*$/;for(const[e,t]of Object.entries(Ug)){t.cv={};const e=t.raw.split("\n").filter((e=>e.match(Fg)));if(e)for(const n of e){const e=n.slice(0,3);t.cv[e]={};for(const r of n.substr(4).split(" ")){const[n,s]=r.split(":");t.cv[e][n]=s}}}const Vg=`\n"""The top level of Proskomma queries"""\ntype Query {\n  """The id of the processor, which is different for each Proskomma instance"""\n  id: String!\n  """A string describing the processor class"""\n  processor: String!\n  """The NPM package version"""\n  packageVersion: String!\n  """The selectors used to define docSets"""\n  selectors: [selectorSpec!]!\n  """The number of docSets"""\n  nDocSets: Int!\n  """The docSets in the processor"""\n  docSets(\n    """A whitelist of ids of docSets to include"""\n    ids: [String!]\n    """Only return docSets that match the list of selector values"""\n    withSelectors: [InputKeyValue!]\n    """Only return docSets containing a document with the specified bookCode"""\n    withBook: String\n    """Only return docSets with all the specified tags"""\n    withTags: [String!]\n    """Only return docSets with none of the specified tags"""\n    withoutTags: [String!]\n  ): [DocSet!]!\n  """The docSet with the specified id"""\n  docSet(\n    """The id of the docSet"""\n    id: String!\n  ): DocSet\n  """The number of documents in the processor"""\n  nDocuments: Int!\n  """The documents in the processor"""\n  documents(\n    """A whitelist of ids of documents to include"""\n    ids: [String!]\n    """Only return documents with the specified bookCode"""\n    withBook: String\n    """Only return documents with the specified header key/values"""\n    withHeaderValues: [InputKeyValue!]\n    """Only return documents with all the specified tags"""\n    withTags: [String!]\n    """Only return documents with none of the specified tags"""\n    withoutTags: [String!]\n    """Sort returned documents by the designated method (currently ${Object.keys(Mg).join(", ")})"""\n    sortedBy: String\n  ): [Document!]!\n  """The document with the specified id, or the specified docSet and withBook"""\n  document(\n    """The id of the document"""\n    id: String\n    """The docSet of the document (use with withBook)"""\n    docSetId: String\n    """The book of the document (use with docSetId)"""\n    withBook: String\n  ) : Document\n  """Reference information about standard versifications"""\n  versifications: [versification!]!\n  """Reference information about a named, standard versification"""\n  versification(\n    """The id of the versification"""\n    id: String!\n  ) : versification!\n}\n`,Jg=(e,t,n,r)=>{const s=n.blocks.length;for(let e=0;e<s;e++)t.deleteBlock(n.id,0,!1);for(let s=0;s<r.length;s++){const o=r[s];if(t.newBlock(n.id,s,o.bs.payload,null,!1),!e.updateBlockGrafts(t.id,n.id,s,o.bg))return!1;if(!e.updateOpenScopes(t.id,n.id,s,o.os))return!1;if(!e.updateIncludedScopes(t.id,n.id,s,o.is))return!1;if(!e.updateItems(t.id,n.id,s,o.items))return!1}},Hg=`\n      ${Vg}\n      \ntype Mutation {\n\n  """Adds a document which will be assigned to an existing or new docSet on the basis of the specified selectors"""\n  addDocument(\n    """The selectors for this document, the keys of which must match those of the Proskomma instance"""\n    selectors: [InputKeyValue!]!\n    """The format of the content (probably usfm or usx)"""\n    contentType: String!\n    """The document content as a string"""\n    content: String!\n    """A list of tags to be added"""\n    tags: [String!]\n  ): Boolean!\n  """Creates a new, empty sequence"""\n  newSequence(\n    """The id of the document to which the sequence will be added"""\n    documentId: String!\n    """The type of the new sequence (main, heading...)"""\n    type: String!\n    """The JSON describing blocks, if any, for the new sequence"""\n    blocksSpec: [inputBlockSpec!]\n    """If true, graft to the first block of the main sequence"""\n    graftToMain: Boolean\n    """'A list of tags to be added"""\n    tags: [String!]\n  ): String!\n  """Adds a new block to a sequence"""\n  newBlock(\n    """The id of the document containing the sequence to which the block will be added"""\n    documentId: String!\n    """The id of the sequence to which the block will be added"""\n    sequenceId: String!\n    """The zero-indexed position at which to add the block"""\n    blockN: Int!\n    """The scope to be applied to the block, eg blockScope/p"""\n    blockScope: String!\n  ): Boolean!\n\n\n  """Deletes a docSet"""\n  deleteDocSet(\n    """The id of the docSet containing the document to be deleted"""\n    docSetId: String!\n  ): Boolean\n  """Deletes a document"""\n  deleteDocument(\n    """The id of the docSet containing the document to be deleted"""\n    docSetId: String!\n    """The id of the document to be deleted"""\n    documentId: String!\n  ): Boolean\n  """Deletes a sequence from a document"""\n  deleteSequence(\n    """The id of the document containing the sequence to be deleted"""\n    documentId: String!\n    """The id of the sequence to be deleted"""\n    sequenceId: String!\n  ): Boolean\n  """Deletes a block from a sequence"""\n  deleteBlock(\n    """The id of the document containing the sequence from which the block will be deleted"""\n    documentId: String!\n    """The id of the sequence from which the block will be deleted"""\n    sequenceId: String!\n    """The zero-indexed number of the block to be deleted"""\n    blockN: Int!\n  ): Boolean\n\n\n  """Explicitly rebuild the text lookup tables for a docSet. (You probably don't need to do this)"""\n  rehashDocSet(\n    """The id of the docSet"""\n    docSetId: String!\n  ): Boolean!\n\n\n  """Add one or more tags to a docSet, if they are not already present"""\n  addDocSetTags(\n    """The id of the docSet to which the tags will be added"""\n    docSetId: String!\n    """A list of tags to be added"""\n    tags: [String]!\n  ): [String!]!\n  """Add one or more tags to a document, if they are not already present"""\n  addDocumentTags(\n    """The id of the docSet containing the document to which the tags will be added"""\n    docSetId: String!\n    """The id of the document to which the tags will be added"""\n    documentId: String!\n    """A list of tags to be added"""\n    tags: [String]!\n  ): [String!]\n  """Add one or more tags to a sequence, if they are not already present"""\n  addSequenceTags(\n    """The id of the docSet containing the document containing the sequence to which the tags will be added"""\n    docSetId: String!\n    """The id of the document containing the sequence to which the tags will be added"""\n    documentId: String!\n    """The id of the sequence to which the tags will be added"""\n    sequenceId: String!\n    """A list of tags to be added"""\n    tags: [String]!\n  ) : [String!]\n  """Remove one or more tags from a docSet, if they are present"""\n  removeDocSetTags(\n    """The id of the docSet from which the tags will be removed"""\n    docSetId: String!\n    """A list of tags to be removed"""\n    tags: [String]!\n  ): [String!]\n  """Remove one or more tags from a document, if they are present"""\n  removeDocumentTags(\n    """The id of the docSet containing the document from which the tags will be removed"""\n    docSetId: String!\n    """The id of the document from which the tags will be removed"""\n    documentId: String!\n    """A list of tags to be removed"""\n    tags: [String]!\n  ): [String!]\n  """Remove one or more tags from a sequence, if they are present"""\n  removeSequenceTags(\n    """The id of the docSet containing the document containing the sequence from which the tags will be removed"""\n    docSetId: String!\n    """The id of the document containing the sequence from which the tags will be removed"""\n    documentId: String!\n    """The id of the sequence from which the tags will be removed"""\n    sequenceId: String!\n    """A list of tags to be removed"""\n    tags: [String]!\n  ) : [String!]\n\n\n  """Replaces the items of a block with a new set of items"""\n  updateItems(\n    """The id of the docSet containing the document containing the sequence containing the block for which the items will be updated"""\n    docSetId: String!\n    """The id of the document containing the sequence containing the block for which the items will be updated"""\n    documentId: String!\n    """The id of the sequence containing the block for which the items will be updated (defaults to the main sequence)"""\n    sequenceId: String\n    """The zero-indexed number of the block for which the items will be updated"""\n    blockPosition: Int!\n    """The new content for the block as item objects"""\n    items: [InputItemObject!]\n    """BlockGrafts for the block as item objects"""\n    blockGrafts: [InputItemObject!]\n    """Optional blockScope for the block as an item object"""\n    blockScope: InputItemObject\n  ): Boolean!\n  """Replaces all the blocks of a sequence with a new set of blocks"""\n  updateAllBlocks(\n    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""\n    docSetId: String!\n    """The id of the document containing the sequence for which the blocks will be updated"""\n    documentId: String!\n    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""\n    sequenceId: String\n    """The JSON describing blocks"""\n    blocksSpec: [inputBlockSpec!]!\n  ): Boolean!\n  """Replaces all the blocks of a sequence with a new set of blocks derived from PERF"""\n  updateSequenceFromPerf(\n    """The id of the docSet containing the document containing the sequence for which the blocks will be updated"""\n    docSetId: String!\n    """The id of the document containing the sequence for which the blocks will be updated"""\n    documentId: String!\n    """The id of the sequence for which the blocks will be updated (defaults to the main sequence)"""\n    sequenceId: String\n    """The JSON describing blocks"""\n    perf: String!\n  ): Boolean!\n  """Garbage collects unused sequences within a document. (You probably don\\'t need to do this.)"""\n  gcSequences(\n    """The id of the docSet containing the document to be garbage collected"""\n    docSetId: String!\n    """The id of the document to be garbage collected"""\n    documentId: String!\n  ) : Boolean!\n \n\n\n  """Adds verse mapping tables to the documents in a docSet, where the verse mapping may be provided in legacy .vrs or JSON format"""\n  setVerseMapping(\n    """the id of the docSet to which the verse mapping will be added"""\n    docSetId: String!\n    """The verse mapping, in legacy .vrs format (as a string)"""\n    vrsSource: String\n    """The verse mapping, in JSON format (as a string)"""\n    jsonSource: String\n  ): Boolean!\n  """Removes verse mapping tables from the documents in a docSet"""\n  unsetVerseMapping(\n    """The id of the docSet from which verse mapping will be removed"""\n    docSetId: String!\n  ): Boolean!\n\n}\n      \n"""Key/Value tuple"""\ntype KeyValue {\n    """The key"""\n    key: String!\n    """The value"""\n    value: String!\n}\n      \n"""A chapter-verse reference"""\ntype cv {\n  """The chapter number"""\n  chapter: Int\n  """The verse number"""\n  verse: Int\n}\n\n      \n"""Type-dependent parts of the ID header"""\ntype idParts {\n  """The type of the ID"""\n  type: String\n  """An array of parts of the ID"""\n  parts: [String]\n  """A part of the ID, by index"""\n  part(\n    """The numeric index of the part"""\n    index: Int!\n  ): String\n}\n\n      \n"""Attribute Specification"""\ninput AttSpec {\n"""The type of attribute, ie what type of thing it's connected to"""\nattType: String!\n"""The name of the USFM tag to which the attribute is connected"""\ntagName: String!\n"""The attribute key (ie the bit to the left of the equals sign in USX)"""\nattKey: String!\n"""The position of the value (which is 0 except for attributes with multiple values)"""\nvalueN: Int!\n}\n      \n"""Key/Regex tuple"""\ninput KeyMatches {\n  """The key"""\n  key: String!\n  """The regex to match"""\n  matches: String!\n}\n\n      \n"""Input Key/Value Object"""\ninput InputKeyValue {\n    """The key"""\n    key: String!\n    """The value"""\n    value: String!\n}\n\n      \n"""Input Key/Values Object"""\ninput KeyValues {\n    """The key"""\n    key: String!\n    """The values"""\n    values: [String!]!\n}\n\n      \n"""Item for arguments"""\ninput InputItemObject {\n    """The basic item type (token, scope or graft)'"""\n    type: String!\n    """The type-dependent subtype of the item"""\n    subType: String!\n    """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""\n    payload: String!\n}\n      \n"""Item"""\ntype Item {\n  """The basic item type (token, scope or graft)"""\n  type: String!\n  """The type-dependent subtype of the item"""\n  subType: String!\n  """The content of the item (the text for tokens, the label for scopes and the sequence id for grafts)"""\n  payload(\n    """If true, turn all whitespace into a normal space"""\n    normalizeSpace: Boolean\n    """A whitelist of characters to include"""\n    includeChars: [String!]\n    """A blacklist of characters to exclude"""\n    excludeChars: [String!],\n  ): String!\n  """If 'includeContext' was selected, and for tokens, the index of the token from the start of the sequence"""\n  position(\n    """Only include scopes that begin with this value"""\n    startsWith: [String!]\n  ): Int\n  """If 'includeContext' was selected, a list of scopes that are open around the item"""\n  scopes(\n    """Only include scopes that begin with this value"""\n    startsWith: [String!]\n  ): [String!]\n}\n\n      \n"""A collection of items, with scope context"""\ntype ItemGroup {\n  """Items for this itemGroup"""\n  items: [Item!]!\n  """Tokens for this itemGroup"""\n  tokens(\n    """Return tokens whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return tokens with one of the specified subTypes"""\n    withSubTypes: [String!]\n  ): [Item!]!\n  """The text of the itemGroup as a single string"""\n  text(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n  """The labels of scopes that were open at the beginning of the itemGroup"""\n  scopeLabels(\n    """Only include scopes that begin with this value"""\n    startsWith: [String!]\n  ): [String!]!\n  """The itemGroup content as a string in a compact eyeballable format"""\n  dump: String!\n  """A list of scopes from the items of the itemGroup"""\n  includedScopes: [String!]!\n} \n\n      \n"""Key/Items tuple"""\ntype kvEntry {\n    """The key"""\n    key: String!\n    """The secondary keys"""\n    secondaryKeys: [KeyValue!]\n    """The fields as itemGroups"""\n    itemGroups: [ItemGroup]!\n}\n      \n"""Information about a regex match on an enum"""\ntype regexIndex {\n    """The index in the enum"""\n    index: String!\n    """The string in the enum that matched"""\n    matched: String!\n}\n      \n"""Row Equals Specification"""\ninput rowEqualsSpec {\n  """The position of the column in which to search a match"""\n  colN: Int!\n  """The values to match"""\n  values: [String!]!\n}\n\n      \n"""Row Match Specification"""\ninput rowMatchSpec {\n  """The position of the column in which to search a match"""\n  colN: Int!\n  """The regex to match"""\n  matching: String!\n}\n\n      \n"""Information about a verse range (which may only cover one verse)"""\ntype verseRange {\n  """The range, as it would be printed in a Bible"""\n  range: String!\n  """A list of verse numbers for this range"""\n  numbers: [Int!]!\n}\n\n      \n"""Mapped verse information"""\ntype orig {\n  """The book code"""\n  book: String\n  """A list of chapter-verse references"""\n  cvs: [cv!]!\n}\n\n      \n"""Information about a verse number (which may be part of a verse range)"""\ntype verseNumber {\n  """The verse number"""\n  number: Int!\n  """The verse range to which the verse number belongs"""\n  range: String!\n  """The reference for this verse when mapped to 'original' versification"""\n  orig: orig!\n}\n\n      \n"""A table cell"""\ntype cell {\n  """The row numbers"""\n  rows: [Int!]!\n  """The column numbers"""\n  columns: [Int!]!\n  """A list of items from the c (content) field of the cell"""\n  items: [Item!]!\n  """A list of tokens from the c (content) field of the cell"""\n  tokens: [Item!]!\n  """The text of the cell as a single string"""\n  text(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n}\n\n      \n"""A chapter index entry"""\ntype cIndex {\n  """The chapter number"""\n  chapter: Int!\n  """The zero-indexed number of the block where the chapter starts"""\n  startBlock: Int\n  """The zero-indexed number of the block where the chapter ends"""\n  endBlock: Int\n  """The zero-indexed position of the item where the chapter starts"""\n  startItem: Int\n  """The zero-indexed position of the item where the chapter ends"""\n  endItem: Int\n  """The value of nextToken at the beginning of the chapter"""\n  nextToken: Int\n  """A list of items for this chapter"""\n  items(\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [Item]!\n  """The items as a string in a compact eyeballable format"""\n  dumpItems: String\n  """A list of tokens for this chapter"""\n  tokens(\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n    """Return tokens whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return tokens with one of the specified subTypes"""\n    withSubTypes: [String!]\n  ): [Item]!\n  """The text of the chapter as a single string"""\n  text(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n}\n\n      \n""""""\ntype cvVerseElement {\n  """The zero-indexed number of the block where the verse starts"""\n  startBlock: Int\n  """The zero-indexed number of the block where the verse ends"""\n  endBlock: Int\n  """The zero-indexed position of the item where the verse starts"""\n  startItem: Int\n  """The zero-indexed position of the item where the verse ends"""\n  endItem: Int\n  """The value of nextToken at the beginning of the verse"""\n  nextToken: Int\n  """The verse range for this verse as it would be printed in a Bible"""\n  verseRange: String\n  """A list of items for this verse"""\n  items(\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [Item]!\n  """The items as a string in a compact eyeballable format"""\n  dumpItems: String\n  """A list of tokens for this verse"""\n  tokens(\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n    """Return tokens whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return tokens with one of the specified subTypes"""\n    withSubTypes: [String!]\n  ): [Item]!\n  """The text of the verse as a single string"""\n  text(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n}\n\n      \n"""Information about a verse in the chapter, which may be split into several pieces"""\ntype cvVerses {\n  """The pieces of verse"""\n  verse: [cvVerseElement]\n}\n\n      \n"""A chapterVerse index entry"""\ntype cvIndex {\n  """The chapter number"""\n  chapter: Int!\n  """Information about the verses in the chapter"""\n  verses: [cvVerses]\n  """A list of verse number and range information, organized by verse number"""\n  verseNumbers: [verseNumber!]\n  """A list of verse number and range information, organized by verse range"""\n  verseRanges: [verseRange!]\n}\n\n      \n"""Various answers to 'previous' and 'next' with respect to a verse"""\ntype cvNavigation {\n  """The verse number for the next verse"""\n  nextVerse: cv\n  """The verse number for the previous verse"""\n  previousVerse: cv\n  """The verse number for the next verse range"""\n  nextVerseRangeVerse: cv\n  """The verse number for the previous verse range"""\n  previousVerseRangeVerse: cv\n  """The next chapter number (as a string)"""\n  nextChapter: String\n  """The previous chapter number (as a string)"""\n  previousChapter: String\n}\n\n      \n"""A specification to create or update a block"""\ninput inputBlockSpec {\n  """The block scope as an item"""\n  bs: InputItemObject!\n  """The block grafts as items"""\n  bg: [InputItemObject!]!\n  """The open scopes as items"""\n  os: [InputItemObject!]!\n  """The included scopes as items"""\n  is: [InputItemObject!]!\n  """The items"""\n  items: [InputItemObject!]!\n}\n\n      \n"""A tree node"""\ntype node {\n  """The node id"""\n  id: String!\n  """The node parent id"""\n  parentId: String\n  """The keys for content"""\n  keys: [String!]!\n  """The content as itemGroups"""\n  itemGroups(\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [ItemGroup!]!\n  """The node children ids"""\n  childIds: [String!]!\n}\n\n      \n"""A contiguous flow of content for key-values"""\ntype kvSequence {\n  """The id of the sequence"""\n  id: String!\n  """The number of entries in the key-value sequence"""\n  nEntries: Int!\n  """The entries in the key-value sequence"""\n  entries(\n    """Only return entries whose key matches the specification"""\n    keyMatches: String\n    """Only return entries whose key equals one of the values in the specification"""\n    keyEquals: [String!]\n    """Only return entries whose secondary keys match the specification"""\n    secondaryMatches: [KeyMatches!]\n    """Only return entries whose secondary keys equal one of the values in the specification"""\n    secondaryEquals: [KeyValues!]\n    """Only return entries whose content matches the specification"""\n    contentMatches: [KeyMatches!]\n    """Only return entries whose content equals one of the values in the specification"""\n    contentEquals: [KeyValues!]\n  ): [kvEntry!]\n  """A list of the tags of this sequence"""\n  tags: [String!]!\n  """A list of the tags of this sequence as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """Whether or not the sequence has the specified tag"""\n  hasTag(\n    """The tag name"""\n    tagName: String\n  ): Boolean!\n}\n\n      \n"""A contiguous flow of content for a table"""\ntype tableSequence {\n  """The id of the sequence"""\n  id: String!\n  """The number of cells in the table sequence"""\n  nCells: Int!\n  """The number of rows in the table sequence"""\n  nRows: Int!\n  """The number of columns in the table sequence"""\n  nColumns: Int!\n  """The cells in the table sequence"""\n  cells: [cell!]!\n  """The rows in the table sequence"""\n  rows(\n    """Only return rows whose zero-indexed position is in the list"""\n    positions: [Int!]\n    """Only return columns whose zero-indexed position is in the list"""\n    columns: [Int!]\n    """Only return rows whose cells match the specification"""\n    matches: [rowMatchSpec!]\n    """'Only return rows whose cells contain one of the values in the specification"""\n    equals: [rowEqualsSpec!]\n  ): [[cell!]!]!\n  """A list of the tags of this sequence"""\n  tags: [String!]!\n  """A list of the tags of this sequence as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """Whether or not the sequence has the specified tag"""\n  hasTag(\n    """The tag name"""\n    tagName: String\n  ): Boolean!\n  """A list of column headings for this tableSequence, derived from the sequence tags"""\n  headings: [String!]!\n}\n\n      \n"""The nodes of a tree"""\ntype treeSequence {\n  """The id of the sequence"""\n  id: String!\n  """The number of nodes in the tree sequence"""\n  nNodes: Int!\n  """The nodes in the tree sequence"""\n  nodes: [node!]!\n  """The JSON result for a Tribos query, as a string"""\n  tribos(\n    """The Tribos query string"""\n    query: String!\n  ): String!\n  """The JSON results for the Tribos queries, as an array of strings"""\n  triboi(\n    """The Tribos query strings"""\n    queries: [String!]!\n  ): [String!]!\n  """Tribos documentation"""\n  tribosDoc: String!\n  """A list of the tags of this sequence"""\n  tags: [String!]!\n  """A list of the tags of this sequence as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """Whether or not the sequence has the specified tag"""\n  hasTag(\n    """The tag name"""\n    tagName: String\n  ): Boolean!\n}\n\n      \n"""Part of a sequence, roughly equivalent to a USFM paragraph"""\ntype Block {\n  """The length in bytes of the succinct representation of c (block items)"""\n  cBL: Int!\n  """The length in bytes of the succinct representation of bg (block grafts)"""\n  bgBL: Int!\n  """The length in bytes of the succinct representation of os (open scopes)"""\n  osBL: Int!\n  """The length in bytes of the succinct representation of is (included scopes)"""\n  isBL: Int!\n  """The length in bytes of the succinct representation of nt (nextToken at the start of the block)"""\n  ntBL: Int!\n  """The number of items in the succinct representation of c (block items)"""\n  cL: Int!\n  """The number of items in the succinct representation of bg (block grafts)"""\n  bgL: Int!\n  """The number of items in the succinct representation of os (open scopes)"""\n  osL: Int!\n  """The number of items in the succinct representation of is (included scopes)"""\n  isL: Int!\n  """A list of included scopes for this block"""\n  is: [Item!]!\n  """A list of open scopes for this block"""\n  os: [Item!]!\n  """The block scope for this block"""\n  bs: Item!\n  """A list of block grafts for this block"""\n  bg: [Item!]!\n  """The value of nextToken at the start of this block"""\n  nt: Int!\n  """A list of items from the c (content) field of the block"""\n  items(\n    """Only return items that are within specific scopes"""\n    withScopes: [String!]\n    """If true, withScopes filtering matches items within at least one of the specified scopes"""\n    anyScope: Boolean\n    """Only return items that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""\n    withScriptureCV: String\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n    """Do not return scopes types in list (eg milestone)"""\n    excludeScopeTypes: [String!]\n  ) : [Item!]! \n  """A list of tokens from the c (content) field of the block"""\n  tokens(\n    """Only return tokens that are within specific scopes"""\n    withScopes: [String!]\n    """If true, withScopes filtering matches tokens within at least one of the specified scopes"""\n    anyScope: Boolean\n    """Only return tokens that are within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""\n    withScriptureCV: String\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n    """Return tokens whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return tokens whose payload matches one of the specified regexes"""\n    withMatchingChars: [String!]\n    """Return tokens with one of the specified subTypes"""\n    withSubTypes: [String!]\n  ) : [Item!]!\n  """The text of the block as a single string"""\n  text(\n    """Only return text that is within a chapterVerse range (ch or ch:v or ch:v-v or ch:v-ch:v)"""\n    withScriptureCV: String\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n  """'Block items grouped by scopes or milestones"""\n  itemGroups(\n    """Produce one itemGroup for every match of the list of scopes"""\n    byScopes: [String!]\n    """Start a new itemGroup whenever a milestone in the list is encountered"""\n    byMilestones: [String!]\n  ): [ItemGroup]!\n  """The block content as a string in a compact eyeballable format"""\n  dump: String!\n  """A list of the labels for the block\\'s bs, os and is scopes"""\n  scopeLabels(\n    """Only include scopes that begin with this value"""\n    startsWith: [String!]\n  ): [String!]!\n}\n\n      \n"""A contiguous flow of content"""\ntype Sequence {\n  """The id of the sequence"""\n  id: String!\n  """The type of the sequence (main, heading...)"""\n  type: String!\n  """The number of blocks in the sequence"""\n  nBlocks: Int!\n  """The blocks in the sequence"""\n  blocks(\n    """Only return blocks where the list of scopes is open"""\n    withScopes: [String!]\n    """Only return blocks whose zero-indexed position is in the list"""\n    positions: [Int!]\n    """Only return blocks with the specified block scope (eg 'blockScope/p'"""\n    withBlockScope: String\n    """Only return blocks that contain items within the specified chapter, verse or chapterVerse range"""\n    withScriptureCV: String\n    """Ordered list of attribute specs whose values must match those in 'attValues'"""\n    attSpecs: [[AttSpec!]!]\n    """Ordered list of attribute values, used in conjunction with \\'attSpecs\\'"""\n    attValues: [[String!]!]\n    """If true, blocks where all attSpecs match will be included"""\n    allAtts: Boolean\n    """Return blocks containing a token whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return blocks containing a token whose payload matches the specified regexes"""\n    withMatchingChars: [String!]\n    """If true, blocks where all regexes match will be included"""\n    allChars: Boolean\n  ): [Block!]!\n  """The items for each block in the sequence"""\n  blocksItems: [[Item!]!]\n  """The tokens for each block in the sequence"""\n  blocksTokens: [[Item!]!]\n  """The text for each block in the sequence"""\n  blocksText(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): [String!]\n  """The text for the sequence"""\n  text(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ) : String!\n  """Sequence content grouped by scopes or milestones"""\n  itemGroups(\n    """Produce one itemGroup for every different match of the list of scopes"""\n    byScopes: [String!]\n    """Start a new itemGroup whenever a milestone in the list is encountered"""\n    byMilestones: [String!]\n  ) : [ItemGroup!]!\n  """A list of the tags of this sequence"""\n  tags: [String!]!\n  """A list of the tags of this sequence as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """Whether or not the sequence has the specified tag"""\n  hasTag(\n    """The specified tag"""\n    tagName: String!\n  ): Boolean!\n  """A list of wordLike token strings in a main sequence"""\n  wordLikes(\n    """Whether to coerce the strings (toLower|toUpper|none)"""\n    coerceCase: String\n  ) : [String!]!\n  """Returns true if a main sequence contains the specified tokens"""\n  hasChars(\n    """Token strings to be matched exactly"""\n    chars: [String!]\n    """If true all tokens must match"""\n    allChars: Boolean\n  ): Boolean!\n  """Returns true if a main sequence contains a match for specified regexes"""\n  hasMatchingChars(\n    """Regexes to be matched"""\n    chars: [String!]\n    """If true all regexes must match"""\n    allChars: Boolean\n  ): Boolean!\n}\n\n      \n"""A document, typically corresponding to USFM for one book"""\ntype Document {\n  """The id of the document"""\n  id: String!\n  """A parsed version of the id header"""\n  idParts: idParts!\n  """The id of the docSet to which this document belongs"""\n  docSetId: String!\n  """USFM header information such as TOC"""\n  headers: [KeyValue!]!\n  """One USFM header"""\n  header(\n    """The header id, corresponding to the tag name minus any trailing '1'"""\n    id: String!\n  ): String\n  """The main sequence"""\n  mainSequence: Sequence!\n  """The number of sequences"""\n  nSequences: Int!\n  """A list of sequences for this document"""\n  sequences(\n    """ids of sequences to include, if found"""\n    ids: [String!]\n    """types of sequences to include, if found"""\n    types: [String!]\n    """Only return sequences with all the specified tags"""\n    withTags: [String!]\n    """Only return sequences with none of the specified tags"""\n    withoutTags: [String!]\n  ): [Sequence!]!\n  """A list of table sequences for this document"""\n  tableSequences(\n    """ids of sequences to include, if found"""\n    ids: [String!]\n    """Only return sequences with all the specified tags"""\n    withTags: [String!]\n    """Only return sequences with none of the specified tags"""\n    withoutTags: [String!]\n  ): [tableSequence!]!\n  """A list of tree sequences for this document"""\n  treeSequences(\n    """ids of sequences to include, if found"""\n    ids: [String!]\n    """Only return sequences with all the specified tags"""\n    withTags: [String!]\n    """Only return sequences with none of the specified tags"""\n    withoutTags: [String!]\n  ): [treeSequence!]!\n  """A list of key-value sequences for this document"""\n  kvSequences(\n    """ids of sequences to include, if found"""\n    ids: [String!]\n    """Only return sequences with all the specified tags"""\n    withTags: [String!]\n    """Only return sequences with none of the specified tags"""\n    withoutTags: [String!]\n  ): [kvSequence!]!\n  """A list of text (ie non-table, non-tree, non-kv) sequences for this document"""\n  textSequences(\n    """ids of sequences to include, if found"""\n    ids: [String!]\n    """Only return sequences with all the specified tags"""\n    withTags: [String!]\n    """Only return sequences with none of the specified tags"""\n    withoutTags: [String!]\n  ): [Sequence!]!\n  """The sequence with the specified id"""\n  sequence(\n    """id of the sequence"""\n    id: String!\n  ): Sequence\n  """The table sequence with the specified id"""\n  tableSequence(\n    """id of the sequence"""\n    id: String!\n  ): tableSequence\n  """The tree sequence with the specified id"""\n  treeSequence(\n    """id of the sequence"""\n    id: String!\n  ): treeSequence\n  """The key-value sequence with the specified id"""\n  kvSequence(\n    """id of the sequence"""\n    id: String!\n  ): kvSequence\n  """The blocks of the main sequence"""\n  mainBlocks: [Block!]!\n  """The items for each block of the main sequence"""\n  mainBlocksItems: [[Item!]!]!\n  """The tokens for each block of the main sequence"""\n  mainBlocksTokens: [[Item!]!]!\n  """The text for each block of the main sequence"""\n  mainBlocksText(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): [String!]!\n  """The text for the main sequence"""\n  mainText(\n    """If true, converts each whitespace character to a single space"""\n    normalizeSpace: Boolean\n  ): String!\n  """A list of the tags of this document"""\n  tags: [String!]!\n  """A list of the tags of this document as key/value tuples"""\n  tagsKv: [KeyValue!]!\n  """'Whether or not the document has the specified tag"""\n  hasTag(\n    tagName: String!\n  ): Boolean!\n  """Content for a Scripture reference within this document, using local versification"""\n  cv(\n    """The chapter number (as a string)"""\n    chapter: String\n    """'A list of verse numbers (as strings)"""\n    verses: [String!]\n    """A chapterVerse Reference (ch:v-ch:v)"""\n    chapterVerses: String\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [ItemGroup!]!\n  """Content for a Scripture reference within this document, using the versification of the specified docSet"""\n  mappedCv(\n    """The chapter number (as a string)"""\n    chapter: String!\n    """The id of the mapped docSet"""\n    mappedDocSetId: String!\n    """A list of verse numbers (as strings)"""\n    verses: [String!]!\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [ItemGroup!]!\n  """Content for each verse of a chapter within this document, using the versification of the specified docSet"""\n  mappedCvs(\n    """The chapter number (as a string)"""\n    chapter: String!\n    """The id of the mapped docSet"""\n    mappedDocSetId: String!\n    """If true, adds scope and nextToken information to each token"""\n    includeContext: Boolean\n  ): [[ItemGroup!]!]!\n  """What's previous and next with respect to the specified verse"""\n  cvNavigation(\n    """The chapter number (as a string)"""\n    chapter: String!\n    """A verse number (as a string)"""\n    verse: String!\n  ): cvNavigation\n  """The content of the main sequence indexed by chapterVerse"""\n  cvIndexes: [cvIndex]!\n  """The content of the specified chapter indexed by chapterVerse"""\n  cvIndex(\n    """The chapter number"""\n    chapter: Int!\n  ): cvIndex!\n  """The content of the main sequence indexed by chapter"""\n  cIndexes: [cIndex]!\n  """The content of a chapter"""\n  cIndex(\n    """'The chapter number"""\n    chapter: Int!\n  ): cIndex!\n  """Verses matching the arguments"""\n  cvMatching(\n    """Return verses containing a token whose payload is an exact match to one of the specified strings"""\n    withChars: [String!]\n    """Return verses containing a token whose payload matches the specified regexes"""\n    withMatchingChars: [String!]\n    """Only return blocks where the list of scopes is open"""\n    withScopes: [String!]\n    """If true, verses where all regexes match will be included"""\n    allChars: Boolean\n    """If true, verses where all scopes match will be included"""\n    allScopes: Boolean\n  ): [ItemGroup!]!\n  """A string of PERF JSON for this document"""\n  perf(\n    """Format JSON string with this indent"""\n    indent: Int\n  ): String! \n  """A string of USFM for this document"""\n  usfm: String! \n  """A string of SOFRIA JSON for this document"""\n  sofria(\n    """Format JSON string with this indent"""\n    indent: Int\n    """Return SOFRIA for this chapter only"""\n    chapter: Int\n  ): String! \n}\n\n      ${Gg}\n      \n"""Specification of a selector"""\ntype selectorSpec {\n  """Name (ie the key)"""\n  name: String!\n  """Data type (string or integer)"""\n  type: String!\n  """Regex for validating string selector"""\n  regex: String\n  """Inclusive minimum value for integer selector"""\n  min: String\n  """Inclusive maximum value for integer selector"""\n  max: String\n  """Enum of permitted string values"""\n  enum: [String!]\n}\n\n      \n"""Input specification of a selector"""\ninput inputSelectorSpec {\n  """Name (ie the key)"""\n  name: String!\n  """Data type (string or integer)"""\n  type: String!\n  """Regex for validating string selector"""\n  regex: String\n  """Inclusive minimum value for integer selector"""\n  min: String\n  """Inclusive maximum value for integer selector"""\n  max: String\n  """Enum of permitted string values"""\n  enum: [String!]\n}\n\n      \n"""Information about a standard versification scheme"""\ntype versification {\n  """id, derived from the Paratext vrs filename"""\n  id: String!\n  """A string of the original vrs file"""\n  vrs: String!\n  """Chapter/verse information for each book"""\n  cvBooks: [cvBook!]!\n  """Chapter/verse information for one book"""\n  cvBook(\n    """The bookCode"""\n    bookCode: String!\n  ): cvBook!\n}\n\n      \n"""Chapter/verse information for a book"""\ntype cvBook {\n  """The bookCode"""\n  bookCode: String!\n  """The chapter records"""\n  chapters: [cvChapter!]!\n}\n\n      \n"""Information for a chapter"""\ntype cvChapter {\n  """The chapter"""\n  chapter: Int!\n  """The maximum verse number"""\n  maxVerse: Int!\n}\n\n  `,Kg={Mutation:{addDocument:(e,t)=>{const n={};return t.selectors.forEach((e=>{n[e.key]=e.value})),!!e.importDocument(n,t.contentType,t.content,null,null,null,t.tags||[])},newSequence:(e,t)=>{const n=e.documents[t.documentId],r=n.processor.docSets[n.docSetId];if(!n)throw new Error(`Document '${t.documentId}' not found`);const s=n.newSequence(t.type,t.tags);if(t.blocksSpec&&(Jg(r,n,n.sequences[s],t.blocksSpec),n.buildChapterVerseIndex()),t.graftToMain){r.maybeBuildPreEnums();const e=n.sequences[n.mainId].blocks[0].bg,o=r.enumForCategoryValue("graftTypes",t.type,!0),i=r.enumForCategoryValue("ids",s,!0);va.succinct.pushSuccinctGraftBytes(e,o,i)}return s},newBlock:(e,t)=>{const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);return n.newBlock(t.sequenceId,t.blockN,t.blockScope)},deleteDocSet:(e,t)=>e.deleteDocSet(t.docSetId),deleteDocument:(e,t)=>e.deleteDocument(t.docSetId,t.documentId),deleteSequence:(e,t)=>{const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);return n.deleteSequence(t.sequenceId)},deleteBlock:(e,t)=>{const n=e.documents[t.documentId];if(!n)throw new Error(`Document '${t.documentId}' not found`);return n.deleteBlock(t.sequenceId,t.blockN)},rehashDocSet:(e,t)=>e.rehashDocSet(t.docSetId),addDocSetTags:(e,t)=>{const n=e.docSets[t.docSetId];for(const e of t.tags)n.addTag(e);return Array.from(n.tags)},addDocumentTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId];for(const e of t.tags)n.addTag(e);return Array.from(n.tags)},addSequenceTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId].sequences[t.sequenceId];for(const e of t.tags)va.tags.addTag(n.tags,e);return Array.from(n.tags)},removeDocSetTags:(e,t)=>{const n=e.docSets[t.docSetId];for(const e of t.tags)n.removeTag(e);return Array.from(n.tags)},removeDocumentTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId];for(const e of t.tags)n.removeTag(e);return Array.from(n.tags)},removeSequenceTags:(e,t)=>{const n=e.docSets[t.docSetId].processor.documents[t.documentId].sequences[t.sequenceId];for(const e of t.tags)va.tags.removeTag(n.tags,e);return Array.from(n.tags)},updateItems:(e,t)=>{const n=e.docSets[t.docSetId];if(!n)throw new Error(`DocSet '${t.docSetId}' not found`);if(!t.items)throw new Error("Must provide items");return!!n.updateItems(t.documentId,t.sequenceId,t.blockPosition,t.items)&&(!(t.blockGrafts&&!n.updateBlockGrafts(t.documentId,t.sequenceId,t.blockPosition,t.blockGrafts))&&!(t.blockScope&&!n.updateBlockScope(t.documentId,t.sequenceId,t.blockPosition,t.blockScope)))},updateAllBlocks:(e,t)=>{const n=e.docSets[t.docSetId];if(!n)throw new Error(`DocSet '${t.docSetId}' not found`);const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);const s=r.sequences[t.sequenceId||r.mainId];if(!s)throw new Error(`Sequence '${t.sequenceId||r.mainId}' not found`);return Jg(n,r,s,t.blocksSpec),r.buildChapterVerseIndex(),!0},updateSequenceFromPerf:async(e,t)=>{const n=e.docSets[t.docSetId];if(!n)throw new Error(`DocSet '${t.docSetId}' not found`);const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);const s=r.sequences[t.sequenceId||r.mainId];if(!s)throw new Error(`Sequence '${t.sequenceId||r.mainId}' not found`);const o=JSON.parse(t.perf),i={schema:{structure:"flat",structure_version:"0.3.0",constraints:[{name:"perf",version:"0.3.0"}]},metadata:{translation:{},document:{}},sequences:{},main_sequence_id:t.sequenceId};i.sequences[t.sequenceId]=o;let a={};try{const t=new AS.PipelineHandler({pipelines:hy,transforms:Iy,proskomma:e}),n=await t.runPipeline("perf2PkJsonPipeline",{perf:i});a=Object.values(n.pkJson)[0]}catch(e){return console.error("pipelineHandler Error :\n",e),!1}return Jg(n,r,s,a),r.buildChapterVerseIndex(),!0},gcSequences:(e,t)=>{const n=e.docSets[t.docSetId];if(!n)throw new Error(`DocSet '${t.docSetId}' not found`);const r=e.documents[t.documentId];if(!r)throw new Error(`Document '${t.documentId}' not found`);return!!r.gcSequences()&&(n.rehash(),!0)},setVerseMapping:(e,t)=>{if(t.vrsSource&&t.jsonSource)throw new Error("Cannot specify both vrsSource and jsonSource");if(!t.vrsSource&&!t.jsonSource)throw new Error("Must specify either vrsSource or jsonSource");const n=e.docSets[t.docSetId];if(!n)return!1;let r;r=t.vrsSource?va.versification.vrs2json(t.vrsSource):t.jsonSource;const s=va.versification.succinctifyVerseMappings(r.mappedVerses),o=va.versification.reverseVersification(r),i=va.versification.succinctifyVerseMappings(o.reverseMappedVerses);for(const e of n.documents().filter((e=>"bookCode"in e.headers))){const t=e.headers.bookCode,r=n.documentWithBook(t);if(!r)continue;const o=r.sequences[r.mainId];o.verseMapping={},t in s&&(o.verseMapping.forward=s[t]),t in i&&(o.verseMapping.reversed=i[t])}return n.tags.add("hasMapping"),!0},unsetVerseMapping:(e,t)=>{const n=e.docSets[t.docSetId];if(!n)return!1;for(const e of n.documents().filter((e=>"bookCode"in e.headers))){const t=e.headers.bookCode,r=n.documentWithBook(t);r&&(r.sequences[r.mainId].verseMapping={})}return n.tags.delete("hasMapping"),!0}},Query:{id:e=>e.processorId,selectors:e=>e.selectors,docSets:(e,t)=>{let n=("withBook"in t?e.docSetsWithBook(t.withBook):Object.values(e.docSets)).filter((e=>!t.ids||t.ids.includes(e.id)));return t.withSelectors&&(n=n.filter((e=>((e,t)=>{for(const n of t)if(e.selectors[n.key].toString()!==n.value)return!1;return!0})(e,t.withSelectors)))),t.withTags&&(n=n.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(n=n.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),n},docSet:(e,t)=>e.docSetById(t.id),documents:(e,t)=>{let n=t.withBook?e.documentsWithBook(t.withBook):e.documentList();if(n=n.filter((e=>!t.ids||t.ids.includes(e.id))),t.withHeaderValues&&(n=n.filter((e=>((e,t)=>{for(const n of t||[])if(!(n.key in e)||e[n.key]!==n.value)return!1;return!0})(e.headers,t.withHeaderValues)))),t.withTags&&(n=n.filter((e=>t.withTags.filter((t=>e.tags.has(t))).length===t.withTags.length))),t.withoutTags&&(n=n.filter((e=>0===t.withoutTags.filter((t=>e.tags.has(t))).length))),t.sortedBy){if(!(t.sortedBy in Mg))throw new Error(`sortedBy value must be one of [${Object.keys(Mg).join(", ")}], not ${t.sortedBy}`);n.sort(Mg[t.sortedBy])}return n},document:(e,t)=>{if(!t.id||t.docSetId||t.withBook){if(!t.id&&t.docSetId&&t.withBook)return e.documentsWithBook(t.withBook).filter((e=>e.docSetId===t.docSetId))[0];throw new Error("document requires either id or both docSetId and withBook (but not all three)")}return e.documentById(t.id)},versifications:()=>Object.entries(Ug),versification:(e,t)=>Object.entries(Ug).filter((e=>e[0]===t.id))[0]},KeyValue:{key:e=>e[0],value:e=>e[1]},cv:{chapter:e=>e[0],verse:e=>e[1]},idParts:{type:e=>e[0],parts:e=>e[1],part:(e,t)=>!e[1]||t.index<0||t.index>=e[1].length?null:e[1][t.index]},Item:{type:e=>e[0],subType:e=>e[1],payload:(e,t)=>{let n=e[2];if("token"===e[0]&&(t.normalizeSpace&&(n=e[2].replace(/[ \t\n\r]+/g," ")),t.includeChars||t.excludeChars)){let e=n.split("");e=e.filter((e=>!t.includeChars||t.includeChars.includes(e))),e=e.filter((e=>!t.excludeChars||!t.excludeChars.includes(e))),n=e.join("")}return n},position:e=>e[3],scopes:(e,t)=>e[4]?e[4].filter((e=>!t.startsWith||((e,t)=>{if(0===e.length)return!0;for(const n of e)if(t.startsWith(n))return!0;return!1})(t.startsWith,e))):[]},ItemGroup:og,kvEntry:{key:e=>e[0],secondaryKeys:e=>e[1],itemGroups:e=>e[2]},regexIndex:{index:e=>e[0],matched:e=>e[1]},verseNumber:ig,cell:{rows:e=>e[0],columns:e=>e[1],items:e=>e[2],tokens:e=>e[2].filter((e=>"token"===e[0])),text:(e,t)=>{let n=e[2].filter((e=>"token"===e[0])).map((e=>e[2])).join("").trim();return t.normalizeSpace&&(n=n.replace(/[ \t\n\r]+/g," ")),n}},cIndex:ag,cvVerseElement:cg,cvVerses:{verse:e=>e},cvIndex:{chapter:e=>e[0],verses:e=>e[1],verseNumbers:(e,t,n)=>(n.cvIndex=e,[...e[1].entries()].filter((e=>e[1].length>0)).map((e=>({number:e[0],range:e[1][e[1].length-1].verses})))),verseRanges:e=>{const t=[];for(const[n,r]of[...e[1].entries()].filter((e=>e[1].length>0)))0===t.length||t[t.length-1].range!==r[r.length-1].verses?t.push({range:r[r.length-1].verses,numbers:[n]}):t[t.length-1].numbers.push(n);return t}},cvNavigation:lg,node:pg,kvSequence:fg,tableSequence:hg,treeSequence:wg,Block:kg,Sequence:Cg,Document:jg,DocSet:Lg,selectorSpec:{regex:e=>e.regex||null,min:e=>e.min||null,max:e=>e.max||null,enum:e=>e.enum||null},versification:{id:e=>e[0],vrs:e=>e[1].raw,cvBooks:e=>Object.entries(e[1].cv),cvBook:(e,t)=>Object.entries(e[1].cv).filter((e=>e[0]===t.bookCode))[0]},cvBook:{bookCode:e=>e[0],chapters:e=>Object.entries(e[1])},cvChapter:{chapter:e=>parseInt(e[0]),maxVerse:e=>parseInt(e[1])}},{labelForScope:Wg}=va.scopeDefs,Xg=function({typeDefs:e,resolvers:t={},resolverValidationOptions:n={},inheritResolversFromInterfaces:r=!1,updateResolversInPlace:s=!1,schemaExtensions:o,...i}){if("object"!=typeof n)throw new Error("Expected `resolverValidationOptions` to be an object");if(!e)throw new Error("Must provide typeDefs");let a;if(Xn(e))a=e;else if(null==i?void 0:i.commentDescriptions){a=Cs(Fe(Ei(e,{...i,commentDescriptions:!0}),{noLocation:null==(c=i)?void 0:c.noLocation,allowLegacyFragmentVariables:null==c?void 0:c.allowLegacyFragmentVariables}),{assumeValidSDL:null==c?void 0:c.assumeValidSDL,assumeValid:null==c?void 0:c.assumeValid})}else a=Cs(Ei(e,i),i);var c;return a=function({schema:e,resolvers:t,defaultFieldResolver:n,resolverValidationOptions:r={},inheritResolversFromInterfaces:s=!1,updateResolversInPlace:o=!1}){const{requireResolversToMatchSchema:i="error",requireResolversForResolveType:a}=r,c=s?function(e,t){const n={},r=e.getTypeMap();for(const e in r){const s=r[e];if("getInterfaces"in s){n[e]={};for(const r of s.getInterfaces())if(t[r.name])for(const s in t[r.name])"__isTypeOf"!==s&&s.startsWith("__")||(n[e][s]=t[r.name][s]);const r=t[e];n[e]={...n[e],...r}}else{const r=t[e];null!=r&&(n[e]=r)}}return n}(e,t):t;for(const t in c){const n=c[t];if("object"!=typeof n)throw new Error(`"${t}" defined in resolvers, but has invalid value "${n}". The resolver's value must be of type object.`);const r=e.getType(t);if(null==r){if("ignore"===i)continue;throw new Error(`"${t}" defined in resolvers, but not in schema`)}if(En(r))for(const e in n)e.startsWith("__")?r[e.substring(2)]=n[e]:r[e]=n[e];else if(Ot(r)){const e=r.getValues();for(const t in n)if(!t.startsWith("__")&&!e.some((e=>e.name===t))&&i&&"ignore"!==i)throw new Error(`${r.name}.${t} was defined in resolvers, but not present within ${r.name}`)}else if(Nt(r)){for(const e in n)if(!e.startsWith("__")&&i&&"ignore"!==i)throw new Error(`${r.name}.${e} was defined in resolvers, but ${r.name} is not an object or interface type`)}else if(It(r)||Pt(r))for(const e in n)if(!e.startsWith("__"))if(null==r.getFields()[e]){if(i&&"ignore"!==i)throw new Error(`${t}.${e} defined in resolvers, but not in schema`)}else{const r=n[e];if("function"!=typeof r&&"object"!=typeof r)throw new Error(`Resolver ${t}.${e} must be object or function`)}}return e=o?function(e,t,n){var r,s,o,i,a,c,u,d,l,p,f,h;const m=e.getTypeMap();for(const n in t){const S=e.getType(n),y=t[n];if(kt(S))for(const e in y)e.startsWith("__")?S[e.substring(2)]=y[e]:"astNode"===e&&null!=S.astNode?S.astNode={...S.astNode,description:null!==(s=null===(r=null==y?void 0:y.astNode)||void 0===r?void 0:r.description)&&void 0!==s?s:S.astNode.description,directives:(null!==(o=S.astNode.directives)&&void 0!==o?o:[]).concat(null!==(a=null===(i=null==y?void 0:y.astNode)||void 0===i?void 0:i.directives)&&void 0!==a?a:[])}:"extensionASTNodes"===e&&null!=S.extensionASTNodes?S.extensionASTNodes=S.extensionASTNodes.concat(null!==(c=null==y?void 0:y.extensionASTNodes)&&void 0!==c?c:[]):"extensions"===e&&null!=S.extensions&&null!=y.extensions?S.extensions=Object.assign(Object.create(null),S.extensions,y.extensions):S[e]=y[e];else if(Ot(S)){const e=S.toConfig(),t=e.values;for(const n in y)n.startsWith("__")?e[n.substring(2)]=y[n]:"astNode"===n&&null!=e.astNode?e.astNode={...e.astNode,description:null!==(d=null===(u=null==y?void 0:y.astNode)||void 0===u?void 0:u.description)&&void 0!==d?d:e.astNode.description,directives:(null!==(l=e.astNode.directives)&&void 0!==l?l:[]).concat(null!==(f=null===(p=null==y?void 0:y.astNode)||void 0===p?void 0:p.directives)&&void 0!==f?f:[])}:"extensionASTNodes"===n&&null!=e.extensionASTNodes?e.extensionASTNodes=e.extensionASTNodes.concat(null!==(h=null==y?void 0:y.extensionASTNodes)&&void 0!==h?h:[]):"extensions"===n&&null!=S.extensions&&null!=y.extensions?S.extensions=Object.assign(Object.create(null),S.extensions,y.extensions):t[n]&&(t[n].value=y[n]);m[n]=new sn(e)}else if(Nt(S))for(const e in y)e.startsWith("__")&&(S[e.substring(2)]=y[e]);else if(It(S)||Pt(S))for(const e in y){if(e.startsWith("__")){S[e.substring(2)]=y[e];continue}const t=S.getFields()[e];if(null!=t){const n=y[e];"function"==typeof n?t.resolve=n.bind(y):Jo(t,n)}}}return Lo(e,Po),Mo(e),Lo(e,No),null!=n&&Go(e,(e=>{e.resolve||(e.resolve=n)})),e}(e,c,n):function(e,t,n){return e=Oo(e,{[Eo.SCALAR_TYPE]:e=>{var n,r,s,o,i,a;const c=e.toConfig(),u=t[e.name];if(!En(e)&&null!=u){for(const t in u)t.startsWith("__")?c[t.substring(2)]=u[t]:"astNode"===t&&null!=c.astNode?c.astNode={...c.astNode,description:null!==(r=null===(n=null==u?void 0:u.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:c.astNode.description,directives:(null!==(s=c.astNode.directives)&&void 0!==s?s:[]).concat(null!==(i=null===(o=null==u?void 0:u.astNode)||void 0===o?void 0:o.directives)&&void 0!==i?i:[])}:"extensionASTNodes"===t&&null!=c.extensionASTNodes?c.extensionASTNodes=c.extensionASTNodes.concat(null!==(a=null==u?void 0:u.extensionASTNodes)&&void 0!==a?a:[]):"extensions"===t&&null!=c.extensions&&null!=u.extensions?c.extensions=Object.assign(Object.create(null),e.extensions,u.extensions):c[t]=u[t];return new Ht(c)}},[Eo.ENUM_TYPE]:e=>{var n,r,s,o,i,a;const c=t[e.name],u=e.toConfig(),d=u.values;if(null!=c){for(const t in c)t.startsWith("__")?u[t.substring(2)]=c[t]:"astNode"===t&&null!=u.astNode?u.astNode={...u.astNode,description:null!==(r=null===(n=null==c?void 0:c.astNode)||void 0===n?void 0:n.description)&&void 0!==r?r:u.astNode.description,directives:(null!==(s=u.astNode.directives)&&void 0!==s?s:[]).concat(null!==(i=null===(o=null==c?void 0:c.astNode)||void 0===o?void 0:o.directives)&&void 0!==i?i:[])}:"extensionASTNodes"===t&&null!=u.extensionASTNodes?u.extensionASTNodes=u.extensionASTNodes.concat(null!==(a=null==c?void 0:c.extensionASTNodes)&&void 0!==a?a:[]):"extensions"===t&&null!=u.extensions&&null!=c.extensions?u.extensions=Object.assign(Object.create(null),e.extensions,c.extensions):d[t]&&(d[t].value=c[t]);return new sn(u)}},[Eo.UNION_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new nn(t)}},[Eo.OBJECT_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__isTypeOf&&(t.isTypeOf=n.__isTypeOf),new Kt(t)}},[Eo.INTERFACE_TYPE]:e=>{const n=t[e.name];if(null!=n){const t=e.toConfig();return n.__resolveType&&(t.resolveType=n.__resolveType),new tn(t)}},[Eo.COMPOSITE_FIELD]:(e,n,r)=>{const s=t[r];if(null!=s){const t=s[n];if(null!=t){const n={...e};return"function"==typeof t?n.resolve=t.bind(s):Jo(n,t),n}}}}),null!=n&&(e=Oo(e,{[Eo.OBJECT_FIELD]:e=>({...e,resolve:null!=e.resolve?e.resolve:n})})),e}(e,c,n),a&&"ignore"!==a&&function(e,t){Oo(e,{[Eo.ABSTRACT_TYPE]:e=>{if(!e.resolveType){const n=`Type "${e.name}" is missing a "__resolveType" resolver. Pass 'ignore' into "resolverValidationOptions.requireResolversForResolveType" to disable this error.`;if("error"===t)throw new Error(n);"warn"===t&&console.warn(n)}}})}(e,a),e}({schema:a,resolvers:Ho(t),resolverValidationOptions:n,inheritResolversFromInterfaces:r,updateResolversInPlace:s}),Object.keys(n).length>0&&function(e,t={}){const{requireResolversForArgs:n,requireResolversForNonScalar:r,requireResolversForAllFields:s}=t;if(s&&(n||r))throw new TypeError("requireResolversForAllFields takes precedence over the more specific assertions. Please configure either requireResolversForAllFields or requireResolversForArgs / requireResolversForNonScalar, but not a combination of them.");Go(e,((e,t,o)=>{s&&Vo("requireResolversForAllFields",s,e,t,o),n&&e.args.length>0&&Vo("requireResolversForArgs",n,e,t,o),"ignore"===r||kt(Ft(e.type))||Vo("requireResolversForNonScalar",r,e,t,o)}))}(a,n),o&&function(e,t){wi(e,t.schemaExtensions);for(const[n,r]of Object.entries(t.types||{})){const t=e.getType(n);if(t)if(wi(t,r.extensions),"object"===r.type||"interface"===r.type)for(const[e,n]of Object.entries(r.fields)){const r=t.getFields()[e];if(r){wi(r,n.extensions);for(const[e,t]of Object.entries(n.arguments))wi(r.args.find((t=>t.name===e)),t)}}else if("input"===r.type)for(const[e,n]of Object.entries(r.fields))wi(t.getFields()[e],n.extensions);else if("enum"===r.type)for(const[e,n]of Object.entries(r.values))wi(t.getValue(e),n)}}(a,o=Uo($s(o))),a}({typeDefs:Hg,resolvers:Kg}),Yg=new class{constructor(e){this.processorId=va.generateId(),this.documents={},this.docSetsBySelector={},this.docSets={},this.filters={},this.customTags={heading:[],paragraph:[],char:[],word:[],intro:[],introHeading:[]},this.emptyBlocks=[],this.selectors=e||[{name:"lang",type:"string",regex:"[a-z]{3}"},{name:"abbr",type:"string"}],this.validateSelectorSpec(this.selectors),this.mutex=new Pi,this.nextPeriph=0,this.nextTable=0,this.nextNodes=0}validateSelectors(){if(0===this.selectors.length)throw new Error("No selectors found");for(const[e,t]of this.selectors.entries()){if(!("name"in t))throw new Error(`Selector ${e} has no name`);if(!("type"in t))throw new Error(`Selector ${e} has no type`);if(!["string","integer"].includes(t.type))throw new Error(`Type for selector ${e} must be string or number, not ${t.type}`);if("string"===t.type){if("min"in t)throw new Error("String selector should not include 'min'");if("max"in t)throw new Error("String selector should not include 'max'");if("regex"in t)try{$(t.regex)}catch(e){throw new Error(`Regex '${t.regex}' is not valid: ${e}`)}if("enum"in t)for(const e of t.enum)if("string"!=typeof e)throw new Error(`Enum values for selector ${t.name} should be strings, not '${e}'`)}else{if("regex"in t)throw new Error("Integer selector should not include 'regex'");if("min"in t&&"number"!=typeof t.min)throw new Error(`'min' must be a number, not '${t.min}'`);if("max"in t&&"number"!=typeof t.max)throw new Error(`'max' must be a number, not '${t.max}'`);if("min"in t&&"max"in t&&t.min>t.max)throw new Error(`'min' cannot be greater than 'max' (${t.min} > ${t.max})`);if("enum"in t)for(const e of t.enum)if("number"!=typeof e)throw new Error(`Enum values for selector ${t.name} should be numbers, not '${e}'`)}for(const n of Object.keys(t))if(!["name","type","regex","min","max","enum"].includes(n))throw new Error(`Unexpected key '${n}' in selector ${e}`)}}validateSelectorSpec(e){for(const t of e){if(!t.name)throw new Error(`name not found in selector spec element '${JSON.stringify(t)}'`);if(!t.type)throw new Error(`type not found in selector spec element '${JSON.stringify(t)}'`);if(!["string","integer"].includes(t.type))throw new Error(`Type for spec element must be string or number, not ${t.type}`);for(const e of Object.keys(t))if(!["name","type","regex","min","max","enum"].includes(e))throw new Error(`Unexpected key '${e}' in selectorSpec`)}}selectorString(e){return this.selectors.map((e=>e.name)).map((t=>`${e[t]}`)).join("_")}processor(){return"Proskomma JS"}packageVersion(){return"0.10.4"}docSetList(){return Object.values(this.docSets)}docSetsById(e){return Object.values(this.docSets).filter((t=>e.includes(t.id)))}docSetById(e){return this.docSets[e]}docSetsWithBook(e){const t=Object.values(this.documents).filter((t=>"bookCode"in t.headers&&t.headers.bookCode===e)).map((e=>e.id));return Object.values(this.docSets).filter((e=>(e=>{for(const n of t)if(e.docIds.includes(n))return!0;return!1})(e)))}nDocSets(){return this.docSetList().length}nDocuments(){return this.documentList().length}documentList(){return Object.values(this.documents)}documentById(e){return this.documents[e]}documentsById(e){return Object.values(this.documents).filter((t=>e.includes(t.id)))}documentsWithBook(e){return Object.values(this.documents).filter((t=>"bookCode"in t.headers&&t.headers.bookCode===e))}importDocument(e,t,n,r,s,o,i){return this.importDocuments(e,t,[n],r,s,o,i)[0]}importDocuments(e,t,n,r,s,o,i){r||(r=this.filters),s||(s=this.customTags),o||(o=this.emptyBlocks),i||(i=[]);const a=this.findOrMakeDocSet(e),c=this.docSets[a];c.buildPreEnums();const u=[];for(const e of n){let n=new rg(this,a,t,e,r,s,o,i);const d=n.headers.bookCode;if(Object.values(this.documents).filter((e=>c.docIds.includes(e.id))).map((e=>e.headers.bookCode)).includes(d))throw new Error(`Attempt to import document with bookCode '${d}' which already exists in docSet ${a}`);this.addDocument(n,a),u.push(n)}return c.preEnums={},u}importUsfmPeriph(e,t,n,r,s,o){const i=t.toString().split(/[\n\r]+/),a=i[0].substring(4,7);if(!["FRT","BAK","INT"].includes(a))throw new Error(`importUsfmInt() expected bookCode of FRT, BAK or INT, not '${a}'`);let c=[];for(const e of i)if("\\periph"===e.substring(0,7)){let t=$.exec(e,$('^\\\\periph (.*)\\|\\s*id\\s*=\\s*"([^"]+)"\\s*$'));if(!t)throw new Error(`Unable to parse periph line '${e}'`);const n=t[1],r=t[2],s=`\\id P${this.nextPeriph>9?this.nextPeriph:"0"+this.nextPeriph}`;c.push([`${s} INT ${r} - ${n}`]),this.nextPeriph++}else c.length>0&&"\\id"!==e.substring(0,3)&&c[c.length-1].push(e);this.importDocuments(e,"usfm",c.map((e=>e.join("\n"))),n,r,s,o)}cleanUsfm(e,t){t=t||{};const n=e.toString().split(/[\n\r]+/),r=[];let s=!0;const o=["\\id","\\ide","\\usfm","\\sts","\\rem","\\h","\\toc"];for(const e of n){const n=e.split(" ")[0].replace(/[0-9]+/g,"");if("remove"in t&&t.remove.includes(n))continue;const i=o.includes(n);s&&!i&&"\\mt"!==n&&r.push("\\mt1 USFM"),r.push(e),i||(s=!1)}return r.join("\n")}deleteDocSet(e){if(!(e in this.docSets))return!1;for(const t of Object.entries(this.documents).filter((t=>t[1].docSetId===e)).map((e=>e[0])))this.deleteDocument(e,t,!1,!1);let t=this.docSetsBySelector;const n=this.selectors.slice(0,this.selectors.length-1);for(const r of n)t=t[this.docSets[e].selectors[r.name]];const r=this.selectors[this.selectors.length-1].name,s=this.docSets[e].selectors[r];if(!t[s])throw new Error(`Could not find docSetId '${e}' in docSetsBySelector in deleteDocSet`);return delete t[s],delete this.docSets[e],!0}deleteDocument(e,t,n,r){return n=void 0===n||n,r=void 0===r||r,e in this.docSets&&t in this.documents&&(delete this.documents[t],this.docSets[e].docIds.length>1?(this.docSets[e].docIds=this.docSets[e].docIds.filter((e=>e!==t)),r&&this.rehashDocSet(e)):n&&this.deleteDocSet(e),!0)}rehashDocSet(e){return e in this.docSets&&this.docSets[e].rehash()}addDocument(e,t){this.documents[e.id]=e,this.docSets[t].docIds.push(e.id),this.docSets[t].buildEnumIndexes()}loadSuccinctDocSet(e){const t=e.id;if(t in this.docSets)throw new Error(`Attempting to succinct load docSet ${t} which is already loaded`);const n=new Ha(this,null,null,e),r=n.id;this.docSets[r]=n;let s=this.docSetsBySelector;const o=e.metadata.selectors;for(const e of this.selectors)e.name===this.selectors[this.selectors.length-1].name?o[e.name]in s||(s[o[e.name]]=n,this.docSets[n.id]=n):(o[e.name]in s||(s[o[e.name]]={}),s=s[o[e.name]]);n.buildPreEnums();const i=[];for(const t of Object.keys(e.docs)){let n=this.newDocumentFromSuccinct(t,e);i.push(n)}return n.preEnums={},i}newDocumentFromSuccinct(e,t){const n=new rg(this,t.id);n.id=e;const r=t.docs[e];n.filterOptions={},n.customTags=[],n.emptyBlocks=[],n.tags=new Set(r.tags),n.headers=r.headers,n.mainId=r.mainId,n.sequences={};for(const[e,t]of Object.entries(r.sequences)){if(n.sequences[e]={id:e,type:t.type,tags:new Set(t.tags),blocks:[]},"main"===t.type){if(n.sequences[e].chapters={},!("chapters"in t))throw new Error("chapters not found in main sequence");for(const[r,s]of Object.entries(t.chapters)){const t=new va.ByteArray;t.fromBase64(s),n.sequences[e].chapters[r]=t}if(n.sequences[e].chapterVerses={},!("chapterVerses"in t))throw new Error("chapterVerses not found in main sequence");for(const[r,s]of Object.entries(t.chapterVerses)){const t=new va.ByteArray;t.fromBase64(s),n.sequences[e].chapterVerses[r]=t}if(!("tokensPresent"in t))throw new Error("tokensPresent not found in main sequence");n.sequences[e].tokensPresent=new Ri(t.tokensPresent)}for(const r of t.blocks){const t={};for(const[e,n]of Object.entries(r)){const r=new va.ByteArray(256);r.fromBase64(n),t[e]=r}n.sequences[e].blocks.push(t)}}return this.addDocument(n,t.id),n}findOrMakeDocSet(e){let t,n=this.docSetsBySelector;for(const r of this.selectors)r.name===this.selectors[this.selectors.length-1].name?e[r.name]in n?t=n[e[r.name]]:(t=new Ha(this,e),n[e[r.name]]=t,this.docSets[t.id]=t):(e[r.name]in n||(n[e[r.name]]={}),n=n[e[r.name]]);return t.id}async gqlQuery(e,t){const n=await this.mutex.acquire();try{const n=await(r={schema:Xg,source:e,rootValue:this,contextValue:{}},new Promise((e=>e(Ns(r)))));return t&&t(n),n}finally{n()}var r}gqlQuerySync(e,t){const n=function(e){const t=Ns(e);if(U(t))throw new Error("GraphQL execution failed to complete synchronously.");return t}({schema:Xg,source:e,rootValue:this,contextValue:{}});return t&&t(n),n}serializeSuccinct(e){return this.docSets[e].serializeSuccinct()}checksum(){const e=Object.values(this.docSets).map((e=>e.checksum())).sort().join(" ");return xi.calculate(e)}};window.test=function(e,t){console.log(JSON.stringify({query:e,usfm:t},null,2));try{Yg.importDocument({lang:"eng",abbr:"ust"},"usfm",t)}catch(e){console.log(2),console.log(e.message)}return JSON.stringify(Yg.gqlQuerySync(e))}})();